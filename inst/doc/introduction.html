<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Julien Barnier" />

<meta name="date" content="2020-03-10" />

<title>scatterD3 : a Visual Guide</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbChjb2RlKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCFlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXN1bHQgPSBldmFsKCIoIiArIGNvZGUgKyAiKSIpOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0U2l6aW5nKGVsKSB7CiAgICB2YXIgc2l6aW5nID0gc2l6aW5nUG9saWN5KGVsKTsKICAgIGlmICghc2l6aW5nKQogICAgICByZXR1cm47CgogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOwogICAgaWYgKCFjZWwpCiAgICAgIHJldHVybjsKCiAgICBpZiAodHlwZW9mKHNpemluZy5wYWRkaW5nKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7CiAgICB9CgogICAgaWYgKHNpemluZy5maWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgaWYgKGNlbCkgewogICAgICAgIGNlbC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICAgdmFyIHBhZCA9IHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpOwogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUucmlnaHQgPSBwYWQucmlnaHQgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5ib3R0b20gPSBwYWQuYm90dG9tICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsKICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgZWwuc3R5bGUud2lkdGggPSBweChzaXppbmcud2lkdGgpOwogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwogICAgfQogIH0KCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMKICB2YXIgZGVmYXVsdHMgPSB7CiAgICBmaW5kOiBmdW5jdGlvbihzY29wZSkgewogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsKICAgIH0sCiAgICByZW5kZXJFcnJvcjogZnVuY3Rpb24oZWwsIGVycikgewogICAgICB2YXIgJGVsID0gJChlbCk7CgogICAgICB0aGlzLmNsZWFyRXJyb3IoZWwpOwoKICAgICAgLy8gQWRkIGFsbCB0aGVzZSBlcnJvciBjbGFzc2VzLCBhcyBTaGlueSBkb2VzCiAgICAgIHZhciBlcnJDbGFzcyA9ICJzaGlueS1vdXRwdXQtZXJyb3IiOwogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsKICAgICAgICAvLyB1c2UgdGhlIGNsYXNzZXMgb2YgdGhlIGVycm9yIGNvbmRpdGlvbiBhcyBDU1MgY2xhc3MgbmFtZXMKICAgICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiAiICsgJC5tYXAoYXNBcnJheShlcnIudHlwZSksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7CiAgICAgICAgfSkuam9pbigiICIpOwogICAgICB9CiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsKCiAgICAgIC8vIElzIGVsIGlubGluZSBvciBibG9jaz8gSWYgaW5saW5lIG9yIGlubGluZS1ibG9jaywganVzdCBkaXNwbGF5Om5vbmUgaXQKICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuCiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmNzcygiZGlzcGxheSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBkaXNwbGF5KTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgICRlbC5oaWRlKCk7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yU3BhbiA9ICQoIjxzcGFuPiIpLmFkZENsYXNzKGVyckNsYXNzKTsKICAgICAgICAgIGVycm9yU3Bhbi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKSB7CiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUKICAgICAgICAvLyBlbCwgYW5kIHBvc2l0aW9uIHRoZSBlcnJvciB0byBiZSBvbiB0b3Agb2YgdGhlIGVsLgogICAgICAgIC8vIE1hcmsgaXQgd2l0aCBhIHVuaXF1ZSBJRCBhbmQgQ1NTIGNsYXNzIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIuCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JEaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKGVyckNsYXNzKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikKICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgLy8gc2V0dGluZyB3aWR0aCBjYW4gcHVzaCBvdXQgdGhlIHBhZ2Ugc2l6ZSwgZm9yY2luZyBvdGhlcndpc2UKICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcgogICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0byBzaHJpbms7IHNvIHVzZSBtYXgtd2lkdGggaW5zdGVhZAogICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgZXJyb3JEaXYudGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JEaXYpOwoKICAgICAgICAgIC8vIFJlYWxseSBkdW1iIHdheSB0byBrZWVwIHRoZSBzaXplL3Bvc2l0aW9uIG9mIHRoZSBlcnJvciBpbiBzeW5jIHdpdGgKICAgICAgICAgIC8vIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgd2luZG93IGlzIHJlc2l6ZWQgb3Igd2hhdGV2ZXIuCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCFlcnJvckRpdlswXS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRJZCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yRGl2CiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24oZWwpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICB2YXIgZGlzcGxheSA9ICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBudWxsKTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgIGlmIChkaXNwbGF5KQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIil7CiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNpemluZzoge30KICB9OwoKICAvLyBDYWxsZWQgYnkgd2lkZ2V0IGJpbmRpbmdzIHRvIHJlZ2lzdGVyIGEgbmV3IHR5cGUgb2Ygd2lkZ2V0LiBUaGUgZGVmaW5pdGlvbgogIC8vIG9iamVjdCBjYW4gY29udGFpbiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUKICAvLyAgIHVzZWQgYnkgZGVmYXVsdCBhcyB0aGUgQ1NTIGNsYXNzbmFtZSB0byBsb29rIGZvci4KICAvLyAtIGluaXRpYWxpemUgKG9wdGlvbmFsKSAtIEEgZnVuY3Rpb24oZWwpIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQKICAvLyAgIHZhbHVlIHRvIHJlbmRlclZhbHVlLgogIC8vIC0gcmVuZGVyVmFsdWUgKHJlcXVpcmVkKSAtIEEgZnVuY3Rpb24oZWwsIGRhdGEsIGluaXRWYWx1ZSkgdGhhdCB3aWxsIGJlCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgZWxlbWVudDsgU2hpbnkgYXBwcyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHBlcgogIC8vICAgZWxlbWVudCwgYXMgdGhlIGRhdGEgY2hhbmdlcy4KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogICAgaWYgKCFkZWZpbml0aW9uLm5hbWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgbmFtZSIpOwogICAgfQogICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgdHlwZSIpOwogICAgfQogICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydCBvdXRwdXQgd2lkZ2V0cwogICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0gIm91dHB1dCIpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOwogICAgfQogICAgLy8gVE9ETzogVmVyaWZ5IHRoYXQgLm5hbWUgaXMgYSB2YWxpZCBDU1MgY2xhc3NuYW1lCgogICAgLy8gU3VwcG9ydCBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMuIE9sZC1zdHlsZSBjbGFzcy1ib3VuZAogICAgLy8gZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0ICJvYmplY3QiIHBlciB3aWRnZXQgcGVyIHR5cGUvY2xhc3Mgb2YKICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzCiAgICAvLyB0YWtlIGVsIGFuZCBpbnN0YW5jZSBhcmd1bWVudHMsIGJlY2F1c2UgdGhlIHdpZGdldCBvYmplY3QgY2FuJ3QKICAgIC8vIHN0b3JlIHRoZW0uIE5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQKICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QKICAgIC8vIHByb3ZpZGUgcmVuZGVyVmFsdWUgb3IgcmVzaXplIG1ldGhvZHMgYXQgYWxsLCBqdXN0IHRoZSBzaW5nbGUgbWV0aG9kCiAgICAvLyAgIGZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLgogICAgLy8gVGhpcyBlbmFibGVzIGEgZmFyIG1vcmUgbmF0dXJhbCBwcm9ncmFtbWluZyBzdHlsZSBmb3IgdGhlIHdpZGdldAogICAgLy8gYXV0aG9yLCB3aG8gY2FuIHN0b3JlIHBlci1pbnN0YW5jZSBzdGF0ZSB1c2luZyBlaXRoZXIgT08tc3R5bGUKICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMKICAgIC8vIGlzIGluIGNvbnRyYXN0IHRvIHdoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIEMtc3R5bGUgcHNldWRvLU9PIHdoaWNoIGlzCiAgICAvLyB3aGF0IHdlIHJlcXVpcmVkIGJlZm9yZSkuCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7CiAgICAgIGRlZmluaXRpb24gPSBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZpbml0aW9uKTsKICAgIH0KCiAgICBpZiAoIWRlZmluaXRpb24ucmVuZGVyVmFsdWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgcmVuZGVyVmFsdWUgZnVuY3Rpb24iKTsKICAgIH0KCiAgICAvLyBGb3Igc3RhdGljIHJlbmRlcmluZyAobm9uLVNoaW55KSwgdXNlIGEgc2ltcGxlIHdpZGdldCByZWdpc3RyYXRpb24KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbwogICAgLy8gY29udGFpbiBzdGF0aWMgd2lkZ2V0cy4KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICB2YXIgc3RhdGljQmluZGluZyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwogICAgb3ZlcnJpZGVNZXRob2Qoc3RhdGljQmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBzdXBlcmZ1bmMoc2NvcGUpOwogICAgICAgIC8vIEZpbHRlciBvdXQgU2hpbnkgb3V0cHV0cywgd2Ugb25seSB3YW50IHRoZSBzdGF0aWMga2luZAogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7CiAgICAgIH07CiAgICB9KTsKICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7CgogICAgaWYgKHNoaW55TW9kZSkgewogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLgogICAgICAvLyBUaGUgZGVmaW5pdGlvbiBpdHNlbGYgd2lsbCBub3QgYmUgdGhlIG91dHB1dCBiaW5kaW5nLCBpbnN0ZWFkCiAgICAgIC8vIHdlIHdpbGwgbWFrZSBhbiBvdXRwdXQgYmluZGluZyBvYmplY3QgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QKICAgICAgLy8gbmFtZSAocmVuZGVyVmFsdWUpIGZvciBodG1sd2lkZ2V0cyBkZWZpbml0aW9uIGFuZCBTaGlueSBiaW5kaW5ncwogICAgICAvLyBidXQgdGhleSBhY3R1YWxseSBoYXZlIHF1aXRlIGRpZmZlcmVudCBzZW1hbnRpY3MgKHRoZSBTaGlueQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQKICAgICAgLy8gc3RyaXBzIG9mZiBiZWZvcmUgY2FsbGluZyBodG1sd2lkZ2V0cyByZW5kZXJWYWx1ZSkuIFdlIGNhbid0CiAgICAgIC8vIGp1c3QgaWdub3JlIHRoZSBkaWZmZXJlbmNlIGJlY2F1c2UgaW4gc29tZSB3aWRnZXRzIGl0J3MgaGVscGZ1bAogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmCiAgICAgIC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nLCB0aGVuIHRoYXQgY2FsbCB3aWxsIGdvIHRvIHRoZSBTaGlueQogICAgICAvLyB2ZXJzaW9uIGluc3RlYWQgb2YgdGhlIGh0bWx3aWRnZXRzIHZlcnNpb24uCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyB3aXRoIGRlZmluaXRpb24sIHdpdGhvdXQgbXV0YXRpbmcgZWl0aGVyLgogICAgICB2YXIgYmluZGluZ0RlZiA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwoKICAgICAgLy8gVGhpcyBvYmplY3Qgd2lsbCBiZSBvdXIgYWN0dWFsIFNoaW55IGJpbmRpbmcuCiAgICAgIHZhciBzaGlueUJpbmRpbmcgPSBuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpOwoKICAgICAgLy8gV2l0aCBhIGZldyBleGNlcHRpb25zLCB3ZSdsbCB3YW50IHRvIHNpbXBseSB1c2UgdGhlIGJpbmRpbmdEZWYncwogICAgICAvLyB2ZXJzaW9uIG9mIG1ldGhvZHMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbAogICAgICAvLyBtZXRob2RzIGluIHRoZSBmdXR1cmUsIGFuZCB3ZSB3YW50IHRoZW0gdG8gYmUgb3ZlcnJpZGVhYmxlIGJ5CiAgICAgIC8vIEhUTUxXaWRnZXQgYmluZGluZyBkZWZpbml0aW9ucywgdGhlbiB3ZSdsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoaXMKICAgICAgLy8gbGlzdC4KICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiZ2V0SWQiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUNoYW5nZSIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAicmVuZGVyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiY2xlYXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsKCiAgICAgIC8vIFRoZSBmaW5kLCByZW5kZXJWYWx1ZSwgYW5kIHJlc2l6ZSBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseSwgYmVjYXVzZSB3ZQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLgoKICAgICAgc2hpbnlCaW5kaW5nLmZpbmQgPSBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsKCiAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsKCiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdoYXRldmVyIGNhdXNlZCBTaGlueSB0byB0aGluayB0aGVyZSBtaWdodCBiZQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAvLyBTaW5jZSB0aGVyZSBtaWdodCBiZSBsb3RzIG9mIGRpZmZlcmVudCBodG1sd2lkZ2V0cyBiaW5kaW5ncywgd2UKICAgICAgICAvLyBzY2hlZHVsZSBleGVjdXRpb24gZm9yIGxhdGVyLS1ubyBuZWVkIHRvIHN0YXRpY1JlbmRlciBtdWx0aXBsZQogICAgICAgIC8vIHRpbWVzLgogICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPT0gZHluYW1pY1Jlc3VsdHMubGVuZ3RoKQogICAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXIoKTsKCiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICB9OwoKICAgICAgLy8gV3JhcCByZW5kZXJWYWx1ZSB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24sIHdoaWNoIHVuZm9ydHVuYXRlbHkgaXNuJ3QKICAgICAgLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IFNoaW55IGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZy4KCiAgICAgIHNoaW55QmluZGluZy5yZW5kZXJWYWx1ZSA9IGZ1bmN0aW9uKGVsLCBkYXRhKSB7CiAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBkYXRhLmV2YWxzICYmIGkgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2ldKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFiaW5kaW5nRGVmLnJlbmRlck9uTnVsbFZhbHVlKSB7CiAgICAgICAgICBpZiAoZGF0YS54ID09PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgIGluaXRTaXppbmcoZWwpOwoKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsKICAgICAgICAgIGlmIChiaW5kaW5nRGVmLmluaXRpYWxpemUpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJpbmRpbmdEZWYuaW5pdGlhbGl6ZShlbCwgZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHsKICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCgogIGZ1bmN0aW9uIGhhc19qUXVlcnkzKCkgewogICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciAkdmVyc2lvbiA9IHdpbmRvdy5qUXVlcnkuZm4uanF1ZXJ5OwogICAgdmFyICRtYWpvcl92ZXJzaW9uID0gcGFyc2VJbnQoJHZlcnNpb24uc3BsaXQoIi4iKVswXSk7CiAgICByZXR1cm4gJG1ham9yX3ZlcnNpb24gPj0gMzsKICB9CgogIC8qCiAgLyBTaGlueSAxLjQgYnVtcGVkIGpRdWVyeSBmcm9tIDEueCB0byAzLnggd2hpY2ggbWVhbnMgalF1ZXJ5J3MKICAvIG9uLXJlYWR5IGhhbmRsZXIgKGkuZS4sICQoZm4pKSBpcyBub3cgYXN5bmNyb25vdXMgKGkuZS4sIGl0IG5vdwogIC8gcmVhbGx5IG1lYW5zICQoc2V0VGltZW91dChmbikpLgogIC8gaHR0cHM6Ly9qcXVlcnkuY29tL3VwZ3JhZGUtZ3VpZGUvMy4wLyNicmVha2luZy1jaGFuZ2UtZG9jdW1lbnQtcmVhZHktaGFuZGxlcnMtYXJlLW5vdy1hc3luY2hyb25vdXMKICAvCiAgLyBTaW5jZSBTaGlueSB1c2VzICQoKSB0byBzY2hlZHVsZSBpbml0U2hpbnksIHNoaW55Pj0xLjQgY2FsbHMgaW5pdFNoaW55CiAgLyBvbmUgdGljayBsYXRlciB0aGFuIGl0IGRpZCBiZWZvcmUsIHdoaWNoIG1lYW5zIHN0YXRpY1JlbmRlcigpIGlzCiAgLyBjYWxsZWQgcmVuZGVyVmFsdWUoKSBlYXJsaWVyIHRoYW4gKGFkdmFuY2VkKSB3aWRnZXQgYXV0aG9ycyBtaWdodCBiZSBleHBlY3RpbmcuCiAgLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9zaGlueS9pc3N1ZXMvMjYzMAogIC8KICAvIEZvciBhIGNvbmNyZXRlIGV4YW1wbGUsIGxlYWZsZXQgaGFzIHNvbWUgbWV0aG9kcyAoZS5nLiwgdXBkYXRlQm91bmRzKQogIC8gd2hpY2ggcmVmZXJlbmNlIFNoaW55IG1ldGhvZHMgcmVnaXN0ZXJlZCBpbiBpbml0U2hpbnkgKGUuZy4sIHNldElucHV0VmFsdWUpLgogIC8gU2luY2UgbGVhZmxldCBpcyBwcml2eSB0byB0aGlzIGxpZmUtY3ljbGUsIGl0IGtub3dzIHRvIHVzZSBzZXRUaW1lb3V0KCkgdG8KICAvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aG9zZSBtZXRob2RzICh1bnRpbCBTaGlueSBtZXRob2RzIGFyZSByZWFkeSkKICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL2xlYWZsZXQvYmxvYi8xOGVjOTgxL2phdmFzY3JpcHQvc3JjL2luZGV4LmpzI0wyNjYtTDI2OAogIC8KICAvIElkZWFsbHkgd2lkZ2V0IGF1dGhvcnMgd291bGRuJ3QgbmVlZCB0byB1c2UgdGhpcyBzZXRUaW1lb3V0KCkgaGFjayB0aGF0CiAgLyBsZWFmbGV0IHVzZXMgdG8gY2FsbCBTaGlueSBtZXRob2RzIG9uIGEgc3RhdGljUmVuZGVyKCkuIEluIHRoZSBsb25nIHJ1biwKICAvIHRoZSBsb2dpYyBpbml0U2hpbnkgc2hvdWxkIGJlIGJyb2tlbiB1cCBzbyB0aGF0IG1ldGhvZCByZWdpc3RyYXRpb24gaGFwcGVucwogIC8gcmlnaHQgYXdheSwgYnV0IGJpbmRpbmcgaGFwcGVucyBsYXRlci4KICAqLwogIGZ1bmN0aW9uIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKSB7CiAgICBpZiAoc2hpbnlNb2RlICYmIGhhc19qUXVlcnkzKCkpIHsKICAgICAgd2luZG93LmpRdWVyeSh3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IHRyeUV2YWwob1twYXJ0XSk7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
<script src="data:application/x-javascript;base64,Ly8gaHR0cHM6Ly9kM2pzLm9yZyB2NS45LjIgQ29weXJpZ2h0IDIwMTkgTWlrZSBCb3N0b2NrCiFmdW5jdGlvbih0LG4peyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bihleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxuKTpuKHQuZDN2NT10LmQzdjV8fHt9KX0odGhpcyxmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0LG4pe3JldHVybiB0PG4/LTE6dD5uPzE6dD49bj8wOk5hTn1mdW5jdGlvbiBlKHQpe3ZhciBlO3JldHVybiAxPT09dC5sZW5ndGgmJihlPXQsdD1mdW5jdGlvbih0LHIpe3JldHVybiBuKGUodCkscil9KSx7bGVmdDpmdW5jdGlvbihuLGUscixpKXtmb3IobnVsbD09ciYmKHI9MCksbnVsbD09aSYmKGk9bi5sZW5ndGgpO3I8aTspe3ZhciBvPXIraT4+PjE7dChuW29dLGUpPDA/cj1vKzE6aT1vfXJldHVybiByfSxyaWdodDpmdW5jdGlvbihuLGUscixpKXtmb3IobnVsbD09ciYmKHI9MCksbnVsbD09aSYmKGk9bi5sZW5ndGgpO3I8aTspe3ZhciBvPXIraT4+PjE7dChuW29dLGUpPjA/aT1vOnI9bysxfXJldHVybiByfX19dmFyIHI9ZShuKSxpPXIucmlnaHQsbz1yLmxlZnQ7ZnVuY3Rpb24gYSh0LG4pe3JldHVyblt0LG5dfWZ1bmN0aW9uIHUodCl7cmV0dXJuIG51bGw9PT10P05hTjordH1mdW5jdGlvbiBjKHQsbil7dmFyIGUscixpPXQubGVuZ3RoLG89MCxhPS0xLGM9MCxmPTA7aWYobnVsbD09bilmb3IoOysrYTxpOylpc05hTihlPXUodFthXSkpfHwoZis9KHI9ZS1jKSooZS0oYys9ci8rK28pKSk7ZWxzZSBmb3IoOysrYTxpOylpc05hTihlPXUobih0W2FdLGEsdCkpKXx8KGYrPShyPWUtYykqKGUtKGMrPXIvKytvKSkpO2lmKG8+MSlyZXR1cm4gZi8oby0xKX1mdW5jdGlvbiBmKHQsbil7dmFyIGU9Yyh0LG4pO3JldHVybiBlP01hdGguc3FydChlKTplfWZ1bmN0aW9uIHModCxuKXt2YXIgZSxyLGksbz10Lmxlbmd0aCxhPS0xO2lmKG51bGw9PW4pe2Zvcig7KythPG87KWlmKG51bGwhPShlPXRbYV0pJiZlPj1lKWZvcihyPWk9ZTsrK2E8bzspbnVsbCE9KGU9dFthXSkmJihyPmUmJihyPWUpLGk8ZSYmKGk9ZSkpfWVsc2UgZm9yKDsrK2E8bzspaWYobnVsbCE9KGU9bih0W2FdLGEsdCkpJiZlPj1lKWZvcihyPWk9ZTsrK2E8bzspbnVsbCE9KGU9bih0W2FdLGEsdCkpJiYocj5lJiYocj1lKSxpPGUmJihpPWUpKTtyZXR1cm5bcixpXX12YXIgbD1BcnJheS5wcm90b3R5cGUsaD1sLnNsaWNlLGQ9bC5tYXA7ZnVuY3Rpb24gcCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gdih0KXtyZXR1cm4gdH1mdW5jdGlvbiBnKHQsbixlKXt0PSt0LG49K24sZT0oaT1hcmd1bWVudHMubGVuZ3RoKTwyPyhuPXQsdD0wLDEpOmk8Mz8xOitlO2Zvcih2YXIgcj0tMSxpPTB8TWF0aC5tYXgoMCxNYXRoLmNlaWwoKG4tdCkvZSkpLG89bmV3IEFycmF5KGkpOysrcjxpOylvW3JdPXQrciplO3JldHVybiBvfXZhciB5PU1hdGguc3FydCg1MCksXz1NYXRoLnNxcnQoMTApLGI9TWF0aC5zcXJ0KDIpO2Z1bmN0aW9uIG0odCxuLGUpe3ZhciByLGksbyxhLHU9LTE7aWYoZT0rZSwodD0rdCk9PT0obj0rbikmJmU+MClyZXR1cm5bdF07aWYoKHI9bjx0KSYmKGk9dCx0PW4sbj1pKSwwPT09KGE9eCh0LG4sZSkpfHwhaXNGaW5pdGUoYSkpcmV0dXJuW107aWYoYT4wKWZvcih0PU1hdGguY2VpbCh0L2EpLG49TWF0aC5mbG9vcihuL2EpLG89bmV3IEFycmF5KGk9TWF0aC5jZWlsKG4tdCsxKSk7Kyt1PGk7KW9bdV09KHQrdSkqYTtlbHNlIGZvcih0PU1hdGguZmxvb3IodCphKSxuPU1hdGguY2VpbChuKmEpLG89bmV3IEFycmF5KGk9TWF0aC5jZWlsKHQtbisxKSk7Kyt1PGk7KW9bdV09KHQtdSkvYTtyZXR1cm4gciYmby5yZXZlcnNlKCksb31mdW5jdGlvbiB4KHQsbixlKXt2YXIgcj0obi10KS9NYXRoLm1heCgwLGUpLGk9TWF0aC5mbG9vcihNYXRoLmxvZyhyKS9NYXRoLkxOMTApLG89ci9NYXRoLnBvdygxMCxpKTtyZXR1cm4gaT49MD8obz49eT8xMDpvPj1fPzU6bz49Yj8yOjEpKk1hdGgucG93KDEwLGkpOi1NYXRoLnBvdygxMCwtaSkvKG8+PXk/MTA6bz49Xz81Om8+PWI/MjoxKX1mdW5jdGlvbiB3KHQsbixlKXt2YXIgcj1NYXRoLmFicyhuLXQpL01hdGgubWF4KDAsZSksaT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHIpL01hdGguTE4xMCkpLG89ci9pO3JldHVybiBvPj15P2kqPTEwOm8+PV8/aSo9NTpvPj1iJiYoaSo9Miksbjx0Py1pOml9ZnVuY3Rpb24gTSh0KXtyZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKHQubGVuZ3RoKS9NYXRoLkxOMikrMX1mdW5jdGlvbiBOKHQsbixlKXtpZihudWxsPT1lJiYoZT11KSxyPXQubGVuZ3RoKXtpZigobj0rbik8PTB8fHI8MilyZXR1cm4rZSh0WzBdLDAsdCk7aWYobj49MSlyZXR1cm4rZSh0W3ItMV0sci0xLHQpO3ZhciByLGk9KHItMSkqbixvPU1hdGguZmxvb3IoaSksYT0rZSh0W29dLG8sdCk7cmV0dXJuIGErKCtlKHRbbysxXSxvKzEsdCktYSkqKGktbyl9fWZ1bmN0aW9uIEEodCxuKXt2YXIgZSxyLGk9dC5sZW5ndGgsbz0tMTtpZihudWxsPT1uKXtmb3IoOysrbzxpOylpZihudWxsIT0oZT10W29dKSYmZT49ZSlmb3Iocj1lOysrbzxpOyludWxsIT0oZT10W29dKSYmZT5yJiYocj1lKX1lbHNlIGZvcig7KytvPGk7KWlmKG51bGwhPShlPW4odFtvXSxvLHQpKSYmZT49ZSlmb3Iocj1lOysrbzxpOyludWxsIT0oZT1uKHRbb10sbyx0KSkmJmU+ciYmKHI9ZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gVCh0KXtmb3IodmFyIG4sZSxyLGk9dC5sZW5ndGgsbz0tMSxhPTA7KytvPGk7KWErPXRbb10ubGVuZ3RoO2ZvcihlPW5ldyBBcnJheShhKTstLWk+PTA7KWZvcihuPShyPXRbaV0pLmxlbmd0aDstLW4+PTA7KWVbLS1hXT1yW25dO3JldHVybiBlfWZ1bmN0aW9uIFModCxuKXt2YXIgZSxyLGk9dC5sZW5ndGgsbz0tMTtpZihudWxsPT1uKXtmb3IoOysrbzxpOylpZihudWxsIT0oZT10W29dKSYmZT49ZSlmb3Iocj1lOysrbzxpOyludWxsIT0oZT10W29dKSYmcj5lJiYocj1lKX1lbHNlIGZvcig7KytvPGk7KWlmKG51bGwhPShlPW4odFtvXSxvLHQpKSYmZT49ZSlmb3Iocj1lOysrbzxpOyludWxsIT0oZT1uKHRbb10sbyx0KSkmJnI+ZSYmKHI9ZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gayh0KXtpZighKGk9dC5sZW5ndGgpKXJldHVybltdO2Zvcih2YXIgbj0tMSxlPVModCxFKSxyPW5ldyBBcnJheShlKTsrK248ZTspZm9yKHZhciBpLG89LTEsYT1yW25dPW5ldyBBcnJheShpKTsrK288aTspYVtvXT10W29dW25dO3JldHVybiByfWZ1bmN0aW9uIEUodCl7cmV0dXJuIHQubGVuZ3RofXZhciBDPUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBQKHQpe3JldHVybiB0fXZhciB6PTEsUj0yLEQ9MyxxPTQsTD0xZS02O2Z1bmN0aW9uIFUodCl7cmV0dXJuInRyYW5zbGF0ZSgiKyh0Ky41KSsiLDApIn1mdW5jdGlvbiBPKHQpe3JldHVybiJ0cmFuc2xhdGUoMCwiKyh0Ky41KSsiKSJ9ZnVuY3Rpb24gQigpe3JldHVybiF0aGlzLl9fYXhpc31mdW5jdGlvbiBZKHQsbil7dmFyIGU9W10scj1udWxsLGk9bnVsbCxvPTYsYT02LHU9MyxjPXQ9PT16fHx0PT09cT8tMToxLGY9dD09PXF8fHQ9PT1SPyJ4IjoieSIscz10PT09enx8dD09PUQ/VTpPO2Z1bmN0aW9uIGwobCl7dmFyIGg9bnVsbD09cj9uLnRpY2tzP24udGlja3MuYXBwbHkobixlKTpuLmRvbWFpbigpOnIsZD1udWxsPT1pP24udGlja0Zvcm1hdD9uLnRpY2tGb3JtYXQuYXBwbHkobixlKTpQOmkscD1NYXRoLm1heChvLDApK3Usdj1uLnJhbmdlKCksZz0rdlswXSsuNSx5PSt2W3YubGVuZ3RoLTFdKy41LF89KG4uYmFuZHdpZHRoP2Z1bmN0aW9uKHQpe3ZhciBuPU1hdGgubWF4KDAsdC5iYW5kd2lkdGgoKS0xKS8yO3JldHVybiB0LnJvdW5kKCkmJihuPU1hdGgucm91bmQobikpLGZ1bmN0aW9uKGUpe3JldHVybit0KGUpK259fTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuK3Qobil9fSkobi5jb3B5KCkpLGI9bC5zZWxlY3Rpb24/bC5zZWxlY3Rpb24oKTpsLG09Yi5zZWxlY3RBbGwoIi5kb21haW4iKS5kYXRhKFtudWxsXSkseD1iLnNlbGVjdEFsbCgiLnRpY2siKS5kYXRhKGgsbikub3JkZXIoKSx3PXguZXhpdCgpLE09eC5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwidGljayIpLE49eC5zZWxlY3QoImxpbmUiKSxBPXguc2VsZWN0KCJ0ZXh0Iik7bT1tLm1lcmdlKG0uZW50ZXIoKS5pbnNlcnQoInBhdGgiLCIudGljayIpLmF0dHIoImNsYXNzIiwiZG9tYWluIikuYXR0cigic3Ryb2tlIiwiY3VycmVudENvbG9yIikpLHg9eC5tZXJnZShNKSxOPU4ubWVyZ2UoTS5hcHBlbmQoImxpbmUiKS5hdHRyKCJzdHJva2UiLCJjdXJyZW50Q29sb3IiKS5hdHRyKGYrIjIiLGMqbykpLEE9QS5tZXJnZShNLmFwcGVuZCgidGV4dCIpLmF0dHIoImZpbGwiLCJjdXJyZW50Q29sb3IiKS5hdHRyKGYsYypwKS5hdHRyKCJkeSIsdD09PXo/IjBlbSI6dD09PUQ/IjAuNzFlbSI6IjAuMzJlbSIpKSxsIT09YiYmKG09bS50cmFuc2l0aW9uKGwpLHg9eC50cmFuc2l0aW9uKGwpLE49Ti50cmFuc2l0aW9uKGwpLEE9QS50cmFuc2l0aW9uKGwpLHc9dy50cmFuc2l0aW9uKGwpLmF0dHIoIm9wYWNpdHkiLEwpLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24odCl7cmV0dXJuIGlzRmluaXRlKHQ9Xyh0KSk/cyh0KTp0aGlzLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIil9KSxNLmF0dHIoIm9wYWNpdHkiLEwpLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24odCl7dmFyIG49dGhpcy5wYXJlbnROb2RlLl9fYXhpcztyZXR1cm4gcyhuJiZpc0Zpbml0ZShuPW4odCkpP246Xyh0KSl9KSksdy5yZW1vdmUoKSxtLmF0dHIoImQiLHQ9PT1xfHx0PT1SP2E/Ik0iK2MqYSsiLCIrZysiSDAuNVYiK3krIkgiK2MqYToiTTAuNSwiK2crIlYiK3k6YT8iTSIrZysiLCIrYyphKyJWMC41SCIreSsiViIrYyphOiJNIitnKyIsMC41SCIreSkseC5hdHRyKCJvcGFjaXR5IiwxKS5hdHRyKCJ0cmFuc2Zvcm0iLGZ1bmN0aW9uKHQpe3JldHVybiBzKF8odCkpfSksTi5hdHRyKGYrIjIiLGMqbyksQS5hdHRyKGYsYypwKS50ZXh0KGQpLGIuZmlsdGVyKEIpLmF0dHIoImZpbGwiLCJub25lIikuYXR0cigiZm9udC1zaXplIiwxMCkuYXR0cigiZm9udC1mYW1pbHkiLCJzYW5zLXNlcmlmIikuYXR0cigidGV4dC1hbmNob3IiLHQ9PT1SPyJzdGFydCI6dD09PXE/ImVuZCI6Im1pZGRsZSIpLGIuZWFjaChmdW5jdGlvbigpe3RoaXMuX19heGlzPV99KX1yZXR1cm4gbC5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10LGwpOm59LGwudGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gZT1DLmNhbGwoYXJndW1lbnRzKSxsfSxsLnRpY2tBcmd1bWVudHM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bnVsbD09dD9bXTpDLmNhbGwodCksbCk6ZS5zbGljZSgpfSxsLnRpY2tWYWx1ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bnVsbD09dD9udWxsOkMuY2FsbCh0KSxsKTpyJiZyLnNsaWNlKCl9LGwudGlja0Zvcm1hdD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10LGwpOml9LGwudGlja1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89YT0rdCxsKTpvfSxsLnRpY2tTaXplSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89K3QsbCk6b30sbC50aWNrU2l6ZU91dGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPSt0LGwpOmF9LGwudGlja1BhZGRpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9K3QsbCk6dX0sbH12YXIgRj17dmFsdWU6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBJKCl7Zm9yKHZhciB0LG49MCxlPWFyZ3VtZW50cy5sZW5ndGgscj17fTtuPGU7KytuKXtpZighKHQ9YXJndW1lbnRzW25dKyIiKXx8dCBpbiByKXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiK3QpO3JbdF09W119cmV0dXJuIG5ldyBqKHIpfWZ1bmN0aW9uIGoodCl7dGhpcy5fPXR9ZnVuY3Rpb24gSCh0LG4pe2Zvcih2YXIgZSxyPTAsaT10Lmxlbmd0aDtyPGk7KytyKWlmKChlPXRbcl0pLm5hbWU9PT1uKXJldHVybiBlLnZhbHVlfWZ1bmN0aW9uIFgodCxuLGUpe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpOysrcilpZih0W3JdLm5hbWU9PT1uKXt0W3JdPUYsdD10LnNsaWNlKDAscikuY29uY2F0KHQuc2xpY2UocisxKSk7YnJlYWt9cmV0dXJuIG51bGwhPWUmJnQucHVzaCh7bmFtZTpuLHZhbHVlOmV9KSx0fWoucHJvdG90eXBlPUkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLG9uOmZ1bmN0aW9uKHQsbil7dmFyIGUscixpPXRoaXMuXyxvPShyPWksKHQrIiIpLnRyaW0oKS5zcGxpdCgvXnxccysvKS5tYXAoZnVuY3Rpb24odCl7dmFyIG49IiIsZT10LmluZGV4T2YoIi4iKTtpZihlPj0wJiYobj10LnNsaWNlKGUrMSksdD10LnNsaWNlKDAsZSkpLHQmJiFyLmhhc093blByb3BlcnR5KHQpKXRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiK3QpO3JldHVybnt0eXBlOnQsbmFtZTpufX0pKSxhPS0xLHU9by5sZW5ndGg7aWYoIShhcmd1bWVudHMubGVuZ3RoPDIpKXtpZihudWxsIT1uJiYiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIrbik7Zm9yKDsrK2E8dTspaWYoZT0odD1vW2FdKS50eXBlKWlbZV09WChpW2VdLHQubmFtZSxuKTtlbHNlIGlmKG51bGw9PW4pZm9yKGUgaW4gaSlpW2VdPVgoaVtlXSx0Lm5hbWUsbnVsbCk7cmV0dXJuIHRoaXN9Zm9yKDsrK2E8dTspaWYoKGU9KHQ9b1thXSkudHlwZSkmJihlPUgoaVtlXSx0Lm5hbWUpKSlyZXR1cm4gZX0sY29weTpmdW5jdGlvbigpe3ZhciB0PXt9LG49dGhpcy5fO2Zvcih2YXIgZSBpbiBuKXRbZV09bltlXS5zbGljZSgpO3JldHVybiBuZXcgaih0KX0sY2FsbDpmdW5jdGlvbih0LG4pe2lmKChlPWFyZ3VtZW50cy5sZW5ndGgtMik+MClmb3IodmFyIGUscixpPW5ldyBBcnJheShlKSxvPTA7bzxlOysrbylpW29dPWFyZ3VtZW50c1tvKzJdO2lmKCF0aGlzLl8uaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHR5cGU6ICIrdCk7Zm9yKG89MCxlPShyPXRoaXMuX1t0XSkubGVuZ3RoO288ZTsrK28pcltvXS52YWx1ZS5hcHBseShuLGkpfSxhcHBseTpmdW5jdGlvbih0LG4sZSl7aWYoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0KSl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIit0KTtmb3IodmFyIHI9dGhpcy5fW3RdLGk9MCxvPXIubGVuZ3RoO2k8bzsrK2kpcltpXS52YWx1ZS5hcHBseShuLGUpfX07dmFyIEc9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLFY9e3N2ZzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHhodG1sOkcseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhtbDoiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIix4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8ifTtmdW5jdGlvbiAkKHQpe3ZhciBuPXQrPSIiLGU9bi5pbmRleE9mKCI6Iik7cmV0dXJuIGU+PTAmJiJ4bWxucyIhPT0obj10LnNsaWNlKDAsZSkpJiYodD10LnNsaWNlKGUrMSkpLFYuaGFzT3duUHJvcGVydHkobik/e3NwYWNlOlZbbl0sbG9jYWw6dH06dH1mdW5jdGlvbiBXKHQpe3ZhciBuPSQodCk7cmV0dXJuKG4ubG9jYWw/ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModC5zcGFjZSx0LmxvY2FsKX19OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMub3duZXJEb2N1bWVudCxlPXRoaXMubmFtZXNwYWNlVVJJO3JldHVybiBlPT09RyYmbi5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJPT09Rz9uLmNyZWF0ZUVsZW1lbnQodCk6bi5jcmVhdGVFbGVtZW50TlMoZSx0KX19KShuKX1mdW5jdGlvbiBaKCl7fWZ1bmN0aW9uIFEodCl7cmV0dXJuIG51bGw9PXQ/WjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3IodCl9fWZ1bmN0aW9uIEooKXtyZXR1cm5bXX1mdW5jdGlvbiBLKHQpe3JldHVybiBudWxsPT10P0o6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKHQpfX1mdW5jdGlvbiB0dCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaGVzKHQpfX1mdW5jdGlvbiBudCh0KXtyZXR1cm4gbmV3IEFycmF5KHQubGVuZ3RoKX1mdW5jdGlvbiBldCh0LG4pe3RoaXMub3duZXJEb2N1bWVudD10Lm93bmVyRG9jdW1lbnQsdGhpcy5uYW1lc3BhY2VVUkk9dC5uYW1lc3BhY2VVUkksdGhpcy5fbmV4dD1udWxsLHRoaXMuX3BhcmVudD10LHRoaXMuX19kYXRhX189bn1ldC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmV0LGFwcGVuZENoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKHQsdGhpcy5fbmV4dCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKHQsbil9LHF1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHQpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbCh0KX19O3ZhciBydD0iJCI7ZnVuY3Rpb24gaXQodCxuLGUscixpLG8pe2Zvcih2YXIgYSx1PTAsYz1uLmxlbmd0aCxmPW8ubGVuZ3RoO3U8ZjsrK3UpKGE9blt1XSk/KGEuX19kYXRhX189b1t1XSxyW3VdPWEpOmVbdV09bmV3IGV0KHQsb1t1XSk7Zm9yKDt1PGM7Kyt1KShhPW5bdV0pJiYoaVt1XT1hKX1mdW5jdGlvbiBvdCh0LG4sZSxyLGksbyxhKXt2YXIgdSxjLGYscz17fSxsPW4ubGVuZ3RoLGg9by5sZW5ndGgsZD1uZXcgQXJyYXkobCk7Zm9yKHU9MDt1PGw7Kyt1KShjPW5bdV0pJiYoZFt1XT1mPXJ0K2EuY2FsbChjLGMuX19kYXRhX18sdSxuKSxmIGluIHM/aVt1XT1jOnNbZl09Yyk7Zm9yKHU9MDt1PGg7Kyt1KShjPXNbZj1ydCthLmNhbGwodCxvW3VdLHUsbyldKT8oclt1XT1jLGMuX19kYXRhX189b1t1XSxzW2ZdPW51bGwpOmVbdV09bmV3IGV0KHQsb1t1XSk7Zm9yKHU9MDt1PGw7Kyt1KShjPW5bdV0pJiZzW2RbdV1dPT09YyYmKGlbdV09Yyl9ZnVuY3Rpb24gYXQodCxuKXtyZXR1cm4gdDxuPy0xOnQ+bj8xOnQ+PW4/MDpOYU59ZnVuY3Rpb24gdXQodCl7cmV0dXJuIHQub3duZXJEb2N1bWVudCYmdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fHx0LmRvY3VtZW50JiZ0fHx0LmRlZmF1bHRWaWV3fWZ1bmN0aW9uIGN0KHQsbil7cmV0dXJuIHQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuKXx8dXQodCkuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUobil9ZnVuY3Rpb24gZnQodCl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9efFxzKy8pfWZ1bmN0aW9uIHN0KHQpe3JldHVybiB0LmNsYXNzTGlzdHx8bmV3IGx0KHQpfWZ1bmN0aW9uIGx0KHQpe3RoaXMuX25vZGU9dCx0aGlzLl9uYW1lcz1mdCh0LmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfWZ1bmN0aW9uIGh0KHQsbil7Zm9yKHZhciBlPXN0KHQpLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspZS5hZGQobltyXSl9ZnVuY3Rpb24gZHQodCxuKXtmb3IodmFyIGU9c3QodCkscj0tMSxpPW4ubGVuZ3RoOysrcjxpOyllLnJlbW92ZShuW3JdKX1mdW5jdGlvbiBwdCgpe3RoaXMudGV4dENvbnRlbnQ9IiJ9ZnVuY3Rpb24gdnQoKXt0aGlzLmlubmVySFRNTD0iIn1mdW5jdGlvbiBndCgpe3RoaXMubmV4dFNpYmxpbmcmJnRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKX1mdW5jdGlvbiB5dCgpe3RoaXMucHJldmlvdXNTaWJsaW5nJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMsdGhpcy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIF90KCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYnQoKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZCh0aGlzKX1mdW5jdGlvbiBtdCgpe3JldHVybiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuY2xvbmVOb2RlKCExKSx0aGlzLm5leHRTaWJsaW5nKX1mdW5jdGlvbiB4dCgpe3JldHVybiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuY2xvbmVOb2RlKCEwKSx0aGlzLm5leHRTaWJsaW5nKX1sdC5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXt0aGlzLl9uYW1lcy5pbmRleE9mKHQpPDAmJih0aGlzLl9uYW1lcy5wdXNoKHQpLHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsdGhpcy5fbmFtZXMuam9pbigiICIpKSl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9uYW1lcy5pbmRleE9mKHQpO24+PTAmJih0aGlzLl9uYW1lcy5zcGxpY2UobiwxKSx0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHRoaXMuX25hbWVzLmpvaW4oIiAiKSkpfSxjb250YWluczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbmFtZXMuaW5kZXhPZih0KT49MH19O3ZhciB3dD17fTsodC5ldmVudD1udWxsLCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpJiYoIm9ubW91c2VlbnRlciJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCh3dD17bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9KSk7ZnVuY3Rpb24gTXQodCxuLGUpe3JldHVybiB0PU50KHQsbixlKSxmdW5jdGlvbihuKXt2YXIgZT1uLnJlbGF0ZWRUYXJnZXQ7ZSYmKGU9PT10aGlzfHw4JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcykpfHx0LmNhbGwodGhpcyxuKX19ZnVuY3Rpb24gTnQobixlLHIpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgbz10LmV2ZW50O3QuZXZlbnQ9aTt0cnl7bi5jYWxsKHRoaXMsdGhpcy5fX2RhdGFfXyxlLHIpfWZpbmFsbHl7dC5ldmVudD1vfX19ZnVuY3Rpb24gQXQodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fX29uO2lmKG4pe2Zvcih2YXIgZSxyPTAsaT0tMSxvPW4ubGVuZ3RoO3I8bzsrK3IpZT1uW3JdLHQudHlwZSYmZS50eXBlIT09dC50eXBlfHxlLm5hbWUhPT10Lm5hbWU/blsrK2ldPWU6dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGUudHlwZSxlLmxpc3RlbmVyLGUuY2FwdHVyZSk7KytpP24ubGVuZ3RoPWk6ZGVsZXRlIHRoaXMuX19vbn19fWZ1bmN0aW9uIFR0KHQsbixlKXt2YXIgcj13dC5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpP010Ok50O3JldHVybiBmdW5jdGlvbihpLG8sYSl7dmFyIHUsYz10aGlzLl9fb24sZj1yKG4sbyxhKTtpZihjKWZvcih2YXIgcz0wLGw9Yy5sZW5ndGg7czxsOysrcylpZigodT1jW3NdKS50eXBlPT09dC50eXBlJiZ1Lm5hbWU9PT10Lm5hbWUpcmV0dXJuIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih1LnR5cGUsdS5saXN0ZW5lcix1LmNhcHR1cmUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih1LnR5cGUsdS5saXN0ZW5lcj1mLHUuY2FwdHVyZT1lKSx2b2lkKHUudmFsdWU9bik7dGhpcy5hZGRFdmVudExpc3RlbmVyKHQudHlwZSxmLGUpLHU9e3R5cGU6dC50eXBlLG5hbWU6dC5uYW1lLHZhbHVlOm4sbGlzdGVuZXI6ZixjYXB0dXJlOmV9LGM/Yy5wdXNoKHUpOnRoaXMuX19vbj1bdV19fWZ1bmN0aW9uIFN0KG4sZSxyLGkpe3ZhciBvPXQuZXZlbnQ7bi5zb3VyY2VFdmVudD10LmV2ZW50LHQuZXZlbnQ9bjt0cnl7cmV0dXJuIGUuYXBwbHkocixpKX1maW5hbGx5e3QuZXZlbnQ9b319ZnVuY3Rpb24ga3QodCxuLGUpe3ZhciByPXV0KHQpLGk9ci5DdXN0b21FdmVudDsiZnVuY3Rpb24iPT10eXBlb2YgaT9pPW5ldyBpKG4sZSk6KGk9ci5kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSxlPyhpLmluaXRFdmVudChuLGUuYnViYmxlcyxlLmNhbmNlbGFibGUpLGkuZGV0YWlsPWUuZGV0YWlsKTppLmluaXRFdmVudChuLCExLCExKSksdC5kaXNwYXRjaEV2ZW50KGkpfXZhciBFdD1bbnVsbF07ZnVuY3Rpb24gQ3QodCxuKXt0aGlzLl9ncm91cHM9dCx0aGlzLl9wYXJlbnRzPW59ZnVuY3Rpb24gUHQoKXtyZXR1cm4gbmV3IEN0KFtbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XV0sRXQpfWZ1bmN0aW9uIHp0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9uZXcgQ3QoW1tkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpXV0sW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudF0pOm5ldyBDdChbW3RdXSxFdCl9Q3QucHJvdG90eXBlPVB0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q3Qsc2VsZWN0OmZ1bmN0aW9uKHQpeyJmdW5jdGlvbiIhPXR5cGVvZiB0JiYodD1RKHQpKTtmb3IodmFyIG49dGhpcy5fZ3JvdXBzLGU9bi5sZW5ndGgscj1uZXcgQXJyYXkoZSksaT0wO2k8ZTsrK2kpZm9yKHZhciBvLGEsdT1uW2ldLGM9dS5sZW5ndGgsZj1yW2ldPW5ldyBBcnJheShjKSxzPTA7czxjOysrcykobz11W3NdKSYmKGE9dC5jYWxsKG8sby5fX2RhdGFfXyxzLHUpKSYmKCJfX2RhdGFfXyJpbiBvJiYoYS5fX2RhdGFfXz1vLl9fZGF0YV9fKSxmW3NdPWEpO3JldHVybiBuZXcgQ3Qocix0aGlzLl9wYXJlbnRzKX0sc2VsZWN0QWxsOmZ1bmN0aW9uKHQpeyJmdW5jdGlvbiIhPXR5cGVvZiB0JiYodD1LKHQpKTtmb3IodmFyIG49dGhpcy5fZ3JvdXBzLGU9bi5sZW5ndGgscj1bXSxpPVtdLG89MDtvPGU7KytvKWZvcih2YXIgYSx1PW5bb10sYz11Lmxlbmd0aCxmPTA7ZjxjOysrZikoYT11W2ZdKSYmKHIucHVzaCh0LmNhbGwoYSxhLl9fZGF0YV9fLGYsdSkpLGkucHVzaChhKSk7cmV0dXJuIG5ldyBDdChyLGkpfSxmaWx0ZXI6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PXR0KHQpKTtmb3IodmFyIG49dGhpcy5fZ3JvdXBzLGU9bi5sZW5ndGgscj1uZXcgQXJyYXkoZSksaT0wO2k8ZTsrK2kpZm9yKHZhciBvLGE9bltpXSx1PWEubGVuZ3RoLGM9cltpXT1bXSxmPTA7Zjx1OysrZikobz1hW2ZdKSYmdC5jYWxsKG8sby5fX2RhdGFfXyxmLGEpJiZjLnB1c2gobyk7cmV0dXJuIG5ldyBDdChyLHRoaXMuX3BhcmVudHMpfSxkYXRhOmZ1bmN0aW9uKHQsbil7aWYoIXQpcmV0dXJuIHA9bmV3IEFycmF5KHRoaXMuc2l6ZSgpKSxzPS0xLHRoaXMuZWFjaChmdW5jdGlvbih0KXtwWysrc109dH0pLHA7dmFyIGUscj1uP290Oml0LGk9dGhpcy5fcGFyZW50cyxvPXRoaXMuX2dyb3VwczsiZnVuY3Rpb24iIT10eXBlb2YgdCYmKGU9dCx0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9KTtmb3IodmFyIGE9by5sZW5ndGgsdT1uZXcgQXJyYXkoYSksYz1uZXcgQXJyYXkoYSksZj1uZXcgQXJyYXkoYSkscz0wO3M8YTsrK3Mpe3ZhciBsPWlbc10saD1vW3NdLGQ9aC5sZW5ndGgscD10LmNhbGwobCxsJiZsLl9fZGF0YV9fLHMsaSksdj1wLmxlbmd0aCxnPWNbc109bmV3IEFycmF5KHYpLHk9dVtzXT1uZXcgQXJyYXkodik7cihsLGgsZyx5LGZbc109bmV3IEFycmF5KGQpLHAsbik7Zm9yKHZhciBfLGIsbT0wLHg9MDttPHY7KyttKWlmKF89Z1ttXSl7Zm9yKG0+PXgmJih4PW0rMSk7IShiPXlbeF0pJiYrK3g8djspO18uX25leHQ9Ynx8bnVsbH19cmV0dXJuKHU9bmV3IEN0KHUsaSkpLl9lbnRlcj1jLHUuX2V4aXQ9Zix1fSxlbnRlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ3QodGhpcy5fZW50ZXJ8fHRoaXMuX2dyb3Vwcy5tYXAobnQpLHRoaXMuX3BhcmVudHMpfSxleGl0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDdCh0aGlzLl9leGl0fHx0aGlzLl9ncm91cHMubWFwKG50KSx0aGlzLl9wYXJlbnRzKX0sam9pbjpmdW5jdGlvbih0LG4sZSl7dmFyIHI9dGhpcy5lbnRlcigpLGk9dGhpcyxvPXRoaXMuZXhpdCgpO3JldHVybiByPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Qocik6ci5hcHBlbmQodCsiIiksbnVsbCE9biYmKGk9bihpKSksbnVsbD09ZT9vLnJlbW92ZSgpOmUobyksciYmaT9yLm1lcmdlKGkpLm9yZGVyKCk6aX0sbWVyZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXRoaXMuX2dyb3VwcyxlPXQuX2dyb3VwcyxyPW4ubGVuZ3RoLGk9ZS5sZW5ndGgsbz1NYXRoLm1pbihyLGkpLGE9bmV3IEFycmF5KHIpLHU9MDt1PG87Kyt1KWZvcih2YXIgYyxmPW5bdV0scz1lW3VdLGw9Zi5sZW5ndGgsaD1hW3VdPW5ldyBBcnJheShsKSxkPTA7ZDxsOysrZCkoYz1mW2RdfHxzW2RdKSYmKGhbZF09Yyk7Zm9yKDt1PHI7Kyt1KWFbdV09blt1XTtyZXR1cm4gbmV3IEN0KGEsdGhpcy5fcGFyZW50cyl9LG9yZGVyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dyb3VwcyxuPS0xLGU9dC5sZW5ndGg7KytuPGU7KWZvcih2YXIgcixpPXRbbl0sbz1pLmxlbmd0aC0xLGE9aVtvXTstLW8+PTA7KShyPWlbb10pJiYoYSYmNF5yLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpJiZhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsYSksYT1yKTtyZXR1cm4gdGhpc30sc29ydDpmdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4sZSl7cmV0dXJuIG4mJmU/dChuLl9fZGF0YV9fLGUuX19kYXRhX18pOiFuLSFlfXR8fCh0PWF0KTtmb3IodmFyIGU9dGhpcy5fZ3JvdXBzLHI9ZS5sZW5ndGgsaT1uZXcgQXJyYXkociksbz0wO288cjsrK28pe2Zvcih2YXIgYSx1PWVbb10sYz11Lmxlbmd0aCxmPWlbb109bmV3IEFycmF5KGMpLHM9MDtzPGM7KytzKShhPXVbc10pJiYoZltzXT1hKTtmLnNvcnQobil9cmV0dXJuIG5ldyBDdChpLHRoaXMuX3BhcmVudHMpLm9yZGVyKCl9LGNhbGw6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIGFyZ3VtZW50c1swXT10aGlzLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpLHRoaXN9LG5vZGVzOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5KHRoaXMuc2l6ZSgpKSxuPS0xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0Wysrbl09dGhpc30pLHR9LG5vZGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ3JvdXBzLG49MCxlPXQubGVuZ3RoO248ZTsrK24pZm9yKHZhciByPXRbbl0saT0wLG89ci5sZW5ndGg7aTxvOysraSl7dmFyIGE9cltpXTtpZihhKXJldHVybiBhfXJldHVybiBudWxsfSxzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Kyt0fSksdH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ub2RlKCl9LGVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXRoaXMuX2dyb3VwcyxlPTAscj1uLmxlbmd0aDtlPHI7KytlKWZvcih2YXIgaSxvPW5bZV0sYT0wLHU9by5sZW5ndGg7YTx1OysrYSkoaT1vW2FdKSYmdC5jYWxsKGksaS5fX2RhdGFfXyxhLG8pO3JldHVybiB0aGlzfSxhdHRyOmZ1bmN0aW9uKHQsbil7dmFyIGU9JCh0KTtpZihhcmd1bWVudHMubGVuZ3RoPDIpe3ZhciByPXRoaXMubm9kZSgpO3JldHVybiBlLmxvY2FsP3IuZ2V0QXR0cmlidXRlTlMoZS5zcGFjZSxlLmxvY2FsKTpyLmdldEF0dHJpYnV0ZShlKX1yZXR1cm4gdGhpcy5lYWNoKChudWxsPT1uP2UubG9jYWw/ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyh0LnNwYWNlLHQubG9jYWwpfX06ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCl9fToiZnVuY3Rpb24iPT10eXBlb2Ygbj9lLmxvY2FsP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09ZT90aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKHQuc3BhY2UsdC5sb2NhbCk6dGhpcy5zZXRBdHRyaWJ1dGVOUyh0LnNwYWNlLHQubG9jYWwsZSl9fTpmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCk6dGhpcy5zZXRBdHRyaWJ1dGUodCxlKX19OmUubG9jYWw/ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnNldEF0dHJpYnV0ZU5TKHQuc3BhY2UsdC5sb2NhbCxuKX19OmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5zZXRBdHRyaWJ1dGUodCxuKX19KShlLG4pKX0sc3R5bGU6ZnVuY3Rpb24odCxuLGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjE/dGhpcy5lYWNoKChudWxsPT1uP2Z1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9fToiZnVuY3Rpb24iPT10eXBlb2Ygbj9mdW5jdGlvbih0LG4sZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09cj90aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KHQpOnRoaXMuc3R5bGUuc2V0UHJvcGVydHkodCxyLGUpfX06ZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc3R5bGUuc2V0UHJvcGVydHkodCxuLGUpfX0pKHQsbixudWxsPT1lPyIiOmUpKTpjdCh0aGlzLm5vZGUoKSx0KX0scHJvcGVydHk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP3RoaXMuZWFjaCgobnVsbD09bj9mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtkZWxldGUgdGhpc1t0XX19OiJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09ZT9kZWxldGUgdGhpc1t0XTp0aGlzW3RdPWV9fTpmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3RoaXNbdF09bn19KSh0LG4pKTp0aGlzLm5vZGUoKVt0XX0sY2xhc3NlZDpmdW5jdGlvbih0LG4pe3ZhciBlPWZ0KHQrIiIpO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKHZhciByPXN0KHRoaXMubm9kZSgpKSxpPS0xLG89ZS5sZW5ndGg7KytpPG87KWlmKCFyLmNvbnRhaW5zKGVbaV0pKXJldHVybiExO3JldHVybiEwfXJldHVybiB0aGlzLmVhY2goKCJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7KG4uYXBwbHkodGhpcyxhcmd1bWVudHMpP2h0OmR0KSh0aGlzLHQpfX06bj9mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtodCh0aGlzLHQpfX06ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZHQodGhpcyx0KX19KShlLG4pKX0sdGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2gobnVsbD09dD9wdDooImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50ZXh0Q29udGVudD1udWxsPT1uPyIiOm59fTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PXR9fSkodCkpOnRoaXMubm9kZSgpLnRleHRDb250ZW50fSxodG1sOmZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChudWxsPT10P3Z0OigiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmlubmVySFRNTD1udWxsPT1uPyIiOm59fTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD10fX0pKHQpKTp0aGlzLm5vZGUoKS5pbm5lckhUTUx9LHJhaXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChndCl9LGxvd2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaCh5dCl9LGFwcGVuZDpmdW5jdGlvbih0KXt2YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OlcodCk7cmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQobi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSl9LGluc2VydDpmdW5jdGlvbih0LG4pe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6Vyh0KSxyPW51bGw9PW4/X3Q6ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpRKG4pO3JldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8bnVsbCl9KX0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChidCl9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdCh0P3h0Om10KX0sZGF0dW06ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5wcm9wZXJ0eSgiX19kYXRhX18iLHQpOnRoaXMubm9kZSgpLl9fZGF0YV9ffSxvbjpmdW5jdGlvbih0LG4sZSl7dmFyIHIsaSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXnxccysvKS5tYXAoZnVuY3Rpb24odCl7dmFyIG49IiIsZT10LmluZGV4T2YoIi4iKTtyZXR1cm4gZT49MCYmKG49dC5zbGljZShlKzEpLHQ9dC5zbGljZSgwLGUpKSx7dHlwZTp0LG5hbWU6bn19KX0odCsiIiksYT1vLmxlbmd0aDtpZighKGFyZ3VtZW50cy5sZW5ndGg8Mikpe2Zvcih1PW4/VHQ6QXQsbnVsbD09ZSYmKGU9ITEpLHI9MDtyPGE7KytyKXRoaXMuZWFjaCh1KG9bcl0sbixlKSk7cmV0dXJuIHRoaXN9dmFyIHU9dGhpcy5ub2RlKCkuX19vbjtpZih1KWZvcih2YXIgYyxmPTAscz11Lmxlbmd0aDtmPHM7KytmKWZvcihyPTAsYz11W2ZdO3I8YTsrK3IpaWYoKGk9b1tyXSkudHlwZT09PWMudHlwZSYmaS5uYW1lPT09Yy5uYW1lKXJldHVybiBjLnZhbHVlfSxkaXNwYXRjaDpmdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLmVhY2goKCJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGt0KHRoaXMsdCxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fTpmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBrdCh0aGlzLHQsbil9fSkodCxuKSl9fTt2YXIgUnQ9MDtmdW5jdGlvbiBEdCgpe3JldHVybiBuZXcgcXR9ZnVuY3Rpb24gcXQoKXt0aGlzLl89IkAiKygrK1J0KS50b1N0cmluZygzNil9ZnVuY3Rpb24gTHQoKXtmb3IodmFyIG4sZT10LmV2ZW50O249ZS5zb3VyY2VFdmVudDspZT1uO3JldHVybiBlfWZ1bmN0aW9uIFV0KHQsbil7dmFyIGU9dC5vd25lclNWR0VsZW1lbnR8fHQ7aWYoZS5jcmVhdGVTVkdQb2ludCl7dmFyIHI9ZS5jcmVhdGVTVkdQb2ludCgpO3JldHVybiByLng9bi5jbGllbnRYLHIueT1uLmNsaWVudFksWyhyPXIubWF0cml4VHJhbnNmb3JtKHQuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKSkueCxyLnldfXZhciBpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuW24uY2xpZW50WC1pLmxlZnQtdC5jbGllbnRMZWZ0LG4uY2xpZW50WS1pLnRvcC10LmNsaWVudFRvcF19ZnVuY3Rpb24gT3QodCl7dmFyIG49THQoKTtyZXR1cm4gbi5jaGFuZ2VkVG91Y2hlcyYmKG49bi5jaGFuZ2VkVG91Y2hlc1swXSksVXQodCxuKX1mdW5jdGlvbiBCdCh0LG4sZSl7YXJndW1lbnRzLmxlbmd0aDwzJiYoZT1uLG49THQoKS5jaGFuZ2VkVG91Y2hlcyk7Zm9yKHZhciByLGk9MCxvPW4/bi5sZW5ndGg6MDtpPG87KytpKWlmKChyPW5baV0pLmlkZW50aWZpZXI9PT1lKXJldHVybiBVdCh0LHIpO3JldHVybiBudWxsfWZ1bmN0aW9uIFl0KCl7dC5ldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBGdCgpe3QuZXZlbnQucHJldmVudERlZmF1bHQoKSx0LmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIEl0KHQpe3ZhciBuPXQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGU9enQodCkub24oImRyYWdzdGFydC5kcmFnIixGdCwhMCk7Im9uc2VsZWN0c3RhcnQiaW4gbj9lLm9uKCJzZWxlY3RzdGFydC5kcmFnIixGdCwhMCk6KG4uX19ub3NlbGVjdD1uLnN0eWxlLk1velVzZXJTZWxlY3Qsbi5zdHlsZS5Nb3pVc2VyU2VsZWN0PSJub25lIil9ZnVuY3Rpb24ganQodCxuKXt2YXIgZT10LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxyPXp0KHQpLm9uKCJkcmFnc3RhcnQuZHJhZyIsbnVsbCk7biYmKHIub24oImNsaWNrLmRyYWciLEZ0LCEwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5vbigiY2xpY2suZHJhZyIsbnVsbCl9LDApKSwib25zZWxlY3RzdGFydCJpbiBlP3Iub24oInNlbGVjdHN0YXJ0LmRyYWciLG51bGwpOihlLnN0eWxlLk1velVzZXJTZWxlY3Q9ZS5fX25vc2VsZWN0LGRlbGV0ZSBlLl9fbm9zZWxlY3QpfWZ1bmN0aW9uIEh0KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBYdCh0LG4sZSxyLGksbyxhLHUsYyxmKXt0aGlzLnRhcmdldD10LHRoaXMudHlwZT1uLHRoaXMuc3ViamVjdD1lLHRoaXMuaWRlbnRpZmllcj1yLHRoaXMuYWN0aXZlPWksdGhpcy54PW8sdGhpcy55PWEsdGhpcy5keD11LHRoaXMuZHk9Yyx0aGlzLl89Zn1mdW5jdGlvbiBHdCgpe3JldHVybiF0LmV2ZW50LmJ1dHRvbn1mdW5jdGlvbiBWdCgpe3JldHVybiB0aGlzLnBhcmVudE5vZGV9ZnVuY3Rpb24gJHQobil7cmV0dXJuIG51bGw9PW4/e3g6dC5ldmVudC54LHk6dC5ldmVudC55fTpufWZ1bmN0aW9uIFd0KCl7cmV0dXJuIm9udG91Y2hzdGFydCJpbiB0aGlzfWZ1bmN0aW9uIFp0KHQsbixlKXt0LnByb3RvdHlwZT1uLnByb3RvdHlwZT1lLGUuY29uc3RydWN0b3I9dH1mdW5jdGlvbiBRdCh0LG4pe3ZhciBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpO2Zvcih2YXIgciBpbiBuKWVbcl09bltyXTtyZXR1cm4gZX1mdW5jdGlvbiBKdCgpe31xdC5wcm90b3R5cGU9RHQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpxdCxnZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXRoaXMuXzshKG4gaW4gdCk7KWlmKCEodD10LnBhcmVudE5vZGUpKXJldHVybjtyZXR1cm4gdFtuXX0sc2V0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbdGhpcy5fXT1ufSxyZW1vdmU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuXyBpbiB0JiZkZWxldGUgdFt0aGlzLl9dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl99fSxYdC5wcm90b3R5cGUub249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl8ub24uYXBwbHkodGhpcy5fLGFyZ3VtZW50cyk7cmV0dXJuIHQ9PT10aGlzLl8/dGhpczp0fTt2YXIgS3Q9IlxccyooWystXT9cXGQrKVxccyoiLHRuPSJcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKD86W2VFXVsrLV0/XFxkKyk/KVxccyoiLG5uPSJcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKD86W2VFXVsrLV0/XFxkKyk/KSVcXHMqIixlbj0vXiMoWzAtOWEtZl17M30pJC8scm49L14jKFswLTlhLWZdezZ9KSQvLG9uPW5ldyBSZWdFeHAoIl5yZ2JcXCgiK1tLdCxLdCxLdF0rIlxcKSQiKSxhbj1uZXcgUmVnRXhwKCJecmdiXFwoIitbbm4sbm4sbm5dKyJcXCkkIiksdW49bmV3IFJlZ0V4cCgiXnJnYmFcXCgiK1tLdCxLdCxLdCx0bl0rIlxcKSQiKSxjbj1uZXcgUmVnRXhwKCJecmdiYVxcKCIrW25uLG5uLG5uLHRuXSsiXFwpJCIpLGZuPW5ldyBSZWdFeHAoIl5oc2xcXCgiK1t0bixubixubl0rIlxcKSQiKSxzbj1uZXcgUmVnRXhwKCJeaHNsYVxcKCIrW3RuLG5uLG5uLHRuXSsiXFwpJCIpLGxuPXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9O2Z1bmN0aW9uIGhuKHQpe3ZhciBuO3JldHVybiB0PSh0KyIiKS50cmltKCkudG9Mb3dlckNhc2UoKSwobj1lbi5leGVjKHQpKT9uZXcgeW4oKG49cGFyc2VJbnQoblsxXSwxNikpPj44JjE1fG4+PjQmMjQwLG4+PjQmMTV8MjQwJm4sKDE1Jm4pPDw0fDE1Jm4sMSk6KG49cm4uZXhlYyh0KSk/ZG4ocGFyc2VJbnQoblsxXSwxNikpOihuPW9uLmV4ZWModCkpP25ldyB5bihuWzFdLG5bMl0sblszXSwxKToobj1hbi5leGVjKHQpKT9uZXcgeW4oMjU1Km5bMV0vMTAwLDI1NSpuWzJdLzEwMCwyNTUqblszXS8xMDAsMSk6KG49dW4uZXhlYyh0KSk/cG4oblsxXSxuWzJdLG5bM10sbls0XSk6KG49Y24uZXhlYyh0KSk/cG4oMjU1Km5bMV0vMTAwLDI1NSpuWzJdLzEwMCwyNTUqblszXS8xMDAsbls0XSk6KG49Zm4uZXhlYyh0KSk/Ym4oblsxXSxuWzJdLzEwMCxuWzNdLzEwMCwxKToobj1zbi5leGVjKHQpKT9ibihuWzFdLG5bMl0vMTAwLG5bM10vMTAwLG5bNF0pOmxuLmhhc093blByb3BlcnR5KHQpP2RuKGxuW3RdKToidHJhbnNwYXJlbnQiPT09dD9uZXcgeW4oTmFOLE5hTixOYU4sMCk6bnVsbH1mdW5jdGlvbiBkbih0KXtyZXR1cm4gbmV3IHluKHQ+PjE2JjI1NSx0Pj44JjI1NSwyNTUmdCwxKX1mdW5jdGlvbiBwbih0LG4sZSxyKXtyZXR1cm4gcjw9MCYmKHQ9bj1lPU5hTiksbmV3IHluKHQsbixlLHIpfWZ1bmN0aW9uIHZuKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSnR8fCh0PWhuKHQpKSx0P25ldyB5bigodD10LnJnYigpKS5yLHQuZyx0LmIsdC5vcGFjaXR5KTpuZXcgeW59ZnVuY3Rpb24gZ24odCxuLGUscil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3ZuKHQpOm5ldyB5bih0LG4sZSxudWxsPT1yPzE6cil9ZnVuY3Rpb24geW4odCxuLGUscil7dGhpcy5yPSt0LHRoaXMuZz0rbix0aGlzLmI9K2UsdGhpcy5vcGFjaXR5PStyfWZ1bmN0aW9uIF9uKHQpe3JldHVybigodD1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxNYXRoLnJvdW5kKHQpfHwwKSkpPDE2PyIwIjoiIikrdC50b1N0cmluZygxNil9ZnVuY3Rpb24gYm4odCxuLGUscil7cmV0dXJuIHI8PTA/dD1uPWU9TmFOOmU8PTB8fGU+PTE/dD1uPU5hTjpuPD0wJiYodD1OYU4pLG5ldyB4bih0LG4sZSxyKX1mdW5jdGlvbiBtbih0LG4sZSxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIHhuKXJldHVybiBuZXcgeG4odC5oLHQucyx0LmwsdC5vcGFjaXR5KTtpZih0IGluc3RhbmNlb2YgSnR8fCh0PWhuKHQpKSwhdClyZXR1cm4gbmV3IHhuO2lmKHQgaW5zdGFuY2VvZiB4bilyZXR1cm4gdDt2YXIgbj0odD10LnJnYigpKS5yLzI1NSxlPXQuZy8yNTUscj10LmIvMjU1LGk9TWF0aC5taW4obixlLHIpLG89TWF0aC5tYXgobixlLHIpLGE9TmFOLHU9by1pLGM9KG8raSkvMjtyZXR1cm4gdT8oYT1uPT09bz8oZS1yKS91KzYqKGU8cik6ZT09PW8/KHItbikvdSsyOihuLWUpL3UrNCx1Lz1jPC41P28raToyLW8taSxhKj02MCk6dT1jPjAmJmM8MT8wOmEsbmV3IHhuKGEsdSxjLHQub3BhY2l0eSl9KHQpOm5ldyB4bih0LG4sZSxudWxsPT1yPzE6cil9ZnVuY3Rpb24geG4odCxuLGUscil7dGhpcy5oPSt0LHRoaXMucz0rbix0aGlzLmw9K2UsdGhpcy5vcGFjaXR5PStyfWZ1bmN0aW9uIHduKHQsbixlKXtyZXR1cm4gMjU1Kih0PDYwP24rKGUtbikqdC82MDp0PDE4MD9lOnQ8MjQwP24rKGUtbikqKDI0MC10KS82MDpuKX1adChKdCxobix7ZGlzcGxheWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpfSxoZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKS5oZXgoKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKSsiIn19KSxadCh5bixnbixRdChKdCx7YnJpZ2h0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bnVsbD09dD8xLy43Ok1hdGgucG93KDEvLjcsdCksbmV3IHluKHRoaXMucip0LHRoaXMuZyp0LHRoaXMuYip0LHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbih0KXtyZXR1cm4gdD1udWxsPT10Py43Ok1hdGgucG93KC43LHQpLG5ldyB5bih0aGlzLnIqdCx0aGlzLmcqdCx0aGlzLmIqdCx0aGlzLm9wYWNpdHkpfSxyZ2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZGlzcGxheWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gMDw9dGhpcy5yJiZ0aGlzLnI8PTI1NSYmMDw9dGhpcy5nJiZ0aGlzLmc8PTI1NSYmMDw9dGhpcy5iJiZ0aGlzLmI8PTI1NSYmMDw9dGhpcy5vcGFjaXR5JiZ0aGlzLm9wYWNpdHk8PTF9LGhleDpmdW5jdGlvbigpe3JldHVybiIjIitfbih0aGlzLnIpK19uKHRoaXMuZykrX24odGhpcy5iKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wYWNpdHk7cmV0dXJuKDE9PT0odD1pc05hTih0KT8xOk1hdGgubWF4KDAsTWF0aC5taW4oMSx0KSkpPyJyZ2IoIjoicmdiYSgiKStNYXRoLm1heCgwLE1hdGgubWluKDI1NSxNYXRoLnJvdW5kKHRoaXMucil8fDApKSsiLCAiK01hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQodGhpcy5nKXx8MCkpKyIsICIrTWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsTWF0aC5yb3VuZCh0aGlzLmIpfHwwKSkrKDE9PT10PyIpIjoiLCAiK3QrIikiKX19KSksWnQoeG4sbW4sUXQoSnQse2JyaWdodGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0PW51bGw9PXQ/MS8uNzpNYXRoLnBvdygxLy43LHQpLG5ldyB4bih0aGlzLmgsdGhpcy5zLHRoaXMubCp0LHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbih0KXtyZXR1cm4gdD1udWxsPT10Py43Ok1hdGgucG93KC43LHQpLG5ldyB4bih0aGlzLmgsdGhpcy5zLHRoaXMubCp0LHRoaXMub3BhY2l0eSl9LHJnYjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaCUzNjArMzYwKih0aGlzLmg8MCksbj1pc05hTih0KXx8aXNOYU4odGhpcy5zKT8wOnRoaXMucyxlPXRoaXMubCxyPWUrKGU8LjU/ZToxLWUpKm4saT0yKmUtcjtyZXR1cm4gbmV3IHluKHduKHQ+PTI0MD90LTI0MDp0KzEyMCxpLHIpLHduKHQsaSxyKSx3bih0PDEyMD90KzI0MDp0LTEyMCxpLHIpLHRoaXMub3BhY2l0eSl9LGRpc3BsYXlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuKDA8PXRoaXMucyYmdGhpcy5zPD0xfHxpc05hTih0aGlzLnMpKSYmMDw9dGhpcy5sJiZ0aGlzLmw8PTEmJjA8PXRoaXMub3BhY2l0eSYmdGhpcy5vcGFjaXR5PD0xfX0pKTt2YXIgTW49TWF0aC5QSS8xODAsTm49MTgwL01hdGguUEksQW49Ljk2NDIyLFRuPTEsU249LjgyNTIxLGtuPTQvMjksRW49Ni8yOSxDbj0zKkVuKkVuLFBuPUVuKkVuKkVuO2Z1bmN0aW9uIHpuKHQpe2lmKHQgaW5zdGFuY2VvZiBEbilyZXR1cm4gbmV3IERuKHQubCx0LmEsdC5iLHQub3BhY2l0eSk7aWYodCBpbnN0YW5jZW9mIEZuKXtpZihpc05hTih0LmgpKXJldHVybiBuZXcgRG4odC5sLDAsMCx0Lm9wYWNpdHkpO3ZhciBuPXQuaCpNbjtyZXR1cm4gbmV3IERuKHQubCxNYXRoLmNvcyhuKSp0LmMsTWF0aC5zaW4obikqdC5jLHQub3BhY2l0eSl9dCBpbnN0YW5jZW9mIHlufHwodD12bih0KSk7dmFyIGUscixpPU9uKHQuciksbz1Pbih0LmcpLGE9T24odC5iKSx1PXFuKCguMjIyNTA0NSppKy43MTY4Nzg2Km8rLjA2MDYxNjkqYSkvVG4pO3JldHVybiBpPT09byYmbz09PWE/ZT1yPXU6KGU9cW4oKC40MzYwNzQ3KmkrLjM4NTA2NDkqbysuMTQzMDgwNCphKS9Bbikscj1xbigoLjAxMzkzMjIqaSsuMDk3MTA0NSpvKy43MTQxNzMzKmEpL1NuKSksbmV3IERuKDExNip1LTE2LDUwMCooZS11KSwyMDAqKHUtciksdC5vcGFjaXR5KX1mdW5jdGlvbiBSbih0LG4sZSxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/em4odCk6bmV3IERuKHQsbixlLG51bGw9PXI/MTpyKX1mdW5jdGlvbiBEbih0LG4sZSxyKXt0aGlzLmw9K3QsdGhpcy5hPStuLHRoaXMuYj0rZSx0aGlzLm9wYWNpdHk9K3J9ZnVuY3Rpb24gcW4odCl7cmV0dXJuIHQ+UG4/TWF0aC5wb3codCwxLzMpOnQvQ24ra259ZnVuY3Rpb24gTG4odCl7cmV0dXJuIHQ+RW4/dCp0KnQ6Q24qKHQta24pfWZ1bmN0aW9uIFVuKHQpe3JldHVybiAyNTUqKHQ8PS4wMDMxMzA4PzEyLjkyKnQ6MS4wNTUqTWF0aC5wb3codCwxLzIuNCktLjA1NSl9ZnVuY3Rpb24gT24odCl7cmV0dXJuKHQvPTI1NSk8PS4wNDA0NT90LzEyLjkyOk1hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gQm4odCl7aWYodCBpbnN0YW5jZW9mIEZuKXJldHVybiBuZXcgRm4odC5oLHQuYyx0LmwsdC5vcGFjaXR5KTtpZih0IGluc3RhbmNlb2YgRG58fCh0PXpuKHQpKSwwPT09dC5hJiYwPT09dC5iKXJldHVybiBuZXcgRm4oTmFOLDAsdC5sLHQub3BhY2l0eSk7dmFyIG49TWF0aC5hdGFuMih0LmIsdC5hKSpObjtyZXR1cm4gbmV3IEZuKG48MD9uKzM2MDpuLE1hdGguc3FydCh0LmEqdC5hK3QuYip0LmIpLHQubCx0Lm9wYWNpdHkpfWZ1bmN0aW9uIFluKHQsbixlLHIpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9Cbih0KTpuZXcgRm4odCxuLGUsbnVsbD09cj8xOnIpfWZ1bmN0aW9uIEZuKHQsbixlLHIpe3RoaXMuaD0rdCx0aGlzLmM9K24sdGhpcy5sPStlLHRoaXMub3BhY2l0eT0rcn1adChEbixSbixRdChKdCx7YnJpZ2h0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEbih0aGlzLmwrMTgqKG51bGw9PXQ/MTp0KSx0aGlzLmEsdGhpcy5iLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IERuKHRoaXMubC0xOCoobnVsbD09dD8xOnQpLHRoaXMuYSx0aGlzLmIsdGhpcy5vcGFjaXR5KX0scmdiOmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMubCsxNikvMTE2LG49aXNOYU4odGhpcy5hKT90OnQrdGhpcy5hLzUwMCxlPWlzTmFOKHRoaXMuYik/dDp0LXRoaXMuYi8yMDA7cmV0dXJuIG5ldyB5bihVbigzLjEzMzg1NjEqKG49QW4qTG4obikpLTEuNjE2ODY2NyoodD1UbipMbih0KSktLjQ5MDYxNDYqKGU9U24qTG4oZSkpKSxVbigtLjk3ODc2ODQqbisxLjkxNjE0MTUqdCsuMDMzNDU0KmUpLFVuKC4wNzE5NDUzKm4tLjIyODk5MTQqdCsxLjQwNTI0MjcqZSksdGhpcy5vcGFjaXR5KX19KSksWnQoRm4sWW4sUXQoSnQse2JyaWdodGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRm4odGhpcy5oLHRoaXMuYyx0aGlzLmwrMTgqKG51bGw9PXQ/MTp0KSx0aGlzLm9wYWNpdHkpfSxkYXJrZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGbih0aGlzLmgsdGhpcy5jLHRoaXMubC0xOCoobnVsbD09dD8xOnQpLHRoaXMub3BhY2l0eSl9LHJnYjpmdW5jdGlvbigpe3JldHVybiB6bih0aGlzKS5yZ2IoKX19KSk7dmFyIEluPS0uMTQ4NjEsam49MS43ODI3NyxIbj0tLjI5MjI3LFhuPS0uOTA2NDksR249MS45NzI5NCxWbj1HbipYbiwkbj1HbipqbixXbj1qbipIbi1YbipJbjtmdW5jdGlvbiBabih0LG4sZSxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIFFuKXJldHVybiBuZXcgUW4odC5oLHQucyx0LmwsdC5vcGFjaXR5KTt0IGluc3RhbmNlb2YgeW58fCh0PXZuKHQpKTt2YXIgbj10LnIvMjU1LGU9dC5nLzI1NSxyPXQuYi8yNTUsaT0oV24qcitWbipuLSRuKmUpLyhXbitWbi0kbiksbz1yLWksYT0oR24qKGUtaSktSG4qbykvWG4sdT1NYXRoLnNxcnQoYSphK28qbykvKEduKmkqKDEtaSkpLGM9dT9NYXRoLmF0YW4yKGEsbykqTm4tMTIwOk5hTjtyZXR1cm4gbmV3IFFuKGM8MD9jKzM2MDpjLHUsaSx0Lm9wYWNpdHkpfSh0KTpuZXcgUW4odCxuLGUsbnVsbD09cj8xOnIpfWZ1bmN0aW9uIFFuKHQsbixlLHIpe3RoaXMuaD0rdCx0aGlzLnM9K24sdGhpcy5sPStlLHRoaXMub3BhY2l0eT0rcn1mdW5jdGlvbiBKbih0LG4sZSxyLGkpe3ZhciBvPXQqdCxhPW8qdDtyZXR1cm4oKDEtMyp0KzMqby1hKSpuKyg0LTYqbyszKmEpKmUrKDErMyp0KzMqby0zKmEpKnIrYSppKS82fWZ1bmN0aW9uIEtuKHQpe3ZhciBuPXQubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWU8PTA/ZT0wOmU+PTE/KGU9MSxuLTEpOk1hdGguZmxvb3IoZSpuKSxpPXRbcl0sbz10W3IrMV0sYT1yPjA/dFtyLTFdOjIqaS1vLHU9cjxuLTE/dFtyKzJdOjIqby1pO3JldHVybiBKbigoZS1yL24pKm4sYSxpLG8sdSl9fWZ1bmN0aW9uIHRlKHQpe3ZhciBuPXQubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1NYXRoLmZsb29yKCgoZSU9MSk8MD8rK2U6ZSkqbiksaT10WyhyK24tMSklbl0sbz10W3Ilbl0sYT10WyhyKzEpJW5dLHU9dFsocisyKSVuXTtyZXR1cm4gSm4oKGUtci9uKSpuLGksbyxhLHUpfX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gZWUodCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQrZSpufX1mdW5jdGlvbiByZSh0LG4pe3ZhciBlPW4tdDtyZXR1cm4gZT9lZSh0LGU+MTgwfHxlPC0xODA/ZS0zNjAqTWF0aC5yb3VuZChlLzM2MCk6ZSk6bmUoaXNOYU4odCk/bjp0KX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gMT09KHQ9K3QpP29lOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUtbj9mdW5jdGlvbih0LG4sZSl7cmV0dXJuIHQ9TWF0aC5wb3codCxlKSxuPU1hdGgucG93KG4sZSktdCxlPTEvZSxmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC5wb3codCtyKm4sZSl9fShuLGUsdCk6bmUoaXNOYU4obik/ZTpuKX19ZnVuY3Rpb24gb2UodCxuKXt2YXIgZT1uLXQ7cmV0dXJuIGU/ZWUodCxlKTpuZShpc05hTih0KT9uOnQpfVp0KFFuLFpuLFF0KEp0LHticmlnaHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdD1udWxsPT10PzEvLjc6TWF0aC5wb3coMS8uNyx0KSxuZXcgUW4odGhpcy5oLHRoaXMucyx0aGlzLmwqdCx0aGlzLm9wYWNpdHkpfSxkYXJrZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bnVsbD09dD8uNzpNYXRoLnBvdyguNyx0KSxuZXcgUW4odGhpcy5oLHRoaXMucyx0aGlzLmwqdCx0aGlzLm9wYWNpdHkpfSxyZ2I6ZnVuY3Rpb24oKXt2YXIgdD1pc05hTih0aGlzLmgpPzA6KHRoaXMuaCsxMjApKk1uLG49K3RoaXMubCxlPWlzTmFOKHRoaXMucyk/MDp0aGlzLnMqbiooMS1uKSxyPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCk7cmV0dXJuIG5ldyB5bigyNTUqKG4rZSooSW4qcitqbippKSksMjU1KihuK2UqKEhuKnIrWG4qaSkpLDI1NSoobitlKihHbipyKSksdGhpcy5vcGFjaXR5KX19KSk7dmFyIGFlPWZ1bmN0aW9uIHQobil7dmFyIGU9aWUobik7ZnVuY3Rpb24gcih0LG4pe3ZhciByPWUoKHQ9Z24odCkpLnIsKG49Z24obikpLnIpLGk9ZSh0Lmcsbi5nKSxvPWUodC5iLG4uYiksYT1vZSh0Lm9wYWNpdHksbi5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQucj1yKG4pLHQuZz1pKG4pLHQuYj1vKG4pLHQub3BhY2l0eT1hKG4pLHQrIiJ9fXJldHVybiByLmdhbW1hPXQscn0oMSk7ZnVuY3Rpb24gdWUodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBlLHIsaT1uLmxlbmd0aCxvPW5ldyBBcnJheShpKSxhPW5ldyBBcnJheShpKSx1PW5ldyBBcnJheShpKTtmb3IoZT0wO2U8aTsrK2Upcj1nbihuW2VdKSxvW2VdPXIucnx8MCxhW2VdPXIuZ3x8MCx1W2VdPXIuYnx8MDtyZXR1cm4gbz10KG8pLGE9dChhKSx1PXQodSksci5vcGFjaXR5PTEsZnVuY3Rpb24odCl7cmV0dXJuIHIucj1vKHQpLHIuZz1hKHQpLHIuYj11KHQpLHIrIiJ9fX12YXIgY2U9dWUoS24pLGZlPXVlKHRlKTtmdW5jdGlvbiBzZSh0LG4pe3ZhciBlLHI9bj9uLmxlbmd0aDowLGk9dD9NYXRoLm1pbihyLHQubGVuZ3RoKTowLG89bmV3IEFycmF5KGkpLGE9bmV3IEFycmF5KHIpO2ZvcihlPTA7ZTxpOysrZSlvW2VdPXllKHRbZV0sbltlXSk7Zm9yKDtlPHI7KytlKWFbZV09bltlXTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKGU9MDtlPGk7KytlKWFbZV09b1tlXSh0KTtyZXR1cm4gYX19ZnVuY3Rpb24gbGUodCxuKXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gbi09dD0rdCxmdW5jdGlvbihyKXtyZXR1cm4gZS5zZXRUaW1lKHQrbipyKSxlfX1mdW5jdGlvbiBoZSh0LG4pe3JldHVybiBuLT10PSt0LGZ1bmN0aW9uKGUpe3JldHVybiB0K24qZX19ZnVuY3Rpb24gZGUodCxuKXt2YXIgZSxyPXt9LGk9e307Zm9yKGUgaW4gbnVsbCE9PXQmJiJvYmplY3QiPT10eXBlb2YgdHx8KHQ9e30pLG51bGwhPT1uJiYib2JqZWN0Ij09dHlwZW9mIG58fChuPXt9KSxuKWUgaW4gdD9yW2VdPXllKHRbZV0sbltlXSk6aVtlXT1uW2VdO3JldHVybiBmdW5jdGlvbih0KXtmb3IoZSBpbiByKWlbZV09cltlXSh0KTtyZXR1cm4gaX19dmFyIHBlPS9bLStdPyg/OlxkK1wuP1xkKnxcLj9cZCspKD86W2VFXVstK10/XGQrKT8vZyx2ZT1uZXcgUmVnRXhwKHBlLnNvdXJjZSwiZyIpO2Z1bmN0aW9uIGdlKHQsbil7dmFyIGUscixpLG89cGUubGFzdEluZGV4PXZlLmxhc3RJbmRleD0wLGE9LTEsdT1bXSxjPVtdO2Zvcih0Kz0iIixuKz0iIjsoZT1wZS5leGVjKHQpKSYmKHI9dmUuZXhlYyhuKSk7KShpPXIuaW5kZXgpPm8mJihpPW4uc2xpY2UobyxpKSx1W2FdP3VbYV0rPWk6dVsrK2FdPWkpLChlPWVbMF0pPT09KHI9clswXSk/dVthXT91W2FdKz1yOnVbKythXT1yOih1WysrYV09bnVsbCxjLnB1c2goe2k6YSx4OmhlKGUscil9KSksbz12ZS5sYXN0SW5kZXg7cmV0dXJuIG88bi5sZW5ndGgmJihpPW4uc2xpY2UobyksdVthXT91W2FdKz1pOnVbKythXT1pKSx1Lmxlbmd0aDwyP2NbMF0/ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pKyIifX0oY1swXS54KTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KG4pOihuPWMubGVuZ3RoLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTA7cjxuOysrcil1WyhlPWNbcl0pLmldPWUueCh0KTtyZXR1cm4gdS5qb2luKCIiKX0pfWZ1bmN0aW9uIHllKHQsbil7dmFyIGUscj10eXBlb2YgbjtyZXR1cm4gbnVsbD09bnx8ImJvb2xlYW4iPT09cj9uZShuKTooIm51bWJlciI9PT1yP2hlOiJzdHJpbmciPT09cj8oZT1obihuKSk/KG49ZSxhZSk6Z2U6biBpbnN0YW5jZW9mIGhuP2FlOm4gaW5zdGFuY2VvZiBEYXRlP2xlOkFycmF5LmlzQXJyYXkobik/c2U6ImZ1bmN0aW9uIiE9dHlwZW9mIG4udmFsdWVPZiYmImZ1bmN0aW9uIiE9dHlwZW9mIG4udG9TdHJpbmd8fGlzTmFOKG4pP2RlOmhlKSh0LG4pfWZ1bmN0aW9uIF9lKHQsbil7cmV0dXJuIG4tPXQ9K3QsZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucm91bmQodCtuKmUpfX12YXIgYmUsbWUseGUsd2UsTWU9MTgwL01hdGguUEksTmU9e3RyYW5zbGF0ZVg6MCx0cmFuc2xhdGVZOjAscm90YXRlOjAsc2tld1g6MCxzY2FsZVg6MSxzY2FsZVk6MX07ZnVuY3Rpb24gQWUodCxuLGUscixpLG8pe3ZhciBhLHUsYztyZXR1cm4oYT1NYXRoLnNxcnQodCp0K24qbikpJiYodC89YSxuLz1hKSwoYz10KmUrbipyKSYmKGUtPXQqYyxyLT1uKmMpLCh1PU1hdGguc3FydChlKmUrcipyKSkmJihlLz11LHIvPXUsYy89dSksdCpyPG4qZSYmKHQ9LXQsbj0tbixjPS1jLGE9LWEpLHt0cmFuc2xhdGVYOmksdHJhbnNsYXRlWTpvLHJvdGF0ZTpNYXRoLmF0YW4yKG4sdCkqTWUsc2tld1g6TWF0aC5hdGFuKGMpKk1lLHNjYWxlWDphLHNjYWxlWTp1fX1mdW5jdGlvbiBUZSh0LG4sZSxyKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0Lmxlbmd0aD90LnBvcCgpKyIgIjoiIn1yZXR1cm4gZnVuY3Rpb24obyxhKXt2YXIgdT1bXSxjPVtdO3JldHVybiBvPXQobyksYT10KGEpLGZ1bmN0aW9uKHQscixpLG8sYSx1KXtpZih0IT09aXx8ciE9PW8pe3ZhciBjPWEucHVzaCgidHJhbnNsYXRlKCIsbnVsbCxuLG51bGwsZSk7dS5wdXNoKHtpOmMtNCx4OmhlKHQsaSl9LHtpOmMtMix4OmhlKHIsbyl9KX1lbHNlKGl8fG8pJiZhLnB1c2goInRyYW5zbGF0ZSgiK2krbitvK2UpfShvLnRyYW5zbGF0ZVgsby50cmFuc2xhdGVZLGEudHJhbnNsYXRlWCxhLnRyYW5zbGF0ZVksdSxjKSxmdW5jdGlvbih0LG4sZSxvKXt0IT09bj8odC1uPjE4MD9uKz0zNjA6bi10PjE4MCYmKHQrPTM2MCksby5wdXNoKHtpOmUucHVzaChpKGUpKyJyb3RhdGUoIixudWxsLHIpLTIseDpoZSh0LG4pfSkpOm4mJmUucHVzaChpKGUpKyJyb3RhdGUoIituK3IpfShvLnJvdGF0ZSxhLnJvdGF0ZSx1LGMpLGZ1bmN0aW9uKHQsbixlLG8pe3QhPT1uP28ucHVzaCh7aTplLnB1c2goaShlKSsic2tld1goIixudWxsLHIpLTIseDpoZSh0LG4pfSk6biYmZS5wdXNoKGkoZSkrInNrZXdYKCIrbityKX0oby5za2V3WCxhLnNrZXdYLHUsYyksZnVuY3Rpb24odCxuLGUscixvLGEpe2lmKHQhPT1lfHxuIT09cil7dmFyIHU9by5wdXNoKGkobykrInNjYWxlKCIsbnVsbCwiLCIsbnVsbCwiKSIpO2EucHVzaCh7aTp1LTQseDpoZSh0LGUpfSx7aTp1LTIseDpoZShuLHIpfSl9ZWxzZSAxPT09ZSYmMT09PXJ8fG8ucHVzaChpKG8pKyJzY2FsZSgiK2UrIiwiK3IrIikiKX0oby5zY2FsZVgsby5zY2FsZVksYS5zY2FsZVgsYS5zY2FsZVksdSxjKSxvPWE9bnVsbCxmdW5jdGlvbih0KXtmb3IodmFyIG4sZT0tMSxyPWMubGVuZ3RoOysrZTxyOyl1WyhuPWNbZV0pLmldPW4ueCh0KTtyZXR1cm4gdS5qb2luKCIiKX19fXZhciBTZT1UZShmdW5jdGlvbih0KXtyZXR1cm4ibm9uZSI9PT10P05lOihiZXx8KGJlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLG1lPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx4ZT1kb2N1bWVudC5kZWZhdWx0VmlldyksYmUuc3R5bGUudHJhbnNmb3JtPXQsdD14ZS5nZXRDb21wdXRlZFN0eWxlKG1lLmFwcGVuZENoaWxkKGJlKSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCJ0cmFuc2Zvcm0iKSxtZS5yZW1vdmVDaGlsZChiZSksQWUoKyh0PXQuc2xpY2UoNywtMSkuc3BsaXQoIiwiKSlbMF0sK3RbMV0sK3RbMl0sK3RbM10sK3RbNF0sK3RbNV0pKX0sInB4LCAiLCJweCkiLCJkZWcpIiksa2U9VGUoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/TmU6KHdlfHwod2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKSksd2Uuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLHQpLCh0PXdlLnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCkpP0FlKCh0PXQubWF0cml4KS5hLHQuYix0LmMsdC5kLHQuZSx0LmYpOk5lKX0sIiwgIiwiKSIsIikiKSxFZT1NYXRoLlNRUlQyLENlPTIsUGU9NCx6ZT0xZS0xMjtmdW5jdGlvbiBSZSh0KXtyZXR1cm4oKHQ9TWF0aC5leHAodCkpKzEvdCkvMn1mdW5jdGlvbiBEZSh0LG4pe3ZhciBlLHIsaT10WzBdLG89dFsxXSxhPXRbMl0sdT1uWzBdLGM9blsxXSxmPW5bMl0scz11LWksbD1jLW8saD1zKnMrbCpsO2lmKGg8emUpcj1NYXRoLmxvZyhmL2EpL0VlLGU9ZnVuY3Rpb24odCl7cmV0dXJuW2krdCpzLG8rdCpsLGEqTWF0aC5leHAoRWUqdCpyKV19O2Vsc2V7dmFyIGQ9TWF0aC5zcXJ0KGgpLHA9KGYqZi1hKmErUGUqaCkvKDIqYSpDZSpkKSx2PShmKmYtYSphLVBlKmgpLygyKmYqQ2UqZCksZz1NYXRoLmxvZyhNYXRoLnNxcnQocCpwKzEpLXApLHk9TWF0aC5sb2coTWF0aC5zcXJ0KHYqdisxKS12KTtyPSh5LWcpL0VlLGU9ZnVuY3Rpb24odCl7dmFyIG4sZT10KnIsdT1SZShnKSxjPWEvKENlKmQpKih1KihuPUVlKmUrZywoKG49TWF0aC5leHAoMipuKSktMSkvKG4rMSkpLWZ1bmN0aW9uKHQpe3JldHVybigodD1NYXRoLmV4cCh0KSktMS90KS8yfShnKSk7cmV0dXJuW2krYypzLG8rYypsLGEqdS9SZShFZSplK2cpXX19cmV0dXJuIGUuZHVyYXRpb249MWUzKnIsZX1mdW5jdGlvbiBxZSh0KXtyZXR1cm4gZnVuY3Rpb24obixlKXt2YXIgcj10KChuPW1uKG4pKS5oLChlPW1uKGUpKS5oKSxpPW9lKG4ucyxlLnMpLG89b2Uobi5sLGUubCksYT1vZShuLm9wYWNpdHksZS5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4uaD1yKHQpLG4ucz1pKHQpLG4ubD1vKHQpLG4ub3BhY2l0eT1hKHQpLG4rIiJ9fX12YXIgTGU9cWUocmUpLFVlPXFlKG9lKTtmdW5jdGlvbiBPZSh0KXtyZXR1cm4gZnVuY3Rpb24obixlKXt2YXIgcj10KChuPVluKG4pKS5oLChlPVluKGUpKS5oKSxpPW9lKG4uYyxlLmMpLG89b2Uobi5sLGUubCksYT1vZShuLm9wYWNpdHksZS5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4uaD1yKHQpLG4uYz1pKHQpLG4ubD1vKHQpLG4ub3BhY2l0eT1hKHQpLG4rIiJ9fX12YXIgQmU9T2UocmUpLFllPU9lKG9lKTtmdW5jdGlvbiBGZSh0KXtyZXR1cm4gZnVuY3Rpb24gbihlKXtmdW5jdGlvbiByKG4scil7dmFyIGk9dCgobj1abihuKSkuaCwocj1abihyKSkuaCksbz1vZShuLnMsci5zKSxhPW9lKG4ubCxyLmwpLHU9b2Uobi5vcGFjaXR5LHIub3BhY2l0eSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBuLmg9aSh0KSxuLnM9byh0KSxuLmw9YShNYXRoLnBvdyh0LGUpKSxuLm9wYWNpdHk9dSh0KSxuKyIifX1yZXR1cm4gZT0rZSxyLmdhbW1hPW4scn0oMSl9dmFyIEllPUZlKHJlKSxqZT1GZShvZSk7dmFyIEhlLFhlLEdlPTAsVmU9MCwkZT0wLFdlPTFlMyxaZT0wLFFlPTAsSmU9MCxLZT0ib2JqZWN0Ij09dHlwZW9mIHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2U6RGF0ZSx0cj0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsMTcpfTtmdW5jdGlvbiBucigpe3JldHVybiBRZXx8KHRyKGVyKSxRZT1LZS5ub3coKStKZSl9ZnVuY3Rpb24gZXIoKXtRZT0wfWZ1bmN0aW9uIHJyKCl7dGhpcy5fY2FsbD10aGlzLl90aW1lPXRoaXMuX25leHQ9bnVsbH1mdW5jdGlvbiBpcih0LG4sZSl7dmFyIHI9bmV3IHJyO3JldHVybiByLnJlc3RhcnQodCxuLGUpLHJ9ZnVuY3Rpb24gb3IoKXtucigpLCsrR2U7Zm9yKHZhciB0LG49SGU7bjspKHQ9UWUtbi5fdGltZSk+PTAmJm4uX2NhbGwuY2FsbChudWxsLHQpLG49bi5fbmV4dDstLUdlfWZ1bmN0aW9uIGFyKCl7UWU9KFplPUtlLm5vdygpKStKZSxHZT1WZT0wO3RyeXtvcigpfWZpbmFsbHl7R2U9MCxmdW5jdGlvbigpe3ZhciB0LG4sZT1IZSxyPTEvMDtmb3IoO2U7KWUuX2NhbGw/KHI+ZS5fdGltZSYmKHI9ZS5fdGltZSksdD1lLGU9ZS5fbmV4dCk6KG49ZS5fbmV4dCxlLl9uZXh0PW51bGwsZT10P3QuX25leHQ9bjpIZT1uKTtYZT10LGNyKHIpfSgpLFFlPTB9fWZ1bmN0aW9uIHVyKCl7dmFyIHQ9S2Uubm93KCksbj10LVplO24+V2UmJihKZS09bixaZT10KX1mdW5jdGlvbiBjcih0KXtHZXx8KFZlJiYoVmU9Y2xlYXJUaW1lb3V0KFZlKSksdC1RZT4yND8odDwxLzAmJihWZT1zZXRUaW1lb3V0KGFyLHQtS2Uubm93KCktSmUpKSwkZSYmKCRlPWNsZWFySW50ZXJ2YWwoJGUpKSk6KCRlfHwoWmU9S2Uubm93KCksJGU9c2V0SW50ZXJ2YWwodXIsV2UpKSxHZT0xLHRyKGFyKSkpfWZ1bmN0aW9uIGZyKHQsbixlKXt2YXIgcj1uZXcgcnI7cmV0dXJuIG49bnVsbD09bj8wOituLHIucmVzdGFydChmdW5jdGlvbihlKXtyLnN0b3AoKSx0KGUrbil9LG4sZSkscn1yci5wcm90b3R5cGU9aXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpycixyZXN0YXJ0OmZ1bmN0aW9uKHQsbixlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiIpO2U9KG51bGw9PWU/bnIoKTorZSkrKG51bGw9PW4/MDorbiksdGhpcy5fbmV4dHx8WGU9PT10aGlzfHwoWGU/WGUuX25leHQ9dGhpczpIZT10aGlzLFhlPXRoaXMpLHRoaXMuX2NhbGw9dCx0aGlzLl90aW1lPWUsY3IoKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2NhbGwmJih0aGlzLl9jYWxsPW51bGwsdGhpcy5fdGltZT0xLzAsY3IoKSl9fTt2YXIgc3I9SSgic3RhcnQiLCJlbmQiLCJjYW5jZWwiLCJpbnRlcnJ1cHQiKSxscj1bXSxocj0wLGRyPTEscHI9Mix2cj0zLGdyPTQseXI9NSxfcj02O2Z1bmN0aW9uIGJyKHQsbixlLHIsaSxvKXt2YXIgYT10Ll9fdHJhbnNpdGlvbjtpZihhKXtpZihlIGluIGEpcmV0dXJufWVsc2UgdC5fX3RyYW5zaXRpb249e307IWZ1bmN0aW9uKHQsbixlKXt2YXIgcixpPXQuX190cmFuc2l0aW9uO2Z1bmN0aW9uIG8oYyl7dmFyIGYscyxsLGg7aWYoZS5zdGF0ZSE9PWRyKXJldHVybiB1KCk7Zm9yKGYgaW4gaSlpZigoaD1pW2ZdKS5uYW1lPT09ZS5uYW1lKXtpZihoLnN0YXRlPT09dnIpcmV0dXJuIGZyKG8pO2guc3RhdGU9PT1ncj8oaC5zdGF0ZT1fcixoLnRpbWVyLnN0b3AoKSxoLm9uLmNhbGwoImludGVycnVwdCIsdCx0Ll9fZGF0YV9fLGguaW5kZXgsaC5ncm91cCksZGVsZXRlIGlbZl0pOitmPG4mJihoLnN0YXRlPV9yLGgudGltZXIuc3RvcCgpLGgub24uY2FsbCgiY2FuY2VsIix0LHQuX19kYXRhX18saC5pbmRleCxoLmdyb3VwKSxkZWxldGUgaVtmXSl9aWYoZnIoZnVuY3Rpb24oKXtlLnN0YXRlPT09dnImJihlLnN0YXRlPWdyLGUudGltZXIucmVzdGFydChhLGUuZGVsYXksZS50aW1lKSxhKGMpKX0pLGUuc3RhdGU9cHIsZS5vbi5jYWxsKCJzdGFydCIsdCx0Ll9fZGF0YV9fLGUuaW5kZXgsZS5ncm91cCksZS5zdGF0ZT09PXByKXtmb3IoZS5zdGF0ZT12cixyPW5ldyBBcnJheShsPWUudHdlZW4ubGVuZ3RoKSxmPTAscz0tMTtmPGw7KytmKShoPWUudHdlZW5bZl0udmFsdWUuY2FsbCh0LHQuX19kYXRhX18sZS5pbmRleCxlLmdyb3VwKSkmJihyWysrc109aCk7ci5sZW5ndGg9cysxfX1mdW5jdGlvbiBhKG4pe2Zvcih2YXIgaT1uPGUuZHVyYXRpb24/ZS5lYXNlLmNhbGwobnVsbCxuL2UuZHVyYXRpb24pOihlLnRpbWVyLnJlc3RhcnQodSksZS5zdGF0ZT15ciwxKSxvPS0xLGE9ci5sZW5ndGg7KytvPGE7KXJbb10uY2FsbCh0LGkpO2Uuc3RhdGU9PT15ciYmKGUub24uY2FsbCgiZW5kIix0LHQuX19kYXRhX18sZS5pbmRleCxlLmdyb3VwKSx1KCkpfWZ1bmN0aW9uIHUoKXtmb3IodmFyIHIgaW4gZS5zdGF0ZT1fcixlLnRpbWVyLnN0b3AoKSxkZWxldGUgaVtuXSxpKXJldHVybjtkZWxldGUgdC5fX3RyYW5zaXRpb259aVtuXT1lLGUudGltZXI9aXIoZnVuY3Rpb24odCl7ZS5zdGF0ZT1kcixlLnRpbWVyLnJlc3RhcnQobyxlLmRlbGF5LGUudGltZSksZS5kZWxheTw9dCYmbyh0LWUuZGVsYXkpfSwwLGUudGltZSl9KHQsZSx7bmFtZTpuLGluZGV4OnIsZ3JvdXA6aSxvbjpzcix0d2Vlbjpscix0aW1lOm8udGltZSxkZWxheTpvLmRlbGF5LGR1cmF0aW9uOm8uZHVyYXRpb24sZWFzZTpvLmVhc2UsdGltZXI6bnVsbCxzdGF0ZTpocn0pfWZ1bmN0aW9uIG1yKHQsbil7dmFyIGU9d3IodCxuKTtpZihlLnN0YXRlPmhyKXRocm93IG5ldyBFcnJvcigidG9vIGxhdGU7IGFscmVhZHkgc2NoZWR1bGVkIik7cmV0dXJuIGV9ZnVuY3Rpb24geHIodCxuKXt2YXIgZT13cih0LG4pO2lmKGUuc3RhdGU+dnIpdGhyb3cgbmV3IEVycm9yKCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nIik7cmV0dXJuIGV9ZnVuY3Rpb24gd3IodCxuKXt2YXIgZT10Ll9fdHJhbnNpdGlvbjtpZighZXx8IShlPWVbbl0pKXRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTtyZXR1cm4gZX1mdW5jdGlvbiBNcih0LG4pe3ZhciBlLHIsaSxvPXQuX190cmFuc2l0aW9uLGE9ITA7aWYobyl7Zm9yKGkgaW4gbj1udWxsPT1uP251bGw6bisiIixvKShlPW9baV0pLm5hbWU9PT1uPyhyPWUuc3RhdGU+cHImJmUuc3RhdGU8eXIsZS5zdGF0ZT1fcixlLnRpbWVyLnN0b3AoKSxlLm9uLmNhbGwocj8iaW50ZXJydXB0IjoiY2FuY2VsIix0LHQuX19kYXRhX18sZS5pbmRleCxlLmdyb3VwKSxkZWxldGUgb1tpXSk6YT0hMTthJiZkZWxldGUgdC5fX3RyYW5zaXRpb259fWZ1bmN0aW9uIE5yKHQsbixlKXt2YXIgcj10Ll9pZDtyZXR1cm4gdC5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9eHIodGhpcyxyKTsodC52YWx1ZXx8KHQudmFsdWU9e30pKVtuXT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGZ1bmN0aW9uKHQpe3JldHVybiB3cih0LHIpLnZhbHVlW25dfX1mdW5jdGlvbiBBcih0LG4pe3ZhciBlO3JldHVybigibnVtYmVyIj09dHlwZW9mIG4/aGU6biBpbnN0YW5jZW9mIGhuP2FlOihlPWhuKG4pKT8obj1lLGFlKTpnZSkodCxuKX12YXIgVHI9UHQucHJvdG90eXBlLmNvbnN0cnVjdG9yO2Z1bmN0aW9uIFNyKHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9fXZhciBrcj0wO2Z1bmN0aW9uIEVyKHQsbixlLHIpe3RoaXMuX2dyb3Vwcz10LHRoaXMuX3BhcmVudHM9bix0aGlzLl9uYW1lPWUsdGhpcy5faWQ9cn1mdW5jdGlvbiBDcih0KXtyZXR1cm4gUHQoKS50cmFuc2l0aW9uKHQpfWZ1bmN0aW9uIFByKCl7cmV0dXJuKytrcn12YXIgenI9UHQucHJvdG90eXBlO2Z1bmN0aW9uIFJyKHQpe3JldHVybigodCo9Mik8PTE/dCp0Oi0tdCooMi10KSsxKS8yfWZ1bmN0aW9uIERyKHQpe3JldHVybigodCo9Mik8PTE/dCp0KnQ6KHQtPTIpKnQqdCsyKS8yfUVyLnByb3RvdHlwZT1Dci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkVyLHNlbGVjdDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9uYW1lLGU9dGhpcy5faWQ7ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PVEodCkpO2Zvcih2YXIgcj10aGlzLl9ncm91cHMsaT1yLmxlbmd0aCxvPW5ldyBBcnJheShpKSxhPTA7YTxpOysrYSlmb3IodmFyIHUsYyxmPXJbYV0scz1mLmxlbmd0aCxsPW9bYV09bmV3IEFycmF5KHMpLGg9MDtoPHM7KytoKSh1PWZbaF0pJiYoYz10LmNhbGwodSx1Ll9fZGF0YV9fLGgsZikpJiYoIl9fZGF0YV9fImluIHUmJihjLl9fZGF0YV9fPXUuX19kYXRhX18pLGxbaF09YyxicihsW2hdLG4sZSxoLGwsd3IodSxlKSkpO3JldHVybiBuZXcgRXIobyx0aGlzLl9wYXJlbnRzLG4sZSl9LHNlbGVjdEFsbDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9uYW1lLGU9dGhpcy5faWQ7ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PUsodCkpO2Zvcih2YXIgcj10aGlzLl9ncm91cHMsaT1yLmxlbmd0aCxvPVtdLGE9W10sdT0wO3U8aTsrK3UpZm9yKHZhciBjLGY9clt1XSxzPWYubGVuZ3RoLGw9MDtsPHM7KytsKWlmKGM9ZltsXSl7Zm9yKHZhciBoLGQ9dC5jYWxsKGMsYy5fX2RhdGFfXyxsLGYpLHA9d3IoYyxlKSx2PTAsZz1kLmxlbmd0aDt2PGc7Kyt2KShoPWRbdl0pJiZicihoLG4sZSx2LGQscCk7by5wdXNoKGQpLGEucHVzaChjKX1yZXR1cm4gbmV3IEVyKG8sYSxuLGUpfSxmaWx0ZXI6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PXR0KHQpKTtmb3IodmFyIG49dGhpcy5fZ3JvdXBzLGU9bi5sZW5ndGgscj1uZXcgQXJyYXkoZSksaT0wO2k8ZTsrK2kpZm9yKHZhciBvLGE9bltpXSx1PWEubGVuZ3RoLGM9cltpXT1bXSxmPTA7Zjx1OysrZikobz1hW2ZdKSYmdC5jYWxsKG8sby5fX2RhdGFfXyxmLGEpJiZjLnB1c2gobyk7cmV0dXJuIG5ldyBFcihyLHRoaXMuX3BhcmVudHMsdGhpcy5fbmFtZSx0aGlzLl9pZCl9LG1lcmdlOmZ1bmN0aW9uKHQpe2lmKHQuX2lkIT09dGhpcy5faWQpdGhyb3cgbmV3IEVycm9yO2Zvcih2YXIgbj10aGlzLl9ncm91cHMsZT10Ll9ncm91cHMscj1uLmxlbmd0aCxpPWUubGVuZ3RoLG89TWF0aC5taW4ocixpKSxhPW5ldyBBcnJheShyKSx1PTA7dTxvOysrdSlmb3IodmFyIGMsZj1uW3VdLHM9ZVt1XSxsPWYubGVuZ3RoLGg9YVt1XT1uZXcgQXJyYXkobCksZD0wO2Q8bDsrK2QpKGM9ZltkXXx8c1tkXSkmJihoW2RdPWMpO2Zvcig7dTxyOysrdSlhW3VdPW5bdV07cmV0dXJuIG5ldyBFcihhLHRoaXMuX3BhcmVudHMsdGhpcy5fbmFtZSx0aGlzLl9pZCl9LHNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBuZXcgVHIodGhpcy5fZ3JvdXBzLHRoaXMuX3BhcmVudHMpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX25hbWUsbj10aGlzLl9pZCxlPVByKCkscj10aGlzLl9ncm91cHMsaT1yLmxlbmd0aCxvPTA7bzxpOysrbylmb3IodmFyIGEsdT1yW29dLGM9dS5sZW5ndGgsZj0wO2Y8YzsrK2YpaWYoYT11W2ZdKXt2YXIgcz13cihhLG4pO2JyKGEsdCxlLGYsdSx7dGltZTpzLnRpbWUrcy5kZWxheStzLmR1cmF0aW9uLGRlbGF5OjAsZHVyYXRpb246cy5kdXJhdGlvbixlYXNlOnMuZWFzZX0pfXJldHVybiBuZXcgRXIocix0aGlzLl9wYXJlbnRzLHQsZSl9LGNhbGw6enIuY2FsbCxub2Rlczp6ci5ub2Rlcyxub2RlOnpyLm5vZGUsc2l6ZTp6ci5zaXplLGVtcHR5OnpyLmVtcHR5LGVhY2g6enIuZWFjaCxvbjpmdW5jdGlvbih0LG4pe3ZhciBlPXRoaXMuX2lkO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/d3IodGhpcy5ub2RlKCksZSkub24ub24odCk6dGhpcy5lYWNoKGZ1bmN0aW9uKHQsbixlKXt2YXIgcixpLG89ZnVuY3Rpb24odCl7cmV0dXJuKHQrIiIpLnRyaW0oKS5zcGxpdCgvXnxccysvKS5ldmVyeShmdW5jdGlvbih0KXt2YXIgbj10LmluZGV4T2YoIi4iKTtyZXR1cm4gbj49MCYmKHQ9dC5zbGljZSgwLG4pKSwhdHx8InN0YXJ0Ij09PXR9KX0obik/bXI6eHI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9byh0aGlzLHQpLHU9YS5vbjt1IT09ciYmKGk9KHI9dSkuY29weSgpKS5vbihuLGUpLGEub249aX19KGUsdCxuKSl9LGF0dHI6ZnVuY3Rpb24odCxuKXt2YXIgZT0kKHQpLHI9InRyYW5zZm9ybSI9PT1lP2tlOkFyO3JldHVybiB0aGlzLmF0dHJUd2Vlbih0LCJmdW5jdGlvbiI9PXR5cGVvZiBuPyhlLmxvY2FsP2Z1bmN0aW9uKHQsbixlKXt2YXIgcixpLG87cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsdSxjPWUodGhpcyk7aWYobnVsbCE9YylyZXR1cm4oYT10aGlzLmdldEF0dHJpYnV0ZU5TKHQuc3BhY2UsdC5sb2NhbCkpPT09KHU9YysiIik/bnVsbDphPT09ciYmdT09PWk/bzooaT11LG89bihyPWEsYykpO3RoaXMucmVtb3ZlQXR0cmlidXRlTlModC5zcGFjZSx0LmxvY2FsKX19OmZ1bmN0aW9uKHQsbixlKXt2YXIgcixpLG87cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsdSxjPWUodGhpcyk7aWYobnVsbCE9YylyZXR1cm4oYT10aGlzLmdldEF0dHJpYnV0ZSh0KSk9PT0odT1jKyIiKT9udWxsOmE9PT1yJiZ1PT09aT9vOihpPXUsbz1uKHI9YSxjKSk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCl9fSkoZSxyLE5yKHRoaXMsImF0dHIuIit0LG4pKTpudWxsPT1uPyhlLmxvY2FsP2Z1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMucmVtb3ZlQXR0cmlidXRlTlModC5zcGFjZSx0LmxvY2FsKX19OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMucmVtb3ZlQXR0cmlidXRlKHQpfX0pKGUpOihlLmxvY2FsP2Z1bmN0aW9uKHQsbixlKXt2YXIgcixpLG89ZSsiIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEF0dHJpYnV0ZU5TKHQuc3BhY2UsdC5sb2NhbCk7cmV0dXJuIGE9PT1vP251bGw6YT09PXI/aTppPW4ocj1hLGUpfX06ZnVuY3Rpb24odCxuLGUpe3ZhciByLGksbz1lKyIiO3JldHVybiBmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlKHQpO3JldHVybiBhPT09bz9udWxsOmE9PT1yP2k6aT1uKHI9YSxlKX19KShlLHIsbikpfSxhdHRyVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgZT0iYXR0ci4iK3Q7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXJldHVybihlPXRoaXMudHdlZW4oZSkpJiZlLl92YWx1ZTtpZihudWxsPT1uKXJldHVybiB0aGlzLnR3ZWVuKGUsbnVsbCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yO3ZhciByPSQodCk7cmV0dXJuIHRoaXMudHdlZW4oZSwoci5sb2NhbD9mdW5jdGlvbih0LG4pe3ZhciBlLHI7ZnVuY3Rpb24gaSgpe3ZhciBpPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpIT09ciYmKGU9KHI9aSkmJmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3RoaXMuc2V0QXR0cmlidXRlTlModC5zcGFjZSx0LmxvY2FsLG4oZSkpfX0odCxpKSksZX1yZXR1cm4gaS5fdmFsdWU9bixpfTpmdW5jdGlvbih0LG4pe3ZhciBlLHI7ZnVuY3Rpb24gaSgpe3ZhciBpPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpIT09ciYmKGU9KHI9aSkmJmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3RoaXMuc2V0QXR0cmlidXRlKHQsbihlKSl9fSh0LGkpKSxlfXJldHVybiBpLl92YWx1ZT1uLGl9KShyLG4pKX0sc3R5bGU6ZnVuY3Rpb24odCxuLGUpe3ZhciByPSJ0cmFuc2Zvcm0iPT0odCs9IiIpP1NlOkFyO3JldHVybiBudWxsPT1uP3RoaXMuc3R5bGVUd2Vlbih0LGZ1bmN0aW9uKHQsbil7dmFyIGUscixpO3JldHVybiBmdW5jdGlvbigpe3ZhciBvPWN0KHRoaXMsdCksYT0odGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSh0KSxjdCh0aGlzLHQpKTtyZXR1cm4gbz09PWE/bnVsbDpvPT09ZSYmYT09PXI/aTppPW4oZT1vLHI9YSl9fSh0LHIpKS5vbigiZW5kLnN0eWxlLiIrdCxTcih0KSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/dGhpcy5zdHlsZVR3ZWVuKHQsZnVuY3Rpb24odCxuLGUpe3ZhciByLGksbztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1jdCh0aGlzLHQpLHU9ZSh0aGlzKSxjPXUrIiI7cmV0dXJuIG51bGw9PXUmJih0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KHQpLGM9dT1jdCh0aGlzLHQpKSxhPT09Yz9udWxsOmE9PT1yJiZjPT09aT9vOihpPWMsbz1uKHI9YSx1KSl9fSh0LHIsTnIodGhpcywic3R5bGUuIit0LG4pKSkuZWFjaChmdW5jdGlvbih0LG4pe3ZhciBlLHIsaSxvLGE9InN0eWxlLiIrbix1PSJlbmQuIithO3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXhyKHRoaXMsdCksZj1jLm9uLHM9bnVsbD09Yy52YWx1ZVthXT9vfHwobz1TcihuKSk6dm9pZCAwO2Y9PT1lJiZpPT09c3x8KHI9KGU9ZikuY29weSgpKS5vbih1LGk9cyksYy5vbj1yfX0odGhpcy5faWQsdCkpOnRoaXMuc3R5bGVUd2Vlbih0LGZ1bmN0aW9uKHQsbixlKXt2YXIgcixpLG89ZSsiIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1jdCh0aGlzLHQpO3JldHVybiBhPT09bz9udWxsOmE9PT1yP2k6aT1uKHI9YSxlKX19KHQscixuKSxlKS5vbigiZW5kLnN0eWxlLiIrdCxudWxsKX0sc3R5bGVUd2VlbjpmdW5jdGlvbih0LG4sZSl7dmFyIHI9InN0eWxlLiIrKHQrPSIiKTtpZihhcmd1bWVudHMubGVuZ3RoPDIpcmV0dXJuKHI9dGhpcy50d2VlbihyKSkmJnIuX3ZhbHVlO2lmKG51bGw9PW4pcmV0dXJuIHRoaXMudHdlZW4ocixudWxsKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIHRoaXMudHdlZW4ocixmdW5jdGlvbih0LG4sZSl7dmFyIHIsaTtmdW5jdGlvbiBvKCl7dmFyIG89bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG8hPT1pJiYocj0oaT1vKSYmZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbihyKXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KHQsbihyKSxlKX19KHQsbyxlKSkscn1yZXR1cm4gby5fdmFsdWU9bixvfSh0LG4sbnVsbD09ZT8iIjplKSl9LHRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHdlZW4oInRleHQiLCJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXQodGhpcyk7dGhpcy50ZXh0Q29udGVudD1udWxsPT1uPyIiOm59fShOcih0aGlzLCJ0ZXh0Iix0KSk6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD10fX0obnVsbD09dD8iIjp0KyIiKSl9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwodD10aGlzLl9pZCxmdW5jdGlvbigpe3ZhciBuPXRoaXMucGFyZW50Tm9kZTtmb3IodmFyIGUgaW4gdGhpcy5fX3RyYW5zaXRpb24paWYoK2UhPT10KXJldHVybjtuJiZuLnJlbW92ZUNoaWxkKHRoaXMpfSkpO3ZhciB0fSx0d2VlbjpmdW5jdGlvbih0LG4pe3ZhciBlPXRoaXMuX2lkO2lmKHQrPSIiLGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKHZhciByLGk9d3IodGhpcy5ub2RlKCksZSkudHdlZW4sbz0wLGE9aS5sZW5ndGg7bzxhOysrbylpZigocj1pW29dKS5uYW1lPT09dClyZXR1cm4gci52YWx1ZTtyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5lYWNoKChudWxsPT1uP2Z1bmN0aW9uKHQsbil7dmFyIGUscjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT14cih0aGlzLHQpLG89aS50d2VlbjtpZihvIT09ZSlmb3IodmFyIGE9MCx1PShyPWU9bykubGVuZ3RoO2E8dTsrK2EpaWYoclthXS5uYW1lPT09bil7KHI9ci5zbGljZSgpKS5zcGxpY2UoYSwxKTticmVha31pLnR3ZWVuPXJ9fTpmdW5jdGlvbih0LG4sZSl7dmFyIHIsaTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG89eHIodGhpcyx0KSxhPW8udHdlZW47aWYoYSE9PXIpe2k9KHI9YSkuc2xpY2UoKTtmb3IodmFyIHU9e25hbWU6bix2YWx1ZTplfSxjPTAsZj1pLmxlbmd0aDtjPGY7KytjKWlmKGlbY10ubmFtZT09PW4pe2lbY109dTticmVha31jPT09ZiYmaS5wdXNoKHUpfW8udHdlZW49aX19KShlLHQsbikpfSxkZWxheTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9pZDtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2goKCJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7bXIodGhpcyx0KS5kZWxheT0rbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTpmdW5jdGlvbih0LG4pe3JldHVybiBuPStuLGZ1bmN0aW9uKCl7bXIodGhpcyx0KS5kZWxheT1ufX0pKG4sdCkpOndyKHRoaXMubm9kZSgpLG4pLmRlbGF5fSxkdXJhdGlvbjpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9pZDtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2goKCJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7eHIodGhpcyx0KS5kdXJhdGlvbj0rbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTpmdW5jdGlvbih0LG4pe3JldHVybiBuPStuLGZ1bmN0aW9uKCl7eHIodGhpcyx0KS5kdXJhdGlvbj1ufX0pKG4sdCkpOndyKHRoaXMubm9kZSgpLG4pLmR1cmF0aW9ufSxlYXNlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2lkO3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChmdW5jdGlvbih0LG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gZnVuY3Rpb24oKXt4cih0aGlzLHQpLmVhc2U9bn19KG4sdCkpOndyKHRoaXMubm9kZSgpLG4pLmVhc2V9LGVuZDpmdW5jdGlvbigpe3ZhciB0LG4sZT10aGlzLHI9ZS5faWQsaT1lLnNpemUoKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obyxhKXt2YXIgdT17dmFsdWU6YX0sYz17dmFsdWU6ZnVuY3Rpb24oKXswPT0tLWkmJm8oKX19O2UuZWFjaChmdW5jdGlvbigpe3ZhciBlPXhyKHRoaXMsciksaT1lLm9uO2khPT10JiYoKG49KHQ9aSkuY29weSgpKS5fLmNhbmNlbC5wdXNoKHUpLG4uXy5pbnRlcnJ1cHQucHVzaCh1KSxuLl8uZW5kLnB1c2goYykpLGUub249bn0pfSl9fTt2YXIgcXI9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiBNYXRoLnBvdyh0LG4pfXJldHVybiBuPStuLGUuZXhwb25lbnQ9dCxlfSgzKSxMcj1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7cmV0dXJuIDEtTWF0aC5wb3coMS10LG4pfXJldHVybiBuPStuLGUuZXhwb25lbnQ9dCxlfSgzKSxVcj1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7cmV0dXJuKCh0Kj0yKTw9MT9NYXRoLnBvdyh0LG4pOjItTWF0aC5wb3coMi10LG4pKS8yfXJldHVybiBuPStuLGUuZXhwb25lbnQ9dCxlfSgzKSxPcj1NYXRoLlBJLEJyPU9yLzI7ZnVuY3Rpb24gWXIodCl7cmV0dXJuKDEtTWF0aC5jb3MoT3IqdCkpLzJ9ZnVuY3Rpb24gRnIodCl7cmV0dXJuKCh0Kj0yKTw9MT9NYXRoLnBvdygyLDEwKnQtMTApOjItTWF0aC5wb3coMiwxMC0xMCp0KSkvMn1mdW5jdGlvbiBJcih0KXtyZXR1cm4oKHQqPTIpPD0xPzEtTWF0aC5zcXJ0KDEtdCp0KTpNYXRoLnNxcnQoMS0odC09MikqdCkrMSkvMn12YXIganI9NC8xMSxIcj02LzExLFhyPTgvMTEsR3I9Ljc1LFZyPTkvMTEsJHI9MTAvMTEsV3I9LjkzNzUsWnI9MjEvMjIsUXI9NjMvNjQsSnI9MS9qci9qcjtmdW5jdGlvbiBLcih0KXtyZXR1cm4odD0rdCk8anI/SnIqdCp0OnQ8WHI/SnIqKHQtPUhyKSp0K0dyOnQ8JHI/SnIqKHQtPVZyKSp0K1dyOkpyKih0LT1acikqdCtRcn12YXIgdGk9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiB0KnQqKChuKzEpKnQtbil9cmV0dXJuIG49K24sZS5vdmVyc2hvb3Q9dCxlfSgxLjcwMTU4KSxuaT1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7cmV0dXJuLS10KnQqKChuKzEpKnQrbikrMX1yZXR1cm4gbj0rbixlLm92ZXJzaG9vdD10LGV9KDEuNzAxNTgpLGVpPWZ1bmN0aW9uIHQobil7ZnVuY3Rpb24gZSh0KXtyZXR1cm4oKHQqPTIpPDE/dCp0KigobisxKSp0LW4pOih0LT0yKSp0KigobisxKSp0K24pKzIpLzJ9cmV0dXJuIG49K24sZS5vdmVyc2hvb3Q9dCxlfSgxLjcwMTU4KSxyaT0yKk1hdGguUEksaWk9ZnVuY3Rpb24gdChuLGUpe3ZhciByPU1hdGguYXNpbigxLyhuPU1hdGgubWF4KDEsbikpKSooZS89cmkpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIG4qTWF0aC5wb3coMiwxMCotLXQpKk1hdGguc2luKChyLXQpL2UpfXJldHVybiBpLmFtcGxpdHVkZT1mdW5jdGlvbihuKXtyZXR1cm4gdChuLGUqcmkpfSxpLnBlcmlvZD1mdW5jdGlvbihlKXtyZXR1cm4gdChuLGUpfSxpfSgxLC4zKSxvaT1mdW5jdGlvbiB0KG4sZSl7dmFyIHI9TWF0aC5hc2luKDEvKG49TWF0aC5tYXgoMSxuKSkpKihlLz1yaSk7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gMS1uKk1hdGgucG93KDIsLTEwKih0PSt0KSkqTWF0aC5zaW4oKHQrcikvZSl9cmV0dXJuIGkuYW1wbGl0dWRlPWZ1bmN0aW9uKG4pe3JldHVybiB0KG4sZSpyaSl9LGkucGVyaW9kPWZ1bmN0aW9uKGUpe3JldHVybiB0KG4sZSl9LGl9KDEsLjMpLGFpPWZ1bmN0aW9uIHQobixlKXt2YXIgcj1NYXRoLmFzaW4oMS8obj1NYXRoLm1heCgxLG4pKSkqKGUvPXJpKTtmdW5jdGlvbiBpKHQpe3JldHVybigodD0yKnQtMSk8MD9uKk1hdGgucG93KDIsMTAqdCkqTWF0aC5zaW4oKHItdCkvZSk6Mi1uKk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKChyK3QpL2UpKS8yfXJldHVybiBpLmFtcGxpdHVkZT1mdW5jdGlvbihuKXtyZXR1cm4gdChuLGUqcmkpfSxpLnBlcmlvZD1mdW5jdGlvbihlKXtyZXR1cm4gdChuLGUpfSxpfSgxLC4zKSx1aT17dGltZTpudWxsLGRlbGF5OjAsZHVyYXRpb246MjUwLGVhc2U6RHJ9O2Z1bmN0aW9uIGNpKHQsbil7Zm9yKHZhciBlOyEoZT10Ll9fdHJhbnNpdGlvbil8fCEoZT1lW25dKTspaWYoISh0PXQucGFyZW50Tm9kZSkpcmV0dXJuIHVpLnRpbWU9bnIoKSx1aTtyZXR1cm4gZX1QdC5wcm90b3R5cGUuaW50ZXJydXB0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNcih0aGlzLHQpfSl9LFB0LnByb3RvdHlwZS50cmFuc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuLGU7dCBpbnN0YW5jZW9mIEVyPyhuPXQuX2lkLHQ9dC5fbmFtZSk6KG49UHIoKSwoZT11aSkudGltZT1ucigpLHQ9bnVsbD09dD9udWxsOnQrIiIpO2Zvcih2YXIgcj10aGlzLl9ncm91cHMsaT1yLmxlbmd0aCxvPTA7bzxpOysrbylmb3IodmFyIGEsdT1yW29dLGM9dS5sZW5ndGgsZj0wO2Y8YzsrK2YpKGE9dVtmXSkmJmJyKGEsdCxuLGYsdSxlfHxjaShhLG4pKTtyZXR1cm4gbmV3IEVyKHIsdGhpcy5fcGFyZW50cyx0LG4pfTt2YXIgZmk9W251bGxdO2Z1bmN0aW9uIHNpKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBsaSh0LG4sZSl7dGhpcy50YXJnZXQ9dCx0aGlzLnR5cGU9bix0aGlzLnNlbGVjdGlvbj1lfWZ1bmN0aW9uIGhpKCl7dC5ldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBkaSgpe3QuZXZlbnQucHJldmVudERlZmF1bHQoKSx0LmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfXZhciBwaT17bmFtZToiZHJhZyJ9LHZpPXtuYW1lOiJzcGFjZSJ9LGdpPXtuYW1lOiJoYW5kbGUifSx5aT17bmFtZToiY2VudGVyIn0sX2k9e25hbWU6IngiLGhhbmRsZXM6WyJlIiwidyJdLm1hcChUaSksaW5wdXQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCYmW1t0WzBdLG5bMF1bMV1dLFt0WzFdLG5bMV1bMV1dXX0sb3V0cHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZbdFswXVswXSx0WzFdWzBdXX19LGJpPXtuYW1lOiJ5IixoYW5kbGVzOlsibiIsInMiXS5tYXAoVGkpLGlucHV0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJltbblswXVswXSx0WzBdXSxbblsxXVswXSx0WzFdXV19LG91dHB1dDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmW3RbMF1bMV0sdFsxXVsxXV19fSxtaT17bmFtZToieHkiLGhhbmRsZXM6WyJuIiwiZSIsInMiLCJ3IiwibnciLCJuZSIsInNlIiwic3ciXS5tYXAoVGkpLGlucHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0fSxvdXRwdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fSx4aT17b3ZlcmxheToiY3Jvc3NoYWlyIixzZWxlY3Rpb246Im1vdmUiLG46Im5zLXJlc2l6ZSIsZToiZXctcmVzaXplIixzOiJucy1yZXNpemUiLHc6ImV3LXJlc2l6ZSIsbnc6Im53c2UtcmVzaXplIixuZToibmVzdy1yZXNpemUiLHNlOiJud3NlLXJlc2l6ZSIsc3c6Im5lc3ctcmVzaXplIn0sd2k9e2U6InciLHc6ImUiLG53OiJuZSIsbmU6Im53IixzZToic3ciLHN3OiJzZSJ9LE1pPXtuOiJzIixzOiJuIixudzoic3ciLG5lOiJzZSIsc2U6Im5lIixzdzoibncifSxOaT17b3ZlcmxheToxLHNlbGVjdGlvbjoxLG46bnVsbCxlOjEsczpudWxsLHc6LTEsbnc6LTEsbmU6MSxzZToxLHN3Oi0xfSxBaT17b3ZlcmxheToxLHNlbGVjdGlvbjoxLG46LTEsZTpudWxsLHM6MSx3Om51bGwsbnc6LTEsbmU6LTEsc2U6MSxzdzoxfTtmdW5jdGlvbiBUaSh0KXtyZXR1cm57dHlwZTp0fX1mdW5jdGlvbiBTaSgpe3JldHVybiF0LmV2ZW50LmJ1dHRvbn1mdW5jdGlvbiBraSgpe3ZhciB0PXRoaXMub3duZXJTVkdFbGVtZW50fHx0aGlzO3JldHVybltbMCwwXSxbdC53aWR0aC5iYXNlVmFsLnZhbHVlLHQuaGVpZ2h0LmJhc2VWYWwudmFsdWVdXX1mdW5jdGlvbiBFaSh0KXtmb3IoOyF0Ll9fYnJ1c2g7KWlmKCEodD10LnBhcmVudE5vZGUpKXJldHVybjtyZXR1cm4gdC5fX2JydXNofWZ1bmN0aW9uIENpKHQpe3JldHVybiB0WzBdWzBdPT09dFsxXVswXXx8dFswXVsxXT09PXRbMV1bMV19ZnVuY3Rpb24gUGkobil7dmFyIGUscj1raSxpPVNpLG89SSh1LCJzdGFydCIsImJydXNoIiwiZW5kIiksYT02O2Z1bmN0aW9uIHUodCl7dmFyIGU9dC5wcm9wZXJ0eSgiX19icnVzaCIsaCkuc2VsZWN0QWxsKCIub3ZlcmxheSIpLmRhdGEoW1RpKCJvdmVybGF5IildKTtlLmVudGVyKCkuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLCJvdmVybGF5IikuYXR0cigicG9pbnRlci1ldmVudHMiLCJhbGwiKS5hdHRyKCJjdXJzb3IiLHhpLm92ZXJsYXkpLm1lcmdlKGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1FaSh0aGlzKS5leHRlbnQ7enQodGhpcykuYXR0cigieCIsdFswXVswXSkuYXR0cigieSIsdFswXVsxXSkuYXR0cigid2lkdGgiLHRbMV1bMF0tdFswXVswXSkuYXR0cigiaGVpZ2h0Iix0WzFdWzFdLXRbMF1bMV0pfSksdC5zZWxlY3RBbGwoIi5zZWxlY3Rpb24iKS5kYXRhKFtUaSgic2VsZWN0aW9uIildKS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNzIiwic2VsZWN0aW9uIikuYXR0cigiY3Vyc29yIix4aS5zZWxlY3Rpb24pLmF0dHIoImZpbGwiLCIjNzc3IikuYXR0cigiZmlsbC1vcGFjaXR5IiwuMykuYXR0cigic3Ryb2tlIiwiI2ZmZiIpLmF0dHIoInNoYXBlLXJlbmRlcmluZyIsImNyaXNwRWRnZXMiKTt2YXIgcj10LnNlbGVjdEFsbCgiLmhhbmRsZSIpLmRhdGEobi5oYW5kbGVzLGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGV9KTtyLmV4aXQoKS5yZW1vdmUoKSxyLmVudGVyKCkuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKHQpe3JldHVybiJoYW5kbGUgaGFuZGxlLS0iK3QudHlwZX0pLmF0dHIoImN1cnNvciIsZnVuY3Rpb24odCl7cmV0dXJuIHhpW3QudHlwZV19KSx0LmVhY2goYykuYXR0cigiZmlsbCIsIm5vbmUiKS5hdHRyKCJwb2ludGVyLWV2ZW50cyIsImFsbCIpLnN0eWxlKCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiLCJyZ2JhKDAsMCwwLDApIikub24oIm1vdXNlZG93bi5icnVzaCB0b3VjaHN0YXJ0LmJydXNoIixsKX1mdW5jdGlvbiBjKCl7dmFyIHQ9enQodGhpcyksbj1FaSh0aGlzKS5zZWxlY3Rpb247bj8odC5zZWxlY3RBbGwoIi5zZWxlY3Rpb24iKS5zdHlsZSgiZGlzcGxheSIsbnVsbCkuYXR0cigieCIsblswXVswXSkuYXR0cigieSIsblswXVsxXSkuYXR0cigid2lkdGgiLG5bMV1bMF0tblswXVswXSkuYXR0cigiaGVpZ2h0IixuWzFdWzFdLW5bMF1bMV0pLHQuc2VsZWN0QWxsKCIuaGFuZGxlIikuc3R5bGUoImRpc3BsYXkiLG51bGwpLmF0dHIoIngiLGZ1bmN0aW9uKHQpe3JldHVybiJlIj09PXQudHlwZVt0LnR5cGUubGVuZ3RoLTFdP25bMV1bMF0tYS8yOm5bMF1bMF0tYS8yfSkuYXR0cigieSIsZnVuY3Rpb24odCl7cmV0dXJuInMiPT09dC50eXBlWzBdP25bMV1bMV0tYS8yOm5bMF1bMV0tYS8yfSkuYXR0cigid2lkdGgiLGZ1bmN0aW9uKHQpe3JldHVybiJuIj09PXQudHlwZXx8InMiPT09dC50eXBlP25bMV1bMF0tblswXVswXSthOmF9KS5hdHRyKCJoZWlnaHQiLGZ1bmN0aW9uKHQpe3JldHVybiJlIj09PXQudHlwZXx8InciPT09dC50eXBlP25bMV1bMV0tblswXVsxXSthOmF9KSk6dC5zZWxlY3RBbGwoIi5zZWxlY3Rpb24sLmhhbmRsZSIpLnN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpLmF0dHIoIngiLG51bGwpLmF0dHIoInkiLG51bGwpLmF0dHIoIndpZHRoIixudWxsKS5hdHRyKCJoZWlnaHQiLG51bGwpfWZ1bmN0aW9uIGYodCxuKXtyZXR1cm4gdC5fX2JydXNoLmVtaXR0ZXJ8fG5ldyBzKHQsbil9ZnVuY3Rpb24gcyh0LG4pe3RoaXMudGhhdD10LHRoaXMuYXJncz1uLHRoaXMuc3RhdGU9dC5fX2JydXNoLHRoaXMuYWN0aXZlPTB9ZnVuY3Rpb24gbCgpe2lmKHQuZXZlbnQudG91Y2hlcyl7aWYodC5ldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg8dC5ldmVudC50b3VjaGVzLmxlbmd0aClyZXR1cm4gZGkoKX1lbHNlIGlmKGUpcmV0dXJuO2lmKGkuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgcixvLGEsdSxzLGwsaCxkLHAsdixnLHksXyxiPXRoaXMsbT10LmV2ZW50LnRhcmdldC5fX2RhdGFfXy50eXBlLHg9InNlbGVjdGlvbiI9PT0odC5ldmVudC5tZXRhS2V5P209Im92ZXJsYXkiOm0pP3BpOnQuZXZlbnQuYWx0S2V5P3lpOmdpLHc9bj09PWJpP251bGw6TmlbbV0sTT1uPT09X2k/bnVsbDpBaVttXSxOPUVpKGIpLEE9Ti5leHRlbnQsVD1OLnNlbGVjdGlvbixTPUFbMF1bMF0saz1BWzBdWzFdLEU9QVsxXVswXSxDPUFbMV1bMV0sUD13JiZNJiZ0LmV2ZW50LnNoaWZ0S2V5LHo9T3QoYiksUj16LEQ9ZihiLGFyZ3VtZW50cykuYmVmb3Jlc3RhcnQoKTsib3ZlcmxheSI9PT1tP04uc2VsZWN0aW9uPVQ9W1tyPW49PT1iaT9TOnpbMF0sYT1uPT09X2k/azp6WzFdXSxbcz1uPT09Ymk/RTpyLGg9bj09PV9pP0M6YV1dOihyPVRbMF1bMF0sYT1UWzBdWzFdLHM9VFsxXVswXSxoPVRbMV1bMV0pLG89cix1PWEsbD1zLGQ9aDt2YXIgcT16dChiKS5hdHRyKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSxMPXEuc2VsZWN0QWxsKCIub3ZlcmxheSIpLmF0dHIoImN1cnNvciIseGlbbV0pO2lmKHQuZXZlbnQudG91Y2hlcylxLm9uKCJ0b3VjaG1vdmUuYnJ1c2giLE8sITApLm9uKCJ0b3VjaGVuZC5icnVzaCB0b3VjaGNhbmNlbC5icnVzaCIsWSwhMCk7ZWxzZXt2YXIgVT16dCh0LmV2ZW50LnZpZXcpLm9uKCJrZXlkb3duLmJydXNoIixmdW5jdGlvbigpe3N3aXRjaCh0LmV2ZW50LmtleUNvZGUpe2Nhc2UgMTY6UD13JiZNO2JyZWFrO2Nhc2UgMTg6eD09PWdpJiYodyYmKHM9bC1wKncscj1vK3AqdyksTSYmKGg9ZC12Kk0sYT11K3YqTSkseD15aSxCKCkpO2JyZWFrO2Nhc2UgMzI6eCE9PWdpJiZ4IT09eWl8fCh3PDA/cz1sLXA6dz4wJiYocj1vLXApLE08MD9oPWQtdjpNPjAmJihhPXUtdikseD12aSxMLmF0dHIoImN1cnNvciIseGkuc2VsZWN0aW9uKSxCKCkpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWRpKCl9LCEwKS5vbigia2V5dXAuYnJ1c2giLGZ1bmN0aW9uKCl7c3dpdGNoKHQuZXZlbnQua2V5Q29kZSl7Y2FzZSAxNjpQJiYoeT1fPVA9ITEsQigpKTticmVhaztjYXNlIDE4Ong9PT15aSYmKHc8MD9zPWw6dz4wJiYocj1vKSxNPDA/aD1kOk0+MCYmKGE9dSkseD1naSxCKCkpO2JyZWFrO2Nhc2UgMzI6eD09PXZpJiYodC5ldmVudC5hbHRLZXk/KHcmJihzPWwtcCp3LHI9bytwKncpLE0mJihoPWQtdipNLGE9dSt2Kk0pLHg9eWkpOih3PDA/cz1sOnc+MCYmKHI9byksTTwwP2g9ZDpNPjAmJihhPXUpLHg9Z2kpLEwuYXR0cigiY3Vyc29yIix4aVttXSksQigpKTticmVhaztkZWZhdWx0OnJldHVybn1kaSgpfSwhMCkub24oIm1vdXNlbW92ZS5icnVzaCIsTywhMCkub24oIm1vdXNldXAuYnJ1c2giLFksITApO0l0KHQuZXZlbnQudmlldyl9aGkoKSxNcihiKSxjLmNhbGwoYiksRC5zdGFydCgpfWZ1bmN0aW9uIE8oKXt2YXIgdD1PdChiKTshUHx8eXx8X3x8KE1hdGguYWJzKHRbMF0tUlswXSk+TWF0aC5hYnModFsxXS1SWzFdKT9fPSEwOnk9ITApLFI9dCxnPSEwLGRpKCksQigpfWZ1bmN0aW9uIEIoKXt2YXIgdDtzd2l0Y2gocD1SWzBdLXpbMF0sdj1SWzFdLXpbMV0seCl7Y2FzZSB2aTpjYXNlIHBpOncmJihwPU1hdGgubWF4KFMtcixNYXRoLm1pbihFLXMscCkpLG89citwLGw9cytwKSxNJiYodj1NYXRoLm1heChrLWEsTWF0aC5taW4oQy1oLHYpKSx1PWErdixkPWgrdik7YnJlYWs7Y2FzZSBnaTp3PDA/KHA9TWF0aC5tYXgoUy1yLE1hdGgubWluKEUtcixwKSksbz1yK3AsbD1zKTp3PjAmJihwPU1hdGgubWF4KFMtcyxNYXRoLm1pbihFLXMscCkpLG89cixsPXMrcCksTTwwPyh2PU1hdGgubWF4KGstYSxNYXRoLm1pbihDLWEsdikpLHU9YSt2LGQ9aCk6TT4wJiYodj1NYXRoLm1heChrLWgsTWF0aC5taW4oQy1oLHYpKSx1PWEsZD1oK3YpO2JyZWFrO2Nhc2UgeWk6dyYmKG89TWF0aC5tYXgoUyxNYXRoLm1pbihFLHItcCp3KSksbD1NYXRoLm1heChTLE1hdGgubWluKEUscytwKncpKSksTSYmKHU9TWF0aC5tYXgoayxNYXRoLm1pbihDLGEtdipNKSksZD1NYXRoLm1heChrLE1hdGgubWluKEMsaCt2Kk0pKSl9bDxvJiYodyo9LTEsdD1yLHI9cyxzPXQsdD1vLG89bCxsPXQsbSBpbiB3aSYmTC5hdHRyKCJjdXJzb3IiLHhpW209d2lbbV1dKSksZDx1JiYoTSo9LTEsdD1hLGE9aCxoPXQsdD11LHU9ZCxkPXQsbSBpbiBNaSYmTC5hdHRyKCJjdXJzb3IiLHhpW209TWlbbV1dKSksTi5zZWxlY3Rpb24mJihUPU4uc2VsZWN0aW9uKSx5JiYobz1UWzBdWzBdLGw9VFsxXVswXSksXyYmKHU9VFswXVsxXSxkPVRbMV1bMV0pLFRbMF1bMF09PT1vJiZUWzBdWzFdPT09dSYmVFsxXVswXT09PWwmJlRbMV1bMV09PT1kfHwoTi5zZWxlY3Rpb249W1tvLHVdLFtsLGRdXSxjLmNhbGwoYiksRC5icnVzaCgpKX1mdW5jdGlvbiBZKCl7aWYoaGkoKSx0LmV2ZW50LnRvdWNoZXMpe2lmKHQuZXZlbnQudG91Y2hlcy5sZW5ndGgpcmV0dXJuO2UmJmNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPW51bGx9LDUwMCkscS5vbigidG91Y2htb3ZlLmJydXNoIHRvdWNoZW5kLmJydXNoIHRvdWNoY2FuY2VsLmJydXNoIixudWxsKX1lbHNlIGp0KHQuZXZlbnQudmlldyxnKSxVLm9uKCJrZXlkb3duLmJydXNoIGtleXVwLmJydXNoIG1vdXNlbW92ZS5icnVzaCBtb3VzZXVwLmJydXNoIixudWxsKTtxLmF0dHIoInBvaW50ZXItZXZlbnRzIiwiYWxsIiksTC5hdHRyKCJjdXJzb3IiLHhpLm92ZXJsYXkpLE4uc2VsZWN0aW9uJiYoVD1OLnNlbGVjdGlvbiksQ2koVCkmJihOLnNlbGVjdGlvbj1udWxsLGMuY2FsbChiKSksRC5lbmQoKX19ZnVuY3Rpb24gaCgpe3ZhciB0PXRoaXMuX19icnVzaHx8e3NlbGVjdGlvbjpudWxsfTtyZXR1cm4gdC5leHRlbnQ9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC5kaW09bix0fXJldHVybiB1Lm1vdmU9ZnVuY3Rpb24odCxlKXt0LnNlbGVjdGlvbj90Lm9uKCJzdGFydC5icnVzaCIsZnVuY3Rpb24oKXtmKHRoaXMsYXJndW1lbnRzKS5iZWZvcmVzdGFydCgpLnN0YXJ0KCl9KS5vbigiaW50ZXJydXB0LmJydXNoIGVuZC5icnVzaCIsZnVuY3Rpb24oKXtmKHRoaXMsYXJndW1lbnRzKS5lbmQoKX0pLnR3ZWVuKCJicnVzaCIsZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9dC5fX2JydXNoLGk9Zih0LGFyZ3VtZW50cyksbz1yLnNlbGVjdGlvbixhPW4uaW5wdXQoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ZSxyLmV4dGVudCksdT15ZShvLGEpO2Z1bmN0aW9uIHMobil7ci5zZWxlY3Rpb249MT09PW4mJkNpKGEpP251bGw6dShuKSxjLmNhbGwodCksaS5icnVzaCgpfXJldHVybiBvJiZhP3M6cygxKX0pOnQuZWFjaChmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxyPXRoaXMuX19icnVzaCxpPW4uaW5wdXQoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZS5hcHBseSh0aGlzLHQpOmUsci5leHRlbnQpLG89Zih0aGlzLHQpLmJlZm9yZXN0YXJ0KCk7TXIodGhpcyksci5zZWxlY3Rpb249bnVsbD09aXx8Q2koaSk/bnVsbDppLGMuY2FsbCh0aGlzKSxvLnN0YXJ0KCkuYnJ1c2goKS5lbmQoKX0pfSxzLnByb3RvdHlwZT17YmVmb3Jlc3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09Kyt0aGlzLmFjdGl2ZSYmKHRoaXMuc3RhdGUuZW1pdHRlcj10aGlzLHRoaXMuc3RhcnRpbmc9ITApLHRoaXN9LHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRpbmcmJih0aGlzLnN0YXJ0aW5nPSExLHRoaXMuZW1pdCgic3RhcnQiKSksdGhpc30sYnJ1c2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbWl0KCJicnVzaCIpLHRoaXN9LGVuZDpmdW5jdGlvbigpe3JldHVybiAwPT0tLXRoaXMuYWN0aXZlJiYoZGVsZXRlIHRoaXMuc3RhdGUuZW1pdHRlcix0aGlzLmVtaXQoImVuZCIpKSx0aGlzfSxlbWl0OmZ1bmN0aW9uKHQpe1N0KG5ldyBsaSh1LHQsbi5vdXRwdXQodGhpcy5zdGF0ZS5zZWxlY3Rpb24pKSxvLmFwcGx5LG8sW3QsdGhpcy50aGF0LHRoaXMuYXJnc10pfX0sdS5leHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpzaShbWyt0WzBdWzBdLCt0WzBdWzFdXSxbK3RbMV1bMF0sK3RbMV1bMV1dXSksdSk6cn0sdS5maWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpzaSghIXQpLHUpOml9LHUuaGFuZGxlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0rdCx1KTphfSx1Lm9uPWZ1bmN0aW9uKCl7dmFyIHQ9by5vbi5hcHBseShvLGFyZ3VtZW50cyk7cmV0dXJuIHQ9PT1vP3U6dH0sdX12YXIgemk9TWF0aC5jb3MsUmk9TWF0aC5zaW4sRGk9TWF0aC5QSSxxaT1EaS8yLExpPTIqRGksVWk9TWF0aC5tYXg7dmFyIE9pPUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBCaSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19dmFyIFlpPU1hdGguUEksRmk9MipZaSxJaT1GaS0xZS02O2Z1bmN0aW9uIGppKCl7dGhpcy5feDA9dGhpcy5feTA9dGhpcy5feDE9dGhpcy5feTE9bnVsbCx0aGlzLl89IiJ9ZnVuY3Rpb24gSGkoKXtyZXR1cm4gbmV3IGppfWZ1bmN0aW9uIFhpKHQpe3JldHVybiB0LnNvdXJjZX1mdW5jdGlvbiBHaSh0KXtyZXR1cm4gdC50YXJnZXR9ZnVuY3Rpb24gVmkodCl7cmV0dXJuIHQucmFkaXVzfWZ1bmN0aW9uICRpKHQpe3JldHVybiB0LnN0YXJ0QW5nbGV9ZnVuY3Rpb24gV2kodCl7cmV0dXJuIHQuZW5kQW5nbGV9amkucHJvdG90eXBlPUhpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6amksbW92ZVRvOmZ1bmN0aW9uKHQsbil7dGhpcy5fKz0iTSIrKHRoaXMuX3gwPXRoaXMuX3gxPSt0KSsiLCIrKHRoaXMuX3kwPXRoaXMuX3kxPStuKX0sY2xvc2VQYXRoOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX3gxJiYodGhpcy5feDE9dGhpcy5feDAsdGhpcy5feTE9dGhpcy5feTAsdGhpcy5fKz0iWiIpfSxsaW5lVG86ZnVuY3Rpb24odCxuKXt0aGlzLl8rPSJMIisodGhpcy5feDE9K3QpKyIsIisodGhpcy5feTE9K24pfSxxdWFkcmF0aWNDdXJ2ZVRvOmZ1bmN0aW9uKHQsbixlLHIpe3RoaXMuXys9IlEiKyArdCsiLCIrICtuKyIsIisodGhpcy5feDE9K2UpKyIsIisodGhpcy5feTE9K3IpfSxiZXppZXJDdXJ2ZVRvOmZ1bmN0aW9uKHQsbixlLHIsaSxvKXt0aGlzLl8rPSJDIisgK3QrIiwiKyArbisiLCIrICtlKyIsIisgK3IrIiwiKyh0aGlzLl94MT0raSkrIiwiKyh0aGlzLl95MT0rbyl9LGFyY1RvOmZ1bmN0aW9uKHQsbixlLHIsaSl7dD0rdCxuPStuLGU9K2Uscj0rcixpPStpO3ZhciBvPXRoaXMuX3gxLGE9dGhpcy5feTEsdT1lLXQsYz1yLW4sZj1vLXQscz1hLW4sbD1mKmYrcypzO2lmKGk8MCl0aHJvdyBuZXcgRXJyb3IoIm5lZ2F0aXZlIHJhZGl1czogIitpKTtpZihudWxsPT09dGhpcy5feDEpdGhpcy5fKz0iTSIrKHRoaXMuX3gxPXQpKyIsIisodGhpcy5feTE9bik7ZWxzZSBpZihsPjFlLTYpaWYoTWF0aC5hYnMocyp1LWMqZik+MWUtNiYmaSl7dmFyIGg9ZS1vLGQ9ci1hLHA9dSp1K2MqYyx2PWgqaCtkKmQsZz1NYXRoLnNxcnQocCkseT1NYXRoLnNxcnQobCksXz1pKk1hdGgudGFuKChZaS1NYXRoLmFjb3MoKHArbC12KS8oMipnKnkpKSkvMiksYj1fL3ksbT1fL2c7TWF0aC5hYnMoYi0xKT4xZS02JiYodGhpcy5fKz0iTCIrKHQrYipmKSsiLCIrKG4rYipzKSksdGhpcy5fKz0iQSIraSsiLCIraSsiLDAsMCwiKyArKHMqaD5mKmQpKyIsIisodGhpcy5feDE9dCttKnUpKyIsIisodGhpcy5feTE9bittKmMpfWVsc2UgdGhpcy5fKz0iTCIrKHRoaXMuX3gxPXQpKyIsIisodGhpcy5feTE9bik7ZWxzZTt9LGFyYzpmdW5jdGlvbih0LG4sZSxyLGksbyl7dD0rdCxuPStuO3ZhciBhPShlPStlKSpNYXRoLmNvcyhyKSx1PWUqTWF0aC5zaW4ociksYz10K2EsZj1uK3Uscz0xXm8sbD1vP3ItaTppLXI7aWYoZTwwKXRocm93IG5ldyBFcnJvcigibmVnYXRpdmUgcmFkaXVzOiAiK2UpO251bGw9PT10aGlzLl94MT90aGlzLl8rPSJNIitjKyIsIitmOihNYXRoLmFicyh0aGlzLl94MS1jKT4xZS02fHxNYXRoLmFicyh0aGlzLl95MS1mKT4xZS02KSYmKHRoaXMuXys9IkwiK2MrIiwiK2YpLGUmJihsPDAmJihsPWwlRmkrRmkpLGw+SWk/dGhpcy5fKz0iQSIrZSsiLCIrZSsiLDAsMSwiK3MrIiwiKyh0LWEpKyIsIisobi11KSsiQSIrZSsiLCIrZSsiLDAsMSwiK3MrIiwiKyh0aGlzLl94MT1jKSsiLCIrKHRoaXMuX3kxPWYpOmw+MWUtNiYmKHRoaXMuXys9IkEiK2UrIiwiK2UrIiwwLCIrICsobD49WWkpKyIsIitzKyIsIisodGhpcy5feDE9dCtlKk1hdGguY29zKGkpKSsiLCIrKHRoaXMuX3kxPW4rZSpNYXRoLnNpbihpKSkpKX0scmVjdDpmdW5jdGlvbih0LG4sZSxyKXt0aGlzLl8rPSJNIisodGhpcy5feDA9dGhpcy5feDE9K3QpKyIsIisodGhpcy5feTA9dGhpcy5feTE9K24pKyJoIisgK2UrInYiKyArcisiaCIrLWUrIloifSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl99fTtmdW5jdGlvbiBaaSgpe31mdW5jdGlvbiBRaSh0LG4pe3ZhciBlPW5ldyBaaTtpZih0IGluc3RhbmNlb2YgWmkpdC5lYWNoKGZ1bmN0aW9uKHQsbil7ZS5zZXQobix0KX0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSl7dmFyIHIsaT0tMSxvPXQubGVuZ3RoO2lmKG51bGw9PW4pZm9yKDsrK2k8bzspZS5zZXQoaSx0W2ldKTtlbHNlIGZvcig7KytpPG87KWUuc2V0KG4ocj10W2ldLGksdCkscil9ZWxzZSBpZih0KWZvcih2YXIgYSBpbiB0KWUuc2V0KGEsdFthXSk7cmV0dXJuIGV9ZnVuY3Rpb24gSmkoKXtyZXR1cm57fX1mdW5jdGlvbiBLaSh0LG4sZSl7dFtuXT1lfWZ1bmN0aW9uIHRvKCl7cmV0dXJuIFFpKCl9ZnVuY3Rpb24gbm8odCxuLGUpe3Quc2V0KG4sZSl9ZnVuY3Rpb24gZW8oKXt9WmkucHJvdG90eXBlPVFpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WmksaGFzOmZ1bmN0aW9uKHQpe3JldHVybiIkIit0IGluIHRoaXN9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1siJCIrdF19LHNldDpmdW5jdGlvbih0LG4pe3JldHVybiB0aGlzWyIkIit0XT1uLHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgbj0iJCIrdDtyZXR1cm4gbiBpbiB0aGlzJiZkZWxldGUgdGhpc1tuXX0sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcykiJCI9PT10WzBdJiZkZWxldGUgdGhpc1t0XX0sa2V5czpmdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiB0aGlzKSIkIj09PW5bMF0mJnQucHVzaChuLnNsaWNlKDEpKTtyZXR1cm4gdH0sdmFsdWVzOmZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHRoaXMpIiQiPT09blswXSYmdC5wdXNoKHRoaXNbbl0pO3JldHVybiB0fSxlbnRyaWVzOmZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHRoaXMpIiQiPT09blswXSYmdC5wdXNoKHtrZXk6bi5zbGljZSgxKSx2YWx1ZTp0aGlzW25dfSk7cmV0dXJuIHR9LHNpemU6ZnVuY3Rpb24oKXt2YXIgdD0wO2Zvcih2YXIgbiBpbiB0aGlzKSIkIj09PW5bMF0mJisrdDtyZXR1cm4gdH0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcylpZigiJCI9PT10WzBdKXJldHVybiExO3JldHVybiEwfSxlYWNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0aGlzKSIkIj09PW5bMF0mJnQodGhpc1tuXSxuLnNsaWNlKDEpLHRoaXMpfX07dmFyIHJvPVFpLnByb3RvdHlwZTtmdW5jdGlvbiBpbyh0LG4pe3ZhciBlPW5ldyBlbztpZih0IGluc3RhbmNlb2YgZW8pdC5lYWNoKGZ1bmN0aW9uKHQpe2UuYWRkKHQpfSk7ZWxzZSBpZih0KXt2YXIgcj0tMSxpPXQubGVuZ3RoO2lmKG51bGw9PW4pZm9yKDsrK3I8aTspZS5hZGQodFtyXSk7ZWxzZSBmb3IoOysrcjxpOyllLmFkZChuKHRbcl0scix0KSl9cmV0dXJuIGV9ZW8ucHJvdG90eXBlPWlvLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZW8saGFzOnJvLmhhcyxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbIiQiKyh0Kz0iIildPXQsdGhpc30scmVtb3ZlOnJvLnJlbW92ZSxjbGVhcjpyby5jbGVhcix2YWx1ZXM6cm8ua2V5cyxzaXplOnJvLnNpemUsZW1wdHk6cm8uZW1wdHksZWFjaDpyby5lYWNofTt2YXIgb289QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIGFvKHQsbil7cmV0dXJuIHQtbn1mdW5jdGlvbiB1byh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gY28odCxuKXtmb3IodmFyIGUscj0tMSxpPW4ubGVuZ3RoOysrcjxpOylpZihlPWZvKHQsbltyXSkpcmV0dXJuIGU7cmV0dXJuIDB9ZnVuY3Rpb24gZm8odCxuKXtmb3IodmFyIGU9blswXSxyPW5bMV0saT0tMSxvPTAsYT10Lmxlbmd0aCx1PWEtMTtvPGE7dT1vKyspe3ZhciBjPXRbb10sZj1jWzBdLHM9Y1sxXSxsPXRbdV0saD1sWzBdLGQ9bFsxXTtpZihzbyhjLGwsbikpcmV0dXJuIDA7cz5yIT1kPnImJmU8KGgtZikqKHItcykvKGQtcykrZiYmKGk9LWkpfXJldHVybiBpfWZ1bmN0aW9uIHNvKHQsbixlKXt2YXIgcixpLG8sYTtyZXR1cm4gZnVuY3Rpb24odCxuLGUpe3JldHVybihuWzBdLXRbMF0pKihlWzFdLXRbMV0pPT0oZVswXS10WzBdKSooblsxXS10WzFdKX0odCxuLGUpJiYoaT10W3I9Kyh0WzBdPT09blswXSldLG89ZVtyXSxhPW5bcl0saTw9byYmbzw9YXx8YTw9byYmbzw9aSl9ZnVuY3Rpb24gbG8oKXt9dmFyIGhvPVtbXSxbW1sxLDEuNV0sWy41LDFdXV0sW1tbMS41LDFdLFsxLDEuNV1dXSxbW1sxLjUsMV0sWy41LDFdXV0sW1tbMSwuNV0sWzEuNSwxXV1dLFtbWzEsMS41XSxbLjUsMV1dLFtbMSwuNV0sWzEuNSwxXV1dLFtbWzEsLjVdLFsxLDEuNV1dXSxbW1sxLC41XSxbLjUsMV1dXSxbW1suNSwxXSxbMSwuNV1dXSxbW1sxLDEuNV0sWzEsLjVdXV0sW1tbLjUsMV0sWzEsLjVdXSxbWzEuNSwxXSxbMSwxLjVdXV0sW1tbMS41LDFdLFsxLC41XV1dLFtbWy41LDFdLFsxLjUsMV1dXSxbW1sxLDEuNV0sWzEuNSwxXV1dLFtbWy41LDFdLFsxLDEuNV1dXSxbXV07ZnVuY3Rpb24gcG8oKXt2YXIgdD0xLG49MSxlPU0scj11O2Z1bmN0aW9uIGkodCl7dmFyIG49ZSh0KTtpZihBcnJheS5pc0FycmF5KG4pKW49bi5zbGljZSgpLnNvcnQoYW8pO2Vsc2V7dmFyIHI9cyh0KSxpPXJbMF0sYT1yWzFdO249dyhpLGEsbiksbj1nKE1hdGguZmxvb3IoaS9uKSpuLE1hdGguZmxvb3IoYS9uKSpuLG4pfXJldHVybiBuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbyh0LG4pfSl9ZnVuY3Rpb24gbyhlLGkpe3ZhciBvPVtdLHU9W107cmV0dXJuIGZ1bmN0aW9uKGUscixpKXt2YXIgbyx1LGMsZixzLGwsaD1uZXcgQXJyYXksZD1uZXcgQXJyYXk7bz11PS0xLGY9ZVswXT49cixob1tmPDwxXS5mb3JFYWNoKHApO2Zvcig7KytvPHQtMTspYz1mLGY9ZVtvKzFdPj1yLGhvW2N8Zjw8MV0uZm9yRWFjaChwKTtob1tmPDwwXS5mb3JFYWNoKHApO2Zvcig7Kyt1PG4tMTspe2ZvcihvPS0xLGY9ZVt1KnQrdF0+PXIscz1lW3UqdF0+PXIsaG9bZjw8MXxzPDwyXS5mb3JFYWNoKHApOysrbzx0LTE7KWM9ZixmPWVbdSp0K3QrbysxXT49cixsPXMscz1lW3UqdCtvKzFdPj1yLGhvW2N8Zjw8MXxzPDwyfGw8PDNdLmZvckVhY2gocCk7aG9bZnxzPDwzXS5mb3JFYWNoKHApfW89LTEscz1lW3UqdF0+PXIsaG9bczw8Ml0uZm9yRWFjaChwKTtmb3IoOysrbzx0LTE7KWw9cyxzPWVbdSp0K28rMV0+PXIsaG9bczw8MnxsPDwzXS5mb3JFYWNoKHApO2Z1bmN0aW9uIHAodCl7dmFyIG4sZSxyPVt0WzBdWzBdK28sdFswXVsxXSt1XSxjPVt0WzFdWzBdK28sdFsxXVsxXSt1XSxmPWEocikscz1hKGMpOyhuPWRbZl0pPyhlPWhbc10pPyhkZWxldGUgZFtuLmVuZF0sZGVsZXRlIGhbZS5zdGFydF0sbj09PWU/KG4ucmluZy5wdXNoKGMpLGkobi5yaW5nKSk6aFtuLnN0YXJ0XT1kW2UuZW5kXT17c3RhcnQ6bi5zdGFydCxlbmQ6ZS5lbmQscmluZzpuLnJpbmcuY29uY2F0KGUucmluZyl9KTooZGVsZXRlIGRbbi5lbmRdLG4ucmluZy5wdXNoKGMpLGRbbi5lbmQ9c109bik6KG49aFtzXSk/KGU9ZFtmXSk/KGRlbGV0ZSBoW24uc3RhcnRdLGRlbGV0ZSBkW2UuZW5kXSxuPT09ZT8obi5yaW5nLnB1c2goYyksaShuLnJpbmcpKTpoW2Uuc3RhcnRdPWRbbi5lbmRdPXtzdGFydDplLnN0YXJ0LGVuZDpuLmVuZCxyaW5nOmUucmluZy5jb25jYXQobi5yaW5nKX0pOihkZWxldGUgaFtuLnN0YXJ0XSxuLnJpbmcudW5zaGlmdChyKSxoW24uc3RhcnQ9Zl09bik6aFtmXT1kW3NdPXtzdGFydDpmLGVuZDpzLHJpbmc6W3IsY119fWhvW3M8PDNdLmZvckVhY2gocCl9KGUsaSxmdW5jdGlvbih0KXtyKHQsZSxpKSxmdW5jdGlvbih0KXtmb3IodmFyIG49MCxlPXQubGVuZ3RoLHI9dFtlLTFdWzFdKnRbMF1bMF0tdFtlLTFdWzBdKnRbMF1bMV07KytuPGU7KXIrPXRbbi0xXVsxXSp0W25dWzBdLXRbbi0xXVswXSp0W25dWzFdO3JldHVybiByfSh0KT4wP28ucHVzaChbdF0pOnUucHVzaCh0KX0pLHUuZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIG4sZT0wLHI9by5sZW5ndGg7ZTxyOysrZSlpZigtMSE9PWNvKChuPW9bZV0pWzBdLHQpKXJldHVybiB2b2lkIG4ucHVzaCh0KX0pLHt0eXBlOiJNdWx0aVBvbHlnb24iLHZhbHVlOmksY29vcmRpbmF0ZXM6b319ZnVuY3Rpb24gYShuKXtyZXR1cm4gMipuWzBdK25bMV0qKHQrMSkqNH1mdW5jdGlvbiB1KGUscixpKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG8sYT1lWzBdLHU9ZVsxXSxjPTB8YSxmPTB8dSxzPXJbZip0K2NdO2E+MCYmYTx0JiZjPT09YSYmKG89cltmKnQrYy0xXSxlWzBdPWErKGktbykvKHMtbyktLjUpLHU+MCYmdTxuJiZmPT09dSYmKG89clsoZi0xKSp0K2NdLGVbMV09dSsoaS1vKS8ocy1vKS0uNSl9KX1yZXR1cm4gaS5jb250b3VyPW8saS5zaXplPWZ1bmN0aW9uKGUpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVyblt0LG5dO3ZhciByPU1hdGguY2VpbChlWzBdKSxvPU1hdGguY2VpbChlWzFdKTtpZighKHI+MCYmbz4wKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2l6ZSIpO3JldHVybiB0PXIsbj1vLGl9LGkudGhyZXNob2xkcz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OkFycmF5LmlzQXJyYXkodCk/dW8ob28uY2FsbCh0KSk6dW8odCksaSk6ZX0saS5zbW9vdGg9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dD91OmxvLGkpOnI9PT11fSxpfWZ1bmN0aW9uIHZvKHQsbixlKXtmb3IodmFyIHI9dC53aWR0aCxpPXQuaGVpZ2h0LG89MSsoZTw8MSksYT0wO2E8aTsrK2EpZm9yKHZhciB1PTAsYz0wO3U8citlOysrdSl1PHImJihjKz10LmRhdGFbdSthKnJdKSx1Pj1lJiYodT49byYmKGMtPXQuZGF0YVt1LW8rYSpyXSksbi5kYXRhW3UtZSthKnJdPWMvTWF0aC5taW4odSsxLHItMStvLXUsbykpfWZ1bmN0aW9uIGdvKHQsbixlKXtmb3IodmFyIHI9dC53aWR0aCxpPXQuaGVpZ2h0LG89MSsoZTw8MSksYT0wO2E8cjsrK2EpZm9yKHZhciB1PTAsYz0wO3U8aStlOysrdSl1PGkmJihjKz10LmRhdGFbYSt1KnJdKSx1Pj1lJiYodT49byYmKGMtPXQuZGF0YVthKyh1LW8pKnJdKSxuLmRhdGFbYSsodS1lKSpyXT1jL01hdGgubWluKHUrMSxpLTErby11LG8pKX1mdW5jdGlvbiB5byh0KXtyZXR1cm4gdFswXX1mdW5jdGlvbiBfbyh0KXtyZXR1cm4gdFsxXX1mdW5jdGlvbiBibygpe3JldHVybiAxfXZhciBtbz17fSx4bz17fSx3bz0zNCxNbz0xMCxObz0xMztmdW5jdGlvbiBBbyh0KXtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJkIiwicmV0dXJuIHsiK3QubWFwKGZ1bmN0aW9uKHQsbil7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpKyI6IGRbIituKyJdIn0pLmpvaW4oIiwiKSsifSIpfWZ1bmN0aW9uIFRvKHQpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCksZT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgciBpbiB0KXIgaW4gbnx8ZS5wdXNoKG5bcl09cil9KSxlfWZ1bmN0aW9uIFNvKHQsbil7dmFyIGU9dCsiIixyPWUubGVuZ3RoO3JldHVybiByPG4/bmV3IEFycmF5KG4tcisxKS5qb2luKDApK2U6ZX1mdW5jdGlvbiBrbyh0KXt2YXIgbixlPXQuZ2V0VVRDSG91cnMoKSxyPXQuZ2V0VVRDTWludXRlcygpLGk9dC5nZXRVVENTZWNvbmRzKCksbz10LmdldFVUQ01pbGxpc2Vjb25kcygpO3JldHVybiBpc05hTih0KT8iSW52YWxpZCBEYXRlIjooKG49dC5nZXRVVENGdWxsWWVhcigpKTwwPyItIitTbygtbiw2KTpuPjk5OTk/IisiK1NvKG4sNik6U28obiw0KSkrIi0iK1NvKHQuZ2V0VVRDTW9udGgoKSsxLDIpKyItIitTbyh0LmdldFVUQ0RhdGUoKSwyKSsobz8iVCIrU28oZSwyKSsiOiIrU28ociwyKSsiOiIrU28oaSwyKSsiLiIrU28obywzKSsiWiI6aT8iVCIrU28oZSwyKSsiOiIrU28ociwyKSsiOiIrU28oaSwyKSsiWiI6cnx8ZT8iVCIrU28oZSwyKSsiOiIrU28ociwyKSsiWiI6IiIpfWZ1bmN0aW9uIEVvKHQpe3ZhciBuPW5ldyBSZWdFeHAoJ1siJyt0KyJcblxyXSIpLGU9dC5jaGFyQ29kZUF0KDApO2Z1bmN0aW9uIHIodCxuKXt2YXIgcixpPVtdLG89dC5sZW5ndGgsYT0wLHU9MCxjPW88PTAsZj0hMTtmdW5jdGlvbiBzKCl7aWYoYylyZXR1cm4geG87aWYoZilyZXR1cm4gZj0hMSxtbzt2YXIgbixyLGk9YTtpZih0LmNoYXJDb2RlQXQoaSk9PT13byl7Zm9yKDthKys8byYmdC5jaGFyQ29kZUF0KGEpIT09d298fHQuY2hhckNvZGVBdCgrK2EpPT09d287KTtyZXR1cm4obj1hKT49bz9jPSEwOihyPXQuY2hhckNvZGVBdChhKyspKT09PU1vP2Y9ITA6cj09PU5vJiYoZj0hMCx0LmNoYXJDb2RlQXQoYSk9PT1NbyYmKythKSx0LnNsaWNlKGkrMSxuLTEpLnJlcGxhY2UoLyIiL2csJyInKX1mb3IoO2E8bzspe2lmKChyPXQuY2hhckNvZGVBdChuPWErKykpPT09TW8pZj0hMDtlbHNlIGlmKHI9PT1ObylmPSEwLHQuY2hhckNvZGVBdChhKT09PU1vJiYrK2E7ZWxzZSBpZihyIT09ZSljb250aW51ZTtyZXR1cm4gdC5zbGljZShpLG4pfXJldHVybiBjPSEwLHQuc2xpY2UoaSxvKX1mb3IodC5jaGFyQ29kZUF0KG8tMSk9PT1NbyYmLS1vLHQuY2hhckNvZGVBdChvLTEpPT09Tm8mJi0tbzsocj1zKCkpIT09eG87KXtmb3IodmFyIGw9W107ciE9PW1vJiZyIT09eG87KWwucHVzaChyKSxyPXMoKTtuJiZudWxsPT0obD1uKGwsdSsrKSl8fGkucHVzaChsKX1yZXR1cm4gaX1mdW5jdGlvbiBpKG4sZSl7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gYShuW3RdKX0pLmpvaW4odCl9KX1mdW5jdGlvbiBvKG4pe3JldHVybiBuLm1hcChhKS5qb2luKHQpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PXQ/IiI6dCBpbnN0YW5jZW9mIERhdGU/a28odCk6bi50ZXN0KHQrPSIiKT8nIicrdC5yZXBsYWNlKC8iL2csJyIiJykrJyInOnR9cmV0dXJue3BhcnNlOmZ1bmN0aW9uKHQsbil7dmFyIGUsaSxvPXIodCxmdW5jdGlvbih0LHIpe2lmKGUpcmV0dXJuIGUodCxyLTEpO2k9dCxlPW4/ZnVuY3Rpb24odCxuKXt2YXIgZT1Bbyh0KTtyZXR1cm4gZnVuY3Rpb24ocixpKXtyZXR1cm4gbihlKHIpLGksdCl9fSh0LG4pOkFvKHQpfSk7cmV0dXJuIG8uY29sdW1ucz1pfHxbXSxvfSxwYXJzZVJvd3M6cixmb3JtYXQ6ZnVuY3Rpb24obixlKXtyZXR1cm4gbnVsbD09ZSYmKGU9VG8obikpLFtlLm1hcChhKS5qb2luKHQpXS5jb25jYXQoaShuLGUpKS5qb2luKCJcbiIpfSxmb3JtYXRCb2R5OmZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGw9PW4mJihuPVRvKHQpKSxpKHQsbikuam9pbigiXG4iKX0sZm9ybWF0Um93czpmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAobykuam9pbigiXG4iKX19fXZhciBDbz1FbygiLCIpLFBvPUNvLnBhcnNlLHpvPUNvLnBhcnNlUm93cyxSbz1Dby5mb3JtYXQsRG89Q28uZm9ybWF0Qm9keSxxbz1Dby5mb3JtYXRSb3dzLExvPUVvKCJcdCIpLFVvPUxvLnBhcnNlLE9vPUxvLnBhcnNlUm93cyxCbz1Mby5mb3JtYXQsWW89TG8uZm9ybWF0Qm9keSxGbz1Mby5mb3JtYXRSb3dzO2Z1bmN0aW9uIElvKHQpe2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcih0LnN0YXR1cysiICIrdC5zdGF0dXNUZXh0KTtyZXR1cm4gdC5ibG9iKCl9ZnVuY3Rpb24gam8odCl7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKHQuc3RhdHVzKyIgIit0LnN0YXR1c1RleHQpO3JldHVybiB0LmFycmF5QnVmZmVyKCl9ZnVuY3Rpb24gSG8odCl7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKHQuc3RhdHVzKyIgIit0LnN0YXR1c1RleHQpO3JldHVybiB0LnRleHQoKX1mdW5jdGlvbiBYbyh0LG4pe3JldHVybiBmZXRjaCh0LG4pLnRoZW4oSG8pfWZ1bmN0aW9uIEdvKHQpe3JldHVybiBmdW5jdGlvbihuLGUscil7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9ZSxlPXZvaWQgMCksWG8obixlKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4scil9KX19dmFyIFZvPUdvKFBvKSwkbz1HbyhVbyk7ZnVuY3Rpb24gV28odCl7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKHQuc3RhdHVzKyIgIit0LnN0YXR1c1RleHQpO3JldHVybiB0Lmpzb24oKX1mdW5jdGlvbiBabyh0KXtyZXR1cm4gZnVuY3Rpb24obixlKXtyZXR1cm4gWG8obixlKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybihuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcobix0KX0pfX12YXIgUW89Wm8oImFwcGxpY2F0aW9uL3htbCIpLEpvPVpvKCJ0ZXh0L2h0bWwiKSxLbz1abygiaW1hZ2Uvc3ZnK3htbCIpO2Z1bmN0aW9uIHRhKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBuYSgpe3JldHVybiAxZS02KihNYXRoLnJhbmRvbSgpLS41KX1mdW5jdGlvbiBlYSh0LG4sZSxyKXtpZihpc05hTihuKXx8aXNOYU4oZSkpcmV0dXJuIHQ7dmFyIGksbyxhLHUsYyxmLHMsbCxoLGQ9dC5fcm9vdCxwPXtkYXRhOnJ9LHY9dC5feDAsZz10Ll95MCx5PXQuX3gxLF89dC5feTE7aWYoIWQpcmV0dXJuIHQuX3Jvb3Q9cCx0O2Zvcig7ZC5sZW5ndGg7KWlmKChmPW4+PShvPSh2K3kpLzIpKT92PW86eT1vLChzPWU+PShhPShnK18pLzIpKT9nPWE6Xz1hLGk9ZCwhKGQ9ZFtsPXM8PDF8Zl0pKXJldHVybiBpW2xdPXAsdDtpZih1PSt0Ll94LmNhbGwobnVsbCxkLmRhdGEpLGM9K3QuX3kuY2FsbChudWxsLGQuZGF0YSksbj09PXUmJmU9PT1jKXJldHVybiBwLm5leHQ9ZCxpP2lbbF09cDp0Ll9yb290PXAsdDtkb3tpPWk/aVtsXT1uZXcgQXJyYXkoNCk6dC5fcm9vdD1uZXcgQXJyYXkoNCksKGY9bj49KG89KHYreSkvMikpP3Y9bzp5PW8sKHM9ZT49KGE9KGcrXykvMikpP2c9YTpfPWF9d2hpbGUoKGw9czw8MXxmKT09KGg9KGM+PWEpPDwxfHU+PW8pKTtyZXR1cm4gaVtoXT1kLGlbbF09cCx0fWZ1bmN0aW9uIHJhKHQsbixlLHIsaSl7dGhpcy5ub2RlPXQsdGhpcy54MD1uLHRoaXMueTA9ZSx0aGlzLngxPXIsdGhpcy55MT1pfWZ1bmN0aW9uIGlhKHQpe3JldHVybiB0WzBdfWZ1bmN0aW9uIG9hKHQpe3JldHVybiB0WzFdfWZ1bmN0aW9uIGFhKHQsbixlKXt2YXIgcj1uZXcgdWEobnVsbD09bj9pYTpuLG51bGw9PWU/b2E6ZSxOYU4sTmFOLE5hTixOYU4pO3JldHVybiBudWxsPT10P3I6ci5hZGRBbGwodCl9ZnVuY3Rpb24gdWEodCxuLGUscixpLG8pe3RoaXMuX3g9dCx0aGlzLl95PW4sdGhpcy5feDA9ZSx0aGlzLl95MD1yLHRoaXMuX3gxPWksdGhpcy5feTE9byx0aGlzLl9yb290PXZvaWQgMH1mdW5jdGlvbiBjYSh0KXtmb3IodmFyIG49e2RhdGE6dC5kYXRhfSxlPW47dD10Lm5leHQ7KWU9ZS5uZXh0PXtkYXRhOnQuZGF0YX07cmV0dXJuIG59dmFyIGZhPWFhLnByb3RvdHlwZT11YS5wcm90b3R5cGU7ZnVuY3Rpb24gc2EodCl7cmV0dXJuIHQueCt0LnZ4fWZ1bmN0aW9uIGxhKHQpe3JldHVybiB0LnkrdC52eX1mdW5jdGlvbiBoYSh0KXtyZXR1cm4gdC5pbmRleH1mdW5jdGlvbiBkYSh0LG4pe3ZhciBlPXQuZ2V0KG4pO2lmKCFlKXRocm93IG5ldyBFcnJvcigibWlzc2luZzogIituKTtyZXR1cm4gZX1mdW5jdGlvbiBwYSh0KXtyZXR1cm4gdC54fWZ1bmN0aW9uIHZhKHQpe3JldHVybiB0Lnl9ZmEuY29weT1mdW5jdGlvbigpe3ZhciB0LG4sZT1uZXcgdWEodGhpcy5feCx0aGlzLl95LHRoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3gxLHRoaXMuX3kxKSxyPXRoaXMuX3Jvb3Q7aWYoIXIpcmV0dXJuIGU7aWYoIXIubGVuZ3RoKXJldHVybiBlLl9yb290PWNhKHIpLGU7Zm9yKHQ9W3tzb3VyY2U6cix0YXJnZXQ6ZS5fcm9vdD1uZXcgQXJyYXkoNCl9XTtyPXQucG9wKCk7KWZvcih2YXIgaT0wO2k8NDsrK2kpKG49ci5zb3VyY2VbaV0pJiYobi5sZW5ndGg/dC5wdXNoKHtzb3VyY2U6bix0YXJnZXQ6ci50YXJnZXRbaV09bmV3IEFycmF5KDQpfSk6ci50YXJnZXRbaV09Y2EobikpO3JldHVybiBlfSxmYS5hZGQ9ZnVuY3Rpb24odCl7dmFyIG49K3RoaXMuX3guY2FsbChudWxsLHQpLGU9K3RoaXMuX3kuY2FsbChudWxsLHQpO3JldHVybiBlYSh0aGlzLmNvdmVyKG4sZSksbixlLHQpfSxmYS5hZGRBbGw9ZnVuY3Rpb24odCl7dmFyIG4sZSxyLGksbz10Lmxlbmd0aCxhPW5ldyBBcnJheShvKSx1PW5ldyBBcnJheShvKSxjPTEvMCxmPTEvMCxzPS0xLzAsbD0tMS8wO2ZvcihlPTA7ZTxvOysrZSlpc05hTihyPSt0aGlzLl94LmNhbGwobnVsbCxuPXRbZV0pKXx8aXNOYU4oaT0rdGhpcy5feS5jYWxsKG51bGwsbikpfHwoYVtlXT1yLHVbZV09aSxyPGMmJihjPXIpLHI+cyYmKHM9ciksaTxmJiYoZj1pKSxpPmwmJihsPWkpKTtpZihjPnN8fGY+bClyZXR1cm4gdGhpcztmb3IodGhpcy5jb3ZlcihjLGYpLmNvdmVyKHMsbCksZT0wO2U8bzsrK2UpZWEodGhpcyxhW2VdLHVbZV0sdFtlXSk7cmV0dXJuIHRoaXN9LGZhLmNvdmVyPWZ1bmN0aW9uKHQsbil7aWYoaXNOYU4odD0rdCl8fGlzTmFOKG49K24pKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuX3gwLHI9dGhpcy5feTAsaT10aGlzLl94MSxvPXRoaXMuX3kxO2lmKGlzTmFOKGUpKWk9KGU9TWF0aC5mbG9vcih0KSkrMSxvPShyPU1hdGguZmxvb3IobikpKzE7ZWxzZXtmb3IodmFyIGEsdSxjPWktZSxmPXRoaXMuX3Jvb3Q7ZT50fHx0Pj1pfHxyPm58fG4+PW87KXN3aXRjaCh1PShuPHIpPDwxfHQ8ZSwoYT1uZXcgQXJyYXkoNCkpW3VdPWYsZj1hLGMqPTIsdSl7Y2FzZSAwOmk9ZStjLG89citjO2JyZWFrO2Nhc2UgMTplPWktYyxvPXIrYzticmVhaztjYXNlIDI6aT1lK2Mscj1vLWM7YnJlYWs7Y2FzZSAzOmU9aS1jLHI9by1jfXRoaXMuX3Jvb3QmJnRoaXMuX3Jvb3QubGVuZ3RoJiYodGhpcy5fcm9vdD1mKX1yZXR1cm4gdGhpcy5feDA9ZSx0aGlzLl95MD1yLHRoaXMuX3gxPWksdGhpcy5feTE9byx0aGlzfSxmYS5kYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24obil7aWYoIW4ubGVuZ3RoKWRve3QucHVzaChuLmRhdGEpfXdoaWxlKG49bi5uZXh0KX0pLHR9LGZhLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmNvdmVyKCt0WzBdWzBdLCt0WzBdWzFdKS5jb3ZlcigrdFsxXVswXSwrdFsxXVsxXSk6aXNOYU4odGhpcy5feDApP3ZvaWQgMDpbW3RoaXMuX3gwLHRoaXMuX3kwXSxbdGhpcy5feDEsdGhpcy5feTFdXX0sZmEuZmluZD1mdW5jdGlvbih0LG4sZSl7dmFyIHIsaSxvLGEsdSxjLGYscz10aGlzLl94MCxsPXRoaXMuX3kwLGg9dGhpcy5feDEsZD10aGlzLl95MSxwPVtdLHY9dGhpcy5fcm9vdDtmb3IodiYmcC5wdXNoKG5ldyByYSh2LHMsbCxoLGQpKSxudWxsPT1lP2U9MS8wOihzPXQtZSxsPW4tZSxoPXQrZSxkPW4rZSxlKj1lKTtjPXAucG9wKCk7KWlmKCEoISh2PWMubm9kZSl8fChpPWMueDApPmh8fChvPWMueTApPmR8fChhPWMueDEpPHN8fCh1PWMueTEpPGwpKWlmKHYubGVuZ3RoKXt2YXIgZz0oaSthKS8yLHk9KG8rdSkvMjtwLnB1c2gobmV3IHJhKHZbM10sZyx5LGEsdSksbmV3IHJhKHZbMl0saSx5LGcsdSksbmV3IHJhKHZbMV0sZyxvLGEseSksbmV3IHJhKHZbMF0saSxvLGcseSkpLChmPShuPj15KTw8MXx0Pj1nKSYmKGM9cFtwLmxlbmd0aC0xXSxwW3AubGVuZ3RoLTFdPXBbcC5sZW5ndGgtMS1mXSxwW3AubGVuZ3RoLTEtZl09Yyl9ZWxzZXt2YXIgXz10LSt0aGlzLl94LmNhbGwobnVsbCx2LmRhdGEpLGI9bi0rdGhpcy5feS5jYWxsKG51bGwsdi5kYXRhKSxtPV8qXytiKmI7aWYobTxlKXt2YXIgeD1NYXRoLnNxcnQoZT1tKTtzPXQteCxsPW4teCxoPXQreCxkPW4reCxyPXYuZGF0YX19cmV0dXJuIHJ9LGZhLnJlbW92ZT1mdW5jdGlvbih0KXtpZihpc05hTihvPSt0aGlzLl94LmNhbGwobnVsbCx0KSl8fGlzTmFOKGE9K3RoaXMuX3kuY2FsbChudWxsLHQpKSlyZXR1cm4gdGhpczt2YXIgbixlLHIsaSxvLGEsdSxjLGYscyxsLGgsZD10aGlzLl9yb290LHA9dGhpcy5feDAsdj10aGlzLl95MCxnPXRoaXMuX3gxLHk9dGhpcy5feTE7aWYoIWQpcmV0dXJuIHRoaXM7aWYoZC5sZW5ndGgpZm9yKDs7KXtpZigoZj1vPj0odT0ocCtnKS8yKSk/cD11Omc9dSwocz1hPj0oYz0odit5KS8yKSk/dj1jOnk9YyxuPWQsIShkPWRbbD1zPDwxfGZdKSlyZXR1cm4gdGhpcztpZighZC5sZW5ndGgpYnJlYWs7KG5bbCsxJjNdfHxuW2wrMiYzXXx8bltsKzMmM10pJiYoZT1uLGg9bCl9Zm9yKDtkLmRhdGEhPT10OylpZihyPWQsIShkPWQubmV4dCkpcmV0dXJuIHRoaXM7cmV0dXJuKGk9ZC5uZXh0KSYmZGVsZXRlIGQubmV4dCxyPyhpP3IubmV4dD1pOmRlbGV0ZSByLm5leHQsdGhpcyk6bj8oaT9uW2xdPWk6ZGVsZXRlIG5bbF0sKGQ9blswXXx8blsxXXx8blsyXXx8blszXSkmJmQ9PT0oblszXXx8blsyXXx8blsxXXx8blswXSkmJiFkLmxlbmd0aCYmKGU/ZVtoXT1kOnRoaXMuX3Jvb3Q9ZCksdGhpcyk6KHRoaXMuX3Jvb3Q9aSx0aGlzKX0sZmEucmVtb3ZlQWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wLGU9dC5sZW5ndGg7bjxlOysrbil0aGlzLnJlbW92ZSh0W25dKTtyZXR1cm4gdGhpc30sZmEucm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290fSxmYS5zaXplPWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy52aXNpdChmdW5jdGlvbihuKXtpZighbi5sZW5ndGgpZG97Kyt0fXdoaWxlKG49bi5uZXh0KX0pLHR9LGZhLnZpc2l0PWZ1bmN0aW9uKHQpe3ZhciBuLGUscixpLG8sYSx1PVtdLGM9dGhpcy5fcm9vdDtmb3IoYyYmdS5wdXNoKG5ldyByYShjLHRoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3gxLHRoaXMuX3kxKSk7bj11LnBvcCgpOylpZighdChjPW4ubm9kZSxyPW4ueDAsaT1uLnkwLG89bi54MSxhPW4ueTEpJiZjLmxlbmd0aCl7dmFyIGY9KHIrbykvMixzPShpK2EpLzI7KGU9Y1szXSkmJnUucHVzaChuZXcgcmEoZSxmLHMsbyxhKSksKGU9Y1syXSkmJnUucHVzaChuZXcgcmEoZSxyLHMsZixhKSksKGU9Y1sxXSkmJnUucHVzaChuZXcgcmEoZSxmLGksbyxzKSksKGU9Y1swXSkmJnUucHVzaChuZXcgcmEoZSxyLGksZixzKSl9cmV0dXJuIHRoaXN9LGZhLnZpc2l0QWZ0ZXI9ZnVuY3Rpb24odCl7dmFyIG4sZT1bXSxyPVtdO2Zvcih0aGlzLl9yb290JiZlLnB1c2gobmV3IHJhKHRoaXMuX3Jvb3QsdGhpcy5feDAsdGhpcy5feTAsdGhpcy5feDEsdGhpcy5feTEpKTtuPWUucG9wKCk7KXt2YXIgaT1uLm5vZGU7aWYoaS5sZW5ndGgpe3ZhciBvLGE9bi54MCx1PW4ueTAsYz1uLngxLGY9bi55MSxzPShhK2MpLzIsbD0odStmKS8yOyhvPWlbMF0pJiZlLnB1c2gobmV3IHJhKG8sYSx1LHMsbCkpLChvPWlbMV0pJiZlLnB1c2gobmV3IHJhKG8scyx1LGMsbCkpLChvPWlbMl0pJiZlLnB1c2gobmV3IHJhKG8sYSxsLHMsZikpLChvPWlbM10pJiZlLnB1c2gobmV3IHJhKG8scyxsLGMsZikpfXIucHVzaChuKX1mb3IoO249ci5wb3AoKTspdChuLm5vZGUsbi54MCxuLnkwLG4ueDEsbi55MSk7cmV0dXJuIHRoaXN9LGZhLng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3g9dCx0aGlzKTp0aGlzLl94fSxmYS55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl95PXQsdGhpcyk6dGhpcy5feX07dmFyIGdhPTEwLHlhPU1hdGguUEkqKDMtTWF0aC5zcXJ0KDUpKTtmdW5jdGlvbiBfYSh0LG4pe2lmKChlPSh0PW4/dC50b0V4cG9uZW50aWFsKG4tMSk6dC50b0V4cG9uZW50aWFsKCkpLmluZGV4T2YoImUiKSk8MClyZXR1cm4gbnVsbDt2YXIgZSxyPXQuc2xpY2UoMCxlKTtyZXR1cm5bci5sZW5ndGg+MT9yWzBdK3Iuc2xpY2UoMik6ciwrdC5zbGljZShlKzEpXX1mdW5jdGlvbiBiYSh0KXtyZXR1cm4odD1fYShNYXRoLmFicyh0KSkpP3RbMV06TmFOfXZhciBtYSx4YT0vXig/OiguKT8oWzw+PV5dKSk/KFsrXC0oIF0pPyhbJCNdKT8oMCk/KFxkKyk/KCwpPyhcLlxkKyk/KH4pPyhbYS16JV0pPyQvaTtmdW5jdGlvbiB3YSh0KXtyZXR1cm4gbmV3IE1hKHQpfWZ1bmN0aW9uIE1hKHQpe2lmKCEobj14YS5leGVjKHQpKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgZm9ybWF0OiAiK3QpO3ZhciBuO3RoaXMuZmlsbD1uWzFdfHwiICIsdGhpcy5hbGlnbj1uWzJdfHwiPiIsdGhpcy5zaWduPW5bM118fCItIix0aGlzLnN5bWJvbD1uWzRdfHwiIix0aGlzLnplcm89ISFuWzVdLHRoaXMud2lkdGg9bls2XSYmK25bNl0sdGhpcy5jb21tYT0hIW5bN10sdGhpcy5wcmVjaXNpb249bls4XSYmK25bOF0uc2xpY2UoMSksdGhpcy50cmltPSEhbls5XSx0aGlzLnR5cGU9blsxMF18fCIifWZ1bmN0aW9uIE5hKHQsbil7dmFyIGU9X2EodCxuKTtpZighZSlyZXR1cm4gdCsiIjt2YXIgcj1lWzBdLGk9ZVsxXTtyZXR1cm4gaTwwPyIwLiIrbmV3IEFycmF5KC1pKS5qb2luKCIwIikrcjpyLmxlbmd0aD5pKzE/ci5zbGljZSgwLGkrMSkrIi4iK3Iuc2xpY2UoaSsxKTpyK25ldyBBcnJheShpLXIubGVuZ3RoKzIpLmpvaW4oIjAiKX13YS5wcm90b3R5cGU9TWEucHJvdG90eXBlLE1hLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGwrdGhpcy5hbGlnbit0aGlzLnNpZ24rdGhpcy5zeW1ib2wrKHRoaXMuemVybz8iMCI6IiIpKyhudWxsPT10aGlzLndpZHRoPyIiOk1hdGgubWF4KDEsMHx0aGlzLndpZHRoKSkrKHRoaXMuY29tbWE/IiwiOiIiKSsobnVsbD09dGhpcy5wcmVjaXNpb24/IiI6Ii4iK01hdGgubWF4KDAsMHx0aGlzLnByZWNpc2lvbikpKyh0aGlzLnRyaW0/In4iOiIiKSt0aGlzLnR5cGV9O3ZhciBBYT17IiUiOmZ1bmN0aW9uKHQsbil7cmV0dXJuKDEwMCp0KS50b0ZpeGVkKG4pfSxiOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDIpfSxjOmZ1bmN0aW9uKHQpe3JldHVybiB0KyIifSxkOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDEwKX0sZTpmdW5jdGlvbih0LG4pe3JldHVybiB0LnRvRXhwb25lbnRpYWwobil9LGY6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC50b0ZpeGVkKG4pfSxnOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHQudG9QcmVjaXNpb24obil9LG86ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodCkudG9TdHJpbmcoOCl9LHA6ZnVuY3Rpb24odCxuKXtyZXR1cm4gTmEoMTAwKnQsbil9LHI6TmEsczpmdW5jdGlvbih0LG4pe3ZhciBlPV9hKHQsbik7aWYoIWUpcmV0dXJuIHQrIiI7dmFyIHI9ZVswXSxpPWVbMV0sbz1pLShtYT0zKk1hdGgubWF4KC04LE1hdGgubWluKDgsTWF0aC5mbG9vcihpLzMpKSkpKzEsYT1yLmxlbmd0aDtyZXR1cm4gbz09PWE/cjpvPmE/cituZXcgQXJyYXkoby1hKzEpLmpvaW4oIjAiKTpvPjA/ci5zbGljZSgwLG8pKyIuIityLnNsaWNlKG8pOiIwLiIrbmV3IEFycmF5KDEtbykuam9pbigiMCIpK19hKHQsTWF0aC5tYXgoMCxuK28tMSkpWzBdfSxYOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSx4OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KX19O2Z1bmN0aW9uIFRhKHQpe3JldHVybiB0fXZhciBTYSxrYT1bInkiLCJ6IiwiYSIsImYiLCJwIiwibiIsIsK1IiwibSIsIiIsImsiLCJNIiwiRyIsIlQiLCJQIiwiRSIsIloiLCJZIl07ZnVuY3Rpb24gRWEodCl7dmFyIG4sZSxyPXQuZ3JvdXBpbmcmJnQudGhvdXNhbmRzPyhuPXQuZ3JvdXBpbmcsZT10LnRob3VzYW5kcyxmdW5jdGlvbih0LHIpe2Zvcih2YXIgaT10Lmxlbmd0aCxvPVtdLGE9MCx1PW5bMF0sYz0wO2k+MCYmdT4wJiYoYyt1KzE+ciYmKHU9TWF0aC5tYXgoMSxyLWMpKSxvLnB1c2godC5zdWJzdHJpbmcoaS09dSxpK3UpKSwhKChjKz11KzEpPnIpKTspdT1uW2E9KGErMSklbi5sZW5ndGhdO3JldHVybiBvLnJldmVyc2UoKS5qb2luKGUpfSk6VGEsaT10LmN1cnJlbmN5LG89dC5kZWNpbWFsLGE9dC5udW1lcmFscz9mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvWzAtOV0vZyxmdW5jdGlvbihuKXtyZXR1cm4gdFsrbl19KX19KHQubnVtZXJhbHMpOlRhLHU9dC5wZXJjZW50fHwiJSI7ZnVuY3Rpb24gYyh0KXt2YXIgbj0odD13YSh0KSkuZmlsbCxlPXQuYWxpZ24sYz10LnNpZ24sZj10LnN5bWJvbCxzPXQuemVybyxsPXQud2lkdGgsaD10LmNvbW1hLGQ9dC5wcmVjaXNpb24scD10LnRyaW0sdj10LnR5cGU7Im4iPT09dj8oaD0hMCx2PSJnIik6QWFbdl18fChudWxsPT1kJiYoZD0xMikscD0hMCx2PSJnIiksKHN8fCIwIj09PW4mJiI9Ij09PWUpJiYocz0hMCxuPSIwIixlPSI9Iik7dmFyIGc9IiQiPT09Zj9pWzBdOiIjIj09PWYmJi9bYm94WF0vLnRlc3Qodik/IjAiK3YudG9Mb3dlckNhc2UoKToiIix5PSIkIj09PWY/aVsxXTovWyVwXS8udGVzdCh2KT91OiIiLF89QWFbdl0sYj0vW2RlZmdwcnMlXS8udGVzdCh2KTtmdW5jdGlvbiBtKHQpe3ZhciBpLHUsZixtPWcseD15O2lmKCJjIj09PXYpeD1fKHQpK3gsdD0iIjtlbHNle3ZhciB3PSh0PSt0KTwwO2lmKHQ9XyhNYXRoLmFicyh0KSxkKSxwJiYodD1mdW5jdGlvbih0KXt0OmZvcih2YXIgbixlPXQubGVuZ3RoLHI9MSxpPS0xO3I8ZTsrK3Ipc3dpdGNoKHRbcl0pe2Nhc2UiLiI6aT1uPXI7YnJlYWs7Y2FzZSIwIjowPT09aSYmKGk9ciksbj1yO2JyZWFrO2RlZmF1bHQ6aWYoaT4wKXtpZighK3Rbcl0pYnJlYWsgdDtpPTB9fXJldHVybiBpPjA/dC5zbGljZSgwLGkpK3Quc2xpY2UobisxKTp0fSh0KSksdyYmMD09K3QmJih3PSExKSxtPSh3PyIoIj09PWM/YzoiLSI6Ii0iPT09Y3x8IigiPT09Yz8iIjpjKSttLHg9KCJzIj09PXY/a2FbOCttYS8zXToiIikreCsodyYmIigiPT09Yz8iKSI6IiIpLGIpZm9yKGk9LTEsdT10Lmxlbmd0aDsrK2k8dTspaWYoNDg+KGY9dC5jaGFyQ29kZUF0KGkpKXx8Zj41Nyl7eD0oNDY9PT1mP28rdC5zbGljZShpKzEpOnQuc2xpY2UoaSkpK3gsdD10LnNsaWNlKDAsaSk7YnJlYWt9fWgmJiFzJiYodD1yKHQsMS8wKSk7dmFyIE09bS5sZW5ndGgrdC5sZW5ndGgreC5sZW5ndGgsTj1NPGw/bmV3IEFycmF5KGwtTSsxKS5qb2luKG4pOiIiO3N3aXRjaChoJiZzJiYodD1yKE4rdCxOLmxlbmd0aD9sLXgubGVuZ3RoOjEvMCksTj0iIiksZSl7Y2FzZSI8Ijp0PW0rdCt4K047YnJlYWs7Y2FzZSI9Ijp0PW0rTit0K3g7YnJlYWs7Y2FzZSJeIjp0PU4uc2xpY2UoMCxNPU4ubGVuZ3RoPj4xKSttK3QreCtOLnNsaWNlKE0pO2JyZWFrO2RlZmF1bHQ6dD1OK20rdCt4fXJldHVybiBhKHQpfXJldHVybiBkPW51bGw9PWQ/NjovW2dwcnNdLy50ZXN0KHYpP01hdGgubWF4KDEsTWF0aC5taW4oMjEsZCkpOk1hdGgubWF4KDAsTWF0aC5taW4oMjAsZCkpLG0udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdCsiIn0sbX1yZXR1cm57Zm9ybWF0OmMsZm9ybWF0UHJlZml4OmZ1bmN0aW9uKHQsbil7dmFyIGU9YygoKHQ9d2EodCkpLnR5cGU9ImYiLHQpKSxyPTMqTWF0aC5tYXgoLTgsTWF0aC5taW4oOCxNYXRoLmZsb29yKGJhKG4pLzMpKSksaT1NYXRoLnBvdygxMCwtciksbz1rYVs4K3IvM107cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKGkqdCkrb319fX1mdW5jdGlvbiBDYShuKXtyZXR1cm4gU2E9RWEobiksdC5mb3JtYXQ9U2EuZm9ybWF0LHQuZm9ybWF0UHJlZml4PVNhLmZvcm1hdFByZWZpeCxTYX1mdW5jdGlvbiBQYSh0KXtyZXR1cm4gTWF0aC5tYXgoMCwtYmEoTWF0aC5hYnModCkpKX1mdW5jdGlvbiB6YSh0LG4pe3JldHVybiBNYXRoLm1heCgwLDMqTWF0aC5tYXgoLTgsTWF0aC5taW4oOCxNYXRoLmZsb29yKGJhKG4pLzMpKSktYmEoTWF0aC5hYnModCkpKX1mdW5jdGlvbiBSYSh0LG4pe3JldHVybiB0PU1hdGguYWJzKHQpLG49TWF0aC5hYnMobiktdCxNYXRoLm1heCgwLGJhKG4pLWJhKHQpKSsxfWZ1bmN0aW9uIERhKCl7cmV0dXJuIG5ldyBxYX1mdW5jdGlvbiBxYSgpe3RoaXMucmVzZXQoKX1DYSh7ZGVjaW1hbDoiLiIsdGhvdXNhbmRzOiIsIixncm91cGluZzpbM10sY3VycmVuY3k6WyIkIiwiIl19KSxxYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnFhLHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zPXRoaXMudD0wfSxhZGQ6ZnVuY3Rpb24odCl7VWEoTGEsdCx0aGlzLnQpLFVhKHRoaXMsTGEucyx0aGlzLnMpLHRoaXMucz90aGlzLnQrPUxhLnQ6dGhpcy5zPUxhLnR9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfX07dmFyIExhPW5ldyBxYTtmdW5jdGlvbiBVYSh0LG4sZSl7dmFyIHI9dC5zPW4rZSxpPXItbixvPXItaTt0LnQ9bi1vKyhlLWkpfXZhciBPYT0xZS02LEJhPTFlLTEyLFlhPU1hdGguUEksRmE9WWEvMixJYT1ZYS80LGphPTIqWWEsSGE9MTgwL1lhLFhhPVlhLzE4MCxHYT1NYXRoLmFicyxWYT1NYXRoLmF0YW4sJGE9TWF0aC5hdGFuMixXYT1NYXRoLmNvcyxaYT1NYXRoLmNlaWwsUWE9TWF0aC5leHAsSmE9TWF0aC5sb2csS2E9TWF0aC5wb3csdHU9TWF0aC5zaW4sbnU9TWF0aC5zaWdufHxmdW5jdGlvbih0KXtyZXR1cm4gdD4wPzE6dDwwPy0xOjB9LGV1PU1hdGguc3FydCxydT1NYXRoLnRhbjtmdW5jdGlvbiBpdSh0KXtyZXR1cm4gdD4xPzA6dDwtMT9ZYTpNYXRoLmFjb3ModCl9ZnVuY3Rpb24gb3UodCl7cmV0dXJuIHQ+MT9GYTp0PC0xPy1GYTpNYXRoLmFzaW4odCl9ZnVuY3Rpb24gYXUodCl7cmV0dXJuKHQ9dHUodC8yKSkqdH1mdW5jdGlvbiB1dSgpe31mdW5jdGlvbiBjdSh0LG4pe3QmJnN1Lmhhc093blByb3BlcnR5KHQudHlwZSkmJnN1W3QudHlwZV0odCxuKX12YXIgZnU9e0ZlYXR1cmU6ZnVuY3Rpb24odCxuKXtjdSh0Lmdlb21ldHJ5LG4pfSxGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbih0LG4pe2Zvcih2YXIgZT10LmZlYXR1cmVzLHI9LTEsaT1lLmxlbmd0aDsrK3I8aTspY3UoZVtyXS5nZW9tZXRyeSxuKX19LHN1PXtTcGhlcmU6ZnVuY3Rpb24odCxuKXtuLnNwaGVyZSgpfSxQb2ludDpmdW5jdGlvbih0LG4pe3Q9dC5jb29yZGluYXRlcyxuLnBvaW50KHRbMF0sdFsxXSx0WzJdKX0sTXVsdGlQb2ludDpmdW5jdGlvbih0LG4pe2Zvcih2YXIgZT10LmNvb3JkaW5hdGVzLHI9LTEsaT1lLmxlbmd0aDsrK3I8aTspdD1lW3JdLG4ucG9pbnQodFswXSx0WzFdLHRbMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKHQsbil7bHUodC5jb29yZGluYXRlcyxuLDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9dC5jb29yZGluYXRlcyxyPS0xLGk9ZS5sZW5ndGg7KytyPGk7KWx1KGVbcl0sbiwwKX0sUG9seWdvbjpmdW5jdGlvbih0LG4pe2h1KHQuY29vcmRpbmF0ZXMsbil9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0LG4pe2Zvcih2YXIgZT10LmNvb3JkaW5hdGVzLHI9LTEsaT1lLmxlbmd0aDsrK3I8aTspaHUoZVtyXSxuKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPXQuZ2VvbWV0cmllcyxyPS0xLGk9ZS5sZW5ndGg7KytyPGk7KWN1KGVbcl0sbil9fTtmdW5jdGlvbiBsdSh0LG4sZSl7dmFyIHIsaT0tMSxvPXQubGVuZ3RoLWU7Zm9yKG4ubGluZVN0YXJ0KCk7KytpPG87KXI9dFtpXSxuLnBvaW50KHJbMF0sclsxXSxyWzJdKTtuLmxpbmVFbmQoKX1mdW5jdGlvbiBodSh0LG4pe3ZhciBlPS0xLHI9dC5sZW5ndGg7Zm9yKG4ucG9seWdvblN0YXJ0KCk7KytlPHI7KWx1KHRbZV0sbiwxKTtuLnBvbHlnb25FbmQoKX1mdW5jdGlvbiBkdSh0LG4pe3QmJmZ1Lmhhc093blByb3BlcnR5KHQudHlwZSk/ZnVbdC50eXBlXSh0LG4pOmN1KHQsbil9dmFyIHB1LHZ1LGd1LHl1LF91LGJ1PURhKCksbXU9RGEoKSx4dT17cG9pbnQ6dXUsbGluZVN0YXJ0OnV1LGxpbmVFbmQ6dXUscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7YnUucmVzZXQoKSx4dS5saW5lU3RhcnQ9d3UseHUubGluZUVuZD1NdX0scG9seWdvbkVuZDpmdW5jdGlvbigpe3ZhciB0PStidTttdS5hZGQodDwwP2phK3Q6dCksdGhpcy5saW5lU3RhcnQ9dGhpcy5saW5lRW5kPXRoaXMucG9pbnQ9dXV9LHNwaGVyZTpmdW5jdGlvbigpe211LmFkZChqYSl9fTtmdW5jdGlvbiB3dSgpe3h1LnBvaW50PU51fWZ1bmN0aW9uIE11KCl7QXUocHUsdnUpfWZ1bmN0aW9uIE51KHQsbil7eHUucG9pbnQ9QXUscHU9dCx2dT1uLGd1PXQqPVhhLHl1PVdhKG49KG4qPVhhKS8yK0lhKSxfdT10dShuKX1mdW5jdGlvbiBBdSh0LG4pe3ZhciBlPSh0Kj1YYSktZ3Uscj1lPj0wPzE6LTEsaT1yKmUsbz1XYShuPShuKj1YYSkvMitJYSksYT10dShuKSx1PV91KmEsYz15dSpvK3UqV2EoaSksZj11KnIqdHUoaSk7YnUuYWRkKCRhKGYsYykpLGd1PXQseXU9byxfdT1hfWZ1bmN0aW9uIFR1KHQpe3JldHVyblskYSh0WzFdLHRbMF0pLG91KHRbMl0pXX1mdW5jdGlvbiBTdSh0KXt2YXIgbj10WzBdLGU9dFsxXSxyPVdhKGUpO3JldHVybltyKldhKG4pLHIqdHUobiksdHUoZSldfWZ1bmN0aW9uIGt1KHQsbil7cmV0dXJuIHRbMF0qblswXSt0WzFdKm5bMV0rdFsyXSpuWzJdfWZ1bmN0aW9uIEV1KHQsbil7cmV0dXJuW3RbMV0qblsyXS10WzJdKm5bMV0sdFsyXSpuWzBdLXRbMF0qblsyXSx0WzBdKm5bMV0tdFsxXSpuWzBdXX1mdW5jdGlvbiBDdSh0LG4pe3RbMF0rPW5bMF0sdFsxXSs9blsxXSx0WzJdKz1uWzJdfWZ1bmN0aW9uIFB1KHQsbil7cmV0dXJuW3RbMF0qbix0WzFdKm4sdFsyXSpuXX1mdW5jdGlvbiB6dSh0KXt2YXIgbj1ldSh0WzBdKnRbMF0rdFsxXSp0WzFdK3RbMl0qdFsyXSk7dFswXS89bix0WzFdLz1uLHRbMl0vPW59dmFyIFJ1LER1LHF1LEx1LFV1LE91LEJ1LFl1LEZ1LEl1LGp1LEh1LFh1LEd1LFZ1LCR1LFd1LFp1LFF1LEp1LEt1LHRjLG5jLGVjLHJjLGljLG9jPURhKCksYWM9e3BvaW50OnVjLGxpbmVTdGFydDpmYyxsaW5lRW5kOnNjLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2FjLnBvaW50PWxjLGFjLmxpbmVTdGFydD1oYyxhYy5saW5lRW5kPWRjLG9jLnJlc2V0KCkseHUucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt4dS5wb2x5Z29uRW5kKCksYWMucG9pbnQ9dWMsYWMubGluZVN0YXJ0PWZjLGFjLmxpbmVFbmQ9c2MsYnU8MD8oUnU9LShxdT0xODApLER1PS0oTHU9OTApKTpvYz5PYT9MdT05MDpvYzwtT2EmJihEdT0tOTApLEl1WzBdPVJ1LEl1WzFdPXF1fX07ZnVuY3Rpb24gdWModCxuKXtGdS5wdXNoKEl1PVtSdT10LHF1PXRdKSxuPER1JiYoRHU9biksbj5MdSYmKEx1PW4pfWZ1bmN0aW9uIGNjKHQsbil7dmFyIGU9U3UoW3QqWGEsbipYYV0pO2lmKFl1KXt2YXIgcj1FdShZdSxlKSxpPUV1KFtyWzFdLC1yWzBdLDBdLHIpO3p1KGkpLGk9VHUoaSk7dmFyIG8sYT10LVV1LHU9YT4wPzE6LTEsYz1pWzBdKkhhKnUsZj1HYShhKT4xODA7Zl4odSpVdTxjJiZjPHUqdCk/KG89aVsxXSpIYSk+THUmJihMdT1vKTpmXih1KlV1PChjPShjKzM2MCklMzYwLTE4MCkmJmM8dSp0KT8obz0taVsxXSpIYSk8RHUmJihEdT1vKToobjxEdSYmKER1PW4pLG4+THUmJihMdT1uKSksZj90PFV1P3BjKFJ1LHQpPnBjKFJ1LHF1KSYmKHF1PXQpOnBjKHQscXUpPnBjKFJ1LHF1KSYmKFJ1PXQpOnF1Pj1SdT8odDxSdSYmKFJ1PXQpLHQ+cXUmJihxdT10KSk6dD5VdT9wYyhSdSx0KT5wYyhSdSxxdSkmJihxdT10KTpwYyh0LHF1KT5wYyhSdSxxdSkmJihSdT10KX1lbHNlIEZ1LnB1c2goSXU9W1J1PXQscXU9dF0pO248RHUmJihEdT1uKSxuPkx1JiYoTHU9biksWXU9ZSxVdT10fWZ1bmN0aW9uIGZjKCl7YWMucG9pbnQ9Y2N9ZnVuY3Rpb24gc2MoKXtJdVswXT1SdSxJdVsxXT1xdSxhYy5wb2ludD11YyxZdT1udWxsfWZ1bmN0aW9uIGxjKHQsbil7aWYoWXUpe3ZhciBlPXQtVXU7b2MuYWRkKEdhKGUpPjE4MD9lKyhlPjA/MzYwOi0zNjApOmUpfWVsc2UgT3U9dCxCdT1uO3h1LnBvaW50KHQsbiksY2ModCxuKX1mdW5jdGlvbiBoYygpe3h1LmxpbmVTdGFydCgpfWZ1bmN0aW9uIGRjKCl7bGMoT3UsQnUpLHh1LmxpbmVFbmQoKSxHYShvYyk+T2EmJihSdT0tKHF1PTE4MCkpLEl1WzBdPVJ1LEl1WzFdPXF1LFl1PW51bGx9ZnVuY3Rpb24gcGModCxuKXtyZXR1cm4obi09dCk8MD9uKzM2MDpufWZ1bmN0aW9uIHZjKHQsbil7cmV0dXJuIHRbMF0tblswXX1mdW5jdGlvbiBnYyh0LG4pe3JldHVybiB0WzBdPD10WzFdP3RbMF08PW4mJm48PXRbMV06bjx0WzBdfHx0WzFdPG59dmFyIHljPXtzcGhlcmU6dXUscG9pbnQ6X2MsbGluZVN0YXJ0Om1jLGxpbmVFbmQ6TWMscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7eWMubGluZVN0YXJ0PU5jLHljLmxpbmVFbmQ9QWN9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt5Yy5saW5lU3RhcnQ9bWMseWMubGluZUVuZD1NY319O2Z1bmN0aW9uIF9jKHQsbil7dCo9WGE7dmFyIGU9V2Eobio9WGEpO2JjKGUqV2EodCksZSp0dSh0KSx0dShuKSl9ZnVuY3Rpb24gYmModCxuLGUpe1h1Kz0odC1YdSkvKytqdSxHdSs9KG4tR3UpL2p1LFZ1Kz0oZS1WdSkvanV9ZnVuY3Rpb24gbWMoKXt5Yy5wb2ludD14Y31mdW5jdGlvbiB4Yyh0LG4pe3QqPVhhO3ZhciBlPVdhKG4qPVhhKTtlYz1lKldhKHQpLHJjPWUqdHUodCksaWM9dHUobikseWMucG9pbnQ9d2MsYmMoZWMscmMsaWMpfWZ1bmN0aW9uIHdjKHQsbil7dCo9WGE7dmFyIGU9V2Eobio9WGEpLHI9ZSpXYSh0KSxpPWUqdHUodCksbz10dShuKSxhPSRhKGV1KChhPXJjKm8taWMqaSkqYSsoYT1pYypyLWVjKm8pKmErKGE9ZWMqaS1yYypyKSphKSxlYypyK3JjKmkraWMqbyk7SHUrPWEsJHUrPWEqKGVjKyhlYz1yKSksV3UrPWEqKHJjKyhyYz1pKSksWnUrPWEqKGljKyhpYz1vKSksYmMoZWMscmMsaWMpfWZ1bmN0aW9uIE1jKCl7eWMucG9pbnQ9X2N9ZnVuY3Rpb24gTmMoKXt5Yy5wb2ludD1UY31mdW5jdGlvbiBBYygpe1NjKHRjLG5jKSx5Yy5wb2ludD1fY31mdW5jdGlvbiBUYyh0LG4pe3RjPXQsbmM9bix0Kj1YYSxuKj1YYSx5Yy5wb2ludD1TYzt2YXIgZT1XYShuKTtlYz1lKldhKHQpLHJjPWUqdHUodCksaWM9dHUobiksYmMoZWMscmMsaWMpfWZ1bmN0aW9uIFNjKHQsbil7dCo9WGE7dmFyIGU9V2Eobio9WGEpLHI9ZSpXYSh0KSxpPWUqdHUodCksbz10dShuKSxhPXJjKm8taWMqaSx1PWljKnItZWMqbyxjPWVjKmktcmMqcixmPWV1KGEqYSt1KnUrYypjKSxzPW91KGYpLGw9ZiYmLXMvZjtRdSs9bCphLEp1Kz1sKnUsS3UrPWwqYyxIdSs9cywkdSs9cyooZWMrKGVjPXIpKSxXdSs9cyoocmMrKHJjPWkpKSxadSs9cyooaWMrKGljPW8pKSxiYyhlYyxyYyxpYyl9ZnVuY3Rpb24ga2ModCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fWZ1bmN0aW9uIEVjKHQsbil7ZnVuY3Rpb24gZShlLHIpe3JldHVybiBlPXQoZSxyKSxuKGVbMF0sZVsxXSl9cmV0dXJuIHQuaW52ZXJ0JiZuLmludmVydCYmKGUuaW52ZXJ0PWZ1bmN0aW9uKGUscil7cmV0dXJuKGU9bi5pbnZlcnQoZSxyKSkmJnQuaW52ZXJ0KGVbMF0sZVsxXSl9KSxlfWZ1bmN0aW9uIENjKHQsbil7cmV0dXJuW0dhKHQpPllhP3QrTWF0aC5yb3VuZCgtdC9qYSkqamE6dCxuXX1mdW5jdGlvbiBQYyh0LG4sZSl7cmV0dXJuKHQlPWphKT9ufHxlP0VjKFJjKHQpLERjKG4sZSkpOlJjKHQpOm58fGU/RGMobixlKTpDY31mdW5jdGlvbiB6Yyh0KXtyZXR1cm4gZnVuY3Rpb24obixlKXtyZXR1cm5bKG4rPXQpPllhP24tamE6bjwtWWE/bitqYTpuLGVdfX1mdW5jdGlvbiBSYyh0KXt2YXIgbj16Yyh0KTtyZXR1cm4gbi5pbnZlcnQ9emMoLXQpLG59ZnVuY3Rpb24gRGModCxuKXt2YXIgZT1XYSh0KSxyPXR1KHQpLGk9V2Eobiksbz10dShuKTtmdW5jdGlvbiBhKHQsbil7dmFyIGE9V2EobiksdT1XYSh0KSphLGM9dHUodCkqYSxmPXR1KG4pLHM9ZiplK3UqcjtyZXR1cm5bJGEoYyppLXMqbyx1KmUtZipyKSxvdShzKmkrYypvKV19cmV0dXJuIGEuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9V2EobiksdT1XYSh0KSphLGM9dHUodCkqYSxmPXR1KG4pLHM9ZippLWMqbztyZXR1cm5bJGEoYyppK2Yqbyx1KmUrcypyKSxvdShzKmUtdSpyKV19LGF9ZnVuY3Rpb24gcWModCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4obj10KG5bMF0qWGEsblsxXSpYYSkpWzBdKj1IYSxuWzFdKj1IYSxufXJldHVybiB0PVBjKHRbMF0qWGEsdFsxXSpYYSx0Lmxlbmd0aD4yP3RbMl0qWGE6MCksbi5pbnZlcnQ9ZnVuY3Rpb24obil7cmV0dXJuKG49dC5pbnZlcnQoblswXSpYYSxuWzFdKlhhKSlbMF0qPUhhLG5bMV0qPUhhLG59LG59ZnVuY3Rpb24gTGModCxuLGUscixpLG8pe2lmKGUpe3ZhciBhPVdhKG4pLHU9dHUobiksYz1yKmU7bnVsbD09aT8oaT1uK3IqamEsbz1uLWMvMik6KGk9VWMoYSxpKSxvPVVjKGEsbyksKHI+MD9pPG86aT5vKSYmKGkrPXIqamEpKTtmb3IodmFyIGYscz1pO3I+MD9zPm86czxvO3MtPWMpZj1UdShbYSwtdSpXYShzKSwtdSp0dShzKV0pLHQucG9pbnQoZlswXSxmWzFdKX19ZnVuY3Rpb24gVWModCxuKXsobj1TdShuKSlbMF0tPXQsenUobik7dmFyIGU9aXUoLW5bMV0pO3JldHVybigoLW5bMl08MD8tZTplKStqYS1PYSklamF9ZnVuY3Rpb24gT2MoKXt2YXIgdCxuPVtdO3JldHVybntwb2ludDpmdW5jdGlvbihuLGUpe3QucHVzaChbbixlXSl9LGxpbmVTdGFydDpmdW5jdGlvbigpe24ucHVzaCh0PVtdKX0sbGluZUVuZDp1dSxyZWpvaW46ZnVuY3Rpb24oKXtuLmxlbmd0aD4xJiZuLnB1c2gobi5wb3AoKS5jb25jYXQobi5zaGlmdCgpKSl9LHJlc3VsdDpmdW5jdGlvbigpe3ZhciBlPW47cmV0dXJuIG49W10sdD1udWxsLGV9fX1mdW5jdGlvbiBCYyh0LG4pe3JldHVybiBHYSh0WzBdLW5bMF0pPE9hJiZHYSh0WzFdLW5bMV0pPE9hfWZ1bmN0aW9uIFljKHQsbixlLHIpe3RoaXMueD10LHRoaXMuej1uLHRoaXMubz1lLHRoaXMuZT1yLHRoaXMudj0hMSx0aGlzLm49dGhpcy5wPW51bGx9ZnVuY3Rpb24gRmModCxuLGUscixpKXt2YXIgbyxhLHU9W10sYz1bXTtpZih0LmZvckVhY2goZnVuY3Rpb24odCl7aWYoISgobj10Lmxlbmd0aC0xKTw9MCkpe3ZhciBuLGUscj10WzBdLGE9dFtuXTtpZihCYyhyLGEpKXtmb3IoaS5saW5lU3RhcnQoKSxvPTA7bzxuOysrbylpLnBvaW50KChyPXRbb10pWzBdLHJbMV0pO2kubGluZUVuZCgpfWVsc2UgdS5wdXNoKGU9bmV3IFljKHIsdCxudWxsLCEwKSksYy5wdXNoKGUubz1uZXcgWWMocixudWxsLGUsITEpKSx1LnB1c2goZT1uZXcgWWMoYSx0LG51bGwsITEpKSxjLnB1c2goZS5vPW5ldyBZYyhhLG51bGwsZSwhMCkpfX0pLHUubGVuZ3RoKXtmb3IoYy5zb3J0KG4pLEljKHUpLEljKGMpLG89MCxhPWMubGVuZ3RoO288YTsrK28pY1tvXS5lPWU9IWU7Zm9yKHZhciBmLHMsbD11WzBdOzspe2Zvcih2YXIgaD1sLGQ9ITA7aC52OylpZigoaD1oLm4pPT09bClyZXR1cm47Zj1oLnosaS5saW5lU3RhcnQoKTtkb3tpZihoLnY9aC5vLnY9ITAsaC5lKXtpZihkKWZvcihvPTAsYT1mLmxlbmd0aDtvPGE7KytvKWkucG9pbnQoKHM9ZltvXSlbMF0sc1sxXSk7ZWxzZSByKGgueCxoLm4ueCwxLGkpO2g9aC5ufWVsc2V7aWYoZClmb3IoZj1oLnAueixvPWYubGVuZ3RoLTE7bz49MDstLW8paS5wb2ludCgocz1mW29dKVswXSxzWzFdKTtlbHNlIHIoaC54LGgucC54LC0xLGkpO2g9aC5wfWY9KGg9aC5vKS56LGQ9IWR9d2hpbGUoIWgudik7aS5saW5lRW5kKCl9fX1mdW5jdGlvbiBJYyh0KXtpZihuPXQubGVuZ3RoKXtmb3IodmFyIG4sZSxyPTAsaT10WzBdOysrcjxuOylpLm49ZT10W3JdLGUucD1pLGk9ZTtpLm49ZT10WzBdLGUucD1pfX1DYy5pbnZlcnQ9Q2M7dmFyIGpjPURhKCk7ZnVuY3Rpb24gSGModCxuKXt2YXIgZT1uWzBdLHI9blsxXSxpPXR1KHIpLG89W3R1KGUpLC1XYShlKSwwXSxhPTAsdT0wO2pjLnJlc2V0KCksMT09PWk/cj1GYStPYTotMT09PWkmJihyPS1GYS1PYSk7Zm9yKHZhciBjPTAsZj10Lmxlbmd0aDtjPGY7KytjKWlmKGw9KHM9dFtjXSkubGVuZ3RoKWZvcih2YXIgcyxsLGg9c1tsLTFdLGQ9aFswXSxwPWhbMV0vMitJYSx2PXR1KHApLGc9V2EocCkseT0wO3k8bDsrK3ksZD1iLHY9eCxnPXcsaD1fKXt2YXIgXz1zW3ldLGI9X1swXSxtPV9bMV0vMitJYSx4PXR1KG0pLHc9V2EobSksTT1iLWQsTj1NPj0wPzE6LTEsQT1OKk0sVD1BPllhLFM9dip4O2lmKGpjLmFkZCgkYShTKk4qdHUoQSksZyp3K1MqV2EoQSkpKSxhKz1UP00rTipqYTpNLFReZD49ZV5iPj1lKXt2YXIgaz1FdShTdShoKSxTdShfKSk7enUoayk7dmFyIEU9RXUobyxrKTt6dShFKTt2YXIgQz0oVF5NPj0wPy0xOjEpKm91KEVbMl0pOyhyPkN8fHI9PT1DJiYoa1swXXx8a1sxXSkpJiYodSs9VF5NPj0wPzE6LTEpfX1yZXR1cm4oYTwtT2F8fGE8T2EmJmpjPC1PYSleMSZ1fWZ1bmN0aW9uIFhjKHQsbixlLHIpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgbyxhLHUsYz1uKGkpLGY9T2MoKSxzPW4oZiksbD0hMSxoPXtwb2ludDpkLGxpbmVTdGFydDp2LGxpbmVFbmQ6Zyxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtoLnBvaW50PXksaC5saW5lU3RhcnQ9XyxoLmxpbmVFbmQ9YixhPVtdLG89W119LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtoLnBvaW50PWQsaC5saW5lU3RhcnQ9dixoLmxpbmVFbmQ9ZyxhPVQoYSk7dmFyIHQ9SGMobyxyKTthLmxlbmd0aD8obHx8KGkucG9seWdvblN0YXJ0KCksbD0hMCksRmMoYSxWYyx0LGUsaSkpOnQmJihsfHwoaS5wb2x5Z29uU3RhcnQoKSxsPSEwKSxpLmxpbmVTdGFydCgpLGUobnVsbCxudWxsLDEsaSksaS5saW5lRW5kKCkpLGwmJihpLnBvbHlnb25FbmQoKSxsPSExKSxhPW89bnVsbH0sc3BoZXJlOmZ1bmN0aW9uKCl7aS5wb2x5Z29uU3RhcnQoKSxpLmxpbmVTdGFydCgpLGUobnVsbCxudWxsLDEsaSksaS5saW5lRW5kKCksaS5wb2x5Z29uRW5kKCl9fTtmdW5jdGlvbiBkKG4sZSl7dChuLGUpJiZpLnBvaW50KG4sZSl9ZnVuY3Rpb24gcCh0LG4pe2MucG9pbnQodCxuKX1mdW5jdGlvbiB2KCl7aC5wb2ludD1wLGMubGluZVN0YXJ0KCl9ZnVuY3Rpb24gZygpe2gucG9pbnQ9ZCxjLmxpbmVFbmQoKX1mdW5jdGlvbiB5KHQsbil7dS5wdXNoKFt0LG5dKSxzLnBvaW50KHQsbil9ZnVuY3Rpb24gXygpe3MubGluZVN0YXJ0KCksdT1bXX1mdW5jdGlvbiBiKCl7eSh1WzBdWzBdLHVbMF1bMV0pLHMubGluZUVuZCgpO3ZhciB0LG4sZSxyLGM9cy5jbGVhbigpLGg9Zi5yZXN1bHQoKSxkPWgubGVuZ3RoO2lmKHUucG9wKCksby5wdXNoKHUpLHU9bnVsbCxkKWlmKDEmYyl7aWYoKG49KGU9aFswXSkubGVuZ3RoLTEpPjApe2ZvcihsfHwoaS5wb2x5Z29uU3RhcnQoKSxsPSEwKSxpLmxpbmVTdGFydCgpLHQ9MDt0PG47Kyt0KWkucG9pbnQoKHI9ZVt0XSlbMF0sclsxXSk7aS5saW5lRW5kKCl9fWVsc2UgZD4xJiYyJmMmJmgucHVzaChoLnBvcCgpLmNvbmNhdChoLnNoaWZ0KCkpKSxhLnB1c2goaC5maWx0ZXIoR2MpKX1yZXR1cm4gaH19ZnVuY3Rpb24gR2ModCl7cmV0dXJuIHQubGVuZ3RoPjF9ZnVuY3Rpb24gVmModCxuKXtyZXR1cm4oKHQ9dC54KVswXTwwP3RbMV0tRmEtT2E6RmEtdFsxXSktKChuPW4ueClbMF08MD9uWzFdLUZhLU9hOkZhLW5bMV0pfXZhciAkYz1YYyhmdW5jdGlvbigpe3JldHVybiEwfSxmdW5jdGlvbih0KXt2YXIgbixlPU5hTixyPU5hTixpPU5hTjtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7dC5saW5lU3RhcnQoKSxuPTF9LHBvaW50OmZ1bmN0aW9uKG8sYSl7dmFyIHU9bz4wP1lhOi1ZYSxjPUdhKG8tZSk7R2EoYy1ZYSk8T2E/KHQucG9pbnQoZSxyPShyK2EpLzI+MD9GYTotRmEpLHQucG9pbnQoaSxyKSx0LmxpbmVFbmQoKSx0LmxpbmVTdGFydCgpLHQucG9pbnQodSxyKSx0LnBvaW50KG8sciksbj0wKTppIT09dSYmYz49WWEmJihHYShlLWkpPE9hJiYoZS09aSpPYSksR2Eoby11KTxPYSYmKG8tPXUqT2EpLHI9ZnVuY3Rpb24odCxuLGUscil7dmFyIGksbyxhPXR1KHQtZSk7cmV0dXJuIEdhKGEpPk9hP1ZhKCh0dShuKSoobz1XYShyKSkqdHUoZSktdHUocikqKGk9V2EobikpKnR1KHQpKS8oaSpvKmEpKToobityKS8yfShlLHIsbyxhKSx0LnBvaW50KGksciksdC5saW5lRW5kKCksdC5saW5lU3RhcnQoKSx0LnBvaW50KHUsciksbj0wKSx0LnBvaW50KGU9byxyPWEpLGk9dX0sbGluZUVuZDpmdW5jdGlvbigpe3QubGluZUVuZCgpLGU9cj1OYU59LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIDItbn19fSxmdW5jdGlvbih0LG4sZSxyKXt2YXIgaTtpZihudWxsPT10KWk9ZSpGYSxyLnBvaW50KC1ZYSxpKSxyLnBvaW50KDAsaSksci5wb2ludChZYSxpKSxyLnBvaW50KFlhLDApLHIucG9pbnQoWWEsLWkpLHIucG9pbnQoMCwtaSksci5wb2ludCgtWWEsLWkpLHIucG9pbnQoLVlhLDApLHIucG9pbnQoLVlhLGkpO2Vsc2UgaWYoR2EodFswXS1uWzBdKT5PYSl7dmFyIG89dFswXTxuWzBdP1lhOi1ZYTtpPWUqby8yLHIucG9pbnQoLW8saSksci5wb2ludCgwLGkpLHIucG9pbnQobyxpKX1lbHNlIHIucG9pbnQoblswXSxuWzFdKX0sWy1ZYSwtRmFdKTtmdW5jdGlvbiBXYyh0KXt2YXIgbj1XYSh0KSxlPTYqWGEscj1uPjAsaT1HYShuKT5PYTtmdW5jdGlvbiBvKHQsZSl7cmV0dXJuIFdhKHQpKldhKGUpPm59ZnVuY3Rpb24gYSh0LGUscil7dmFyIGk9WzEsMCwwXSxvPUV1KFN1KHQpLFN1KGUpKSxhPWt1KG8sbyksdT1vWzBdLGM9YS11KnU7aWYoIWMpcmV0dXJuIXImJnQ7dmFyIGY9biphL2Mscz0tbip1L2MsbD1FdShpLG8pLGg9UHUoaSxmKTtDdShoLFB1KG8scykpO3ZhciBkPWwscD1rdShoLGQpLHY9a3UoZCxkKSxnPXAqcC12KihrdShoLGgpLTEpO2lmKCEoZzwwKSl7dmFyIHk9ZXUoZyksXz1QdShkLCgtcC15KS92KTtpZihDdShfLGgpLF89VHUoXyksIXIpcmV0dXJuIF87dmFyIGIsbT10WzBdLHg9ZVswXSx3PXRbMV0sTT1lWzFdO3g8bSYmKGI9bSxtPXgseD1iKTt2YXIgTj14LW0sQT1HYShOLVlhKTxPYTtpZighQSYmTTx3JiYoYj13LHc9TSxNPWIpLEF8fE48T2E/QT93K00+MF5fWzFdPChHYShfWzBdLW0pPE9hP3c6TSk6dzw9X1sxXSYmX1sxXTw9TTpOPllhXihtPD1fWzBdJiZfWzBdPD14KSl7dmFyIFQ9UHUoZCwoLXAreSkvdik7cmV0dXJuIEN1KFQsaCksW18sVHUoVCldfX19ZnVuY3Rpb24gdShuLGUpe3ZhciBpPXI/dDpZYS10LG89MDtyZXR1cm4gbjwtaT9vfD0xOm4+aSYmKG98PTIpLGU8LWk/b3w9NDplPmkmJihvfD04KSxvfXJldHVybiBYYyhvLGZ1bmN0aW9uKHQpe3ZhciBuLGUsYyxmLHM7cmV0dXJue2xpbmVTdGFydDpmdW5jdGlvbigpe2Y9Yz0hMSxzPTF9LHBvaW50OmZ1bmN0aW9uKGwsaCl7dmFyIGQscD1bbCxoXSx2PW8obCxoKSxnPXI/dj8wOnUobCxoKTp2P3UobCsobDwwP1lhOi1ZYSksaCk6MDtpZighbiYmKGY9Yz12KSYmdC5saW5lU3RhcnQoKSx2IT09YyYmKCEoZD1hKG4scCkpfHxCYyhuLGQpfHxCYyhwLGQpKSYmKHBbMF0rPU9hLHBbMV0rPU9hLHY9byhwWzBdLHBbMV0pKSx2IT09YylzPTAsdj8odC5saW5lU3RhcnQoKSxkPWEocCxuKSx0LnBvaW50KGRbMF0sZFsxXSkpOihkPWEobixwKSx0LnBvaW50KGRbMF0sZFsxXSksdC5saW5lRW5kKCkpLG49ZDtlbHNlIGlmKGkmJm4mJnJedil7dmFyIHk7ZyZlfHwhKHk9YShwLG4sITApKXx8KHM9MCxyPyh0LmxpbmVTdGFydCgpLHQucG9pbnQoeVswXVswXSx5WzBdWzFdKSx0LnBvaW50KHlbMV1bMF0seVsxXVsxXSksdC5saW5lRW5kKCkpOih0LnBvaW50KHlbMV1bMF0seVsxXVsxXSksdC5saW5lRW5kKCksdC5saW5lU3RhcnQoKSx0LnBvaW50KHlbMF1bMF0seVswXVsxXSkpKX0hdnx8biYmQmMobixwKXx8dC5wb2ludChwWzBdLHBbMV0pLG49cCxjPXYsZT1nfSxsaW5lRW5kOmZ1bmN0aW9uKCl7YyYmdC5saW5lRW5kKCksbj1udWxsfSxjbGVhbjpmdW5jdGlvbigpe3JldHVybiBzfChmJiZjKTw8MX19fSxmdW5jdGlvbihuLHIsaSxvKXtMYyhvLHQsZSxpLG4scil9LHI/WzAsLXRdOlstWWEsdC1ZYV0pfXZhciBaYz0xZTksUWM9LVpjO2Z1bmN0aW9uIEpjKHQsbixlLHIpe2Z1bmN0aW9uIGkoaSxvKXtyZXR1cm4gdDw9aSYmaTw9ZSYmbjw9byYmbzw9cn1mdW5jdGlvbiBvKGksbyx1LGYpe3ZhciBzPTAsbD0wO2lmKG51bGw9PWl8fChzPWEoaSx1KSkhPT0obD1hKG8sdSkpfHxjKGksbyk8MF51PjApZG97Zi5wb2ludCgwPT09c3x8Mz09PXM/dDplLHM+MT9yOm4pfXdoaWxlKChzPShzK3UrNCklNCkhPT1sKTtlbHNlIGYucG9pbnQob1swXSxvWzFdKX1mdW5jdGlvbiBhKHIsaSl7cmV0dXJuIEdhKHJbMF0tdCk8T2E/aT4wPzA6MzpHYShyWzBdLWUpPE9hP2k+MD8yOjE6R2EoclsxXS1uKTxPYT9pPjA/MTowOmk+MD8zOjJ9ZnVuY3Rpb24gdSh0LG4pe3JldHVybiBjKHQueCxuLngpfWZ1bmN0aW9uIGModCxuKXt2YXIgZT1hKHQsMSkscj1hKG4sMSk7cmV0dXJuIGUhPT1yP2UtcjowPT09ZT9uWzFdLXRbMV06MT09PWU/dFswXS1uWzBdOjI9PT1lP3RbMV0tblsxXTpuWzBdLXRbMF19cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjLGYscyxsLGgsZCxwLHYsZyx5LF8sYj1hLG09T2MoKSx4PXtwb2ludDp3LGxpbmVTdGFydDpmdW5jdGlvbigpe3gucG9pbnQ9TSxmJiZmLnB1c2gocz1bXSk7eT0hMCxnPSExLHA9dj1OYU59LGxpbmVFbmQ6ZnVuY3Rpb24oKXtjJiYoTShsLGgpLGQmJmcmJm0ucmVqb2luKCksYy5wdXNoKG0ucmVzdWx0KCkpKTt4LnBvaW50PXcsZyYmYi5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2I9bSxjPVtdLGY9W10sXz0hMH0scG9seWdvbkVuZDpmdW5jdGlvbigpe3ZhciBuPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsZT0wLGk9Zi5sZW5ndGg7ZTxpOysrZSlmb3IodmFyIG8sYSx1PWZbZV0sYz0xLHM9dS5sZW5ndGgsbD11WzBdLGg9bFswXSxkPWxbMV07YzxzOysrYylvPWgsYT1kLGw9dVtjXSxoPWxbMF0sZD1sWzFdLGE8PXI/ZD5yJiYoaC1vKSooci1hKT4oZC1hKSoodC1vKSYmKytuOmQ8PXImJihoLW8pKihyLWEpPChkLWEpKih0LW8pJiYtLW47cmV0dXJuIG59KCksZT1fJiZuLGk9KGM9VChjKSkubGVuZ3RoOyhlfHxpKSYmKGEucG9seWdvblN0YXJ0KCksZSYmKGEubGluZVN0YXJ0KCksbyhudWxsLG51bGwsMSxhKSxhLmxpbmVFbmQoKSksaSYmRmMoYyx1LG4sbyxhKSxhLnBvbHlnb25FbmQoKSk7Yj1hLGM9Zj1zPW51bGx9fTtmdW5jdGlvbiB3KHQsbil7aSh0LG4pJiZiLnBvaW50KHQsbil9ZnVuY3Rpb24gTShvLGEpe3ZhciB1PWkobyxhKTtpZihmJiZzLnB1c2goW28sYV0pLHkpbD1vLGg9YSxkPXUseT0hMSx1JiYoYi5saW5lU3RhcnQoKSxiLnBvaW50KG8sYSkpO2Vsc2UgaWYodSYmZyliLnBvaW50KG8sYSk7ZWxzZXt2YXIgYz1bcD1NYXRoLm1heChRYyxNYXRoLm1pbihaYyxwKSksdj1NYXRoLm1heChRYyxNYXRoLm1pbihaYyx2KSldLG09W289TWF0aC5tYXgoUWMsTWF0aC5taW4oWmMsbykpLGE9TWF0aC5tYXgoUWMsTWF0aC5taW4oWmMsYSkpXTshZnVuY3Rpb24odCxuLGUscixpLG8pe3ZhciBhLHU9dFswXSxjPXRbMV0sZj0wLHM9MSxsPW5bMF0tdSxoPW5bMV0tYztpZihhPWUtdSxsfHwhKGE+MCkpe2lmKGEvPWwsbDwwKXtpZihhPGYpcmV0dXJuO2E8cyYmKHM9YSl9ZWxzZSBpZihsPjApe2lmKGE+cylyZXR1cm47YT5mJiYoZj1hKX1pZihhPWktdSxsfHwhKGE8MCkpe2lmKGEvPWwsbDwwKXtpZihhPnMpcmV0dXJuO2E+ZiYmKGY9YSl9ZWxzZSBpZihsPjApe2lmKGE8ZilyZXR1cm47YTxzJiYocz1hKX1pZihhPXItYyxofHwhKGE+MCkpe2lmKGEvPWgsaDwwKXtpZihhPGYpcmV0dXJuO2E8cyYmKHM9YSl9ZWxzZSBpZihoPjApe2lmKGE+cylyZXR1cm47YT5mJiYoZj1hKX1pZihhPW8tYyxofHwhKGE8MCkpe2lmKGEvPWgsaDwwKXtpZihhPnMpcmV0dXJuO2E+ZiYmKGY9YSl9ZWxzZSBpZihoPjApe2lmKGE8ZilyZXR1cm47YTxzJiYocz1hKX1yZXR1cm4gZj4wJiYodFswXT11K2YqbCx0WzFdPWMrZipoKSxzPDEmJihuWzBdPXUrcypsLG5bMV09YytzKmgpLCEwfX19fX0oYyxtLHQsbixlLHIpP3UmJihiLmxpbmVTdGFydCgpLGIucG9pbnQobyxhKSxfPSExKTooZ3x8KGIubGluZVN0YXJ0KCksYi5wb2ludChjWzBdLGNbMV0pKSxiLnBvaW50KG1bMF0sbVsxXSksdXx8Yi5saW5lRW5kKCksXz0hMSl9cD1vLHY9YSxnPXV9cmV0dXJuIHh9fXZhciBLYyx0ZixuZixlZj1EYSgpLHJmPXtzcGhlcmU6dXUscG9pbnQ6dXUsbGluZVN0YXJ0OmZ1bmN0aW9uKCl7cmYucG9pbnQ9YWYscmYubGluZUVuZD1vZn0sbGluZUVuZDp1dSxwb2x5Z29uU3RhcnQ6dXUscG9seWdvbkVuZDp1dX07ZnVuY3Rpb24gb2YoKXtyZi5wb2ludD1yZi5saW5lRW5kPXV1fWZ1bmN0aW9uIGFmKHQsbil7S2M9dCo9WGEsdGY9dHUobio9WGEpLG5mPVdhKG4pLHJmLnBvaW50PXVmfWZ1bmN0aW9uIHVmKHQsbil7dCo9WGE7dmFyIGU9dHUobio9WGEpLHI9V2EobiksaT1HYSh0LUtjKSxvPVdhKGkpLGE9cip0dShpKSx1PW5mKmUtdGYqcipvLGM9dGYqZStuZipyKm87ZWYuYWRkKCRhKGV1KGEqYSt1KnUpLGMpKSxLYz10LHRmPWUsbmY9cn1mdW5jdGlvbiBjZih0KXtyZXR1cm4gZWYucmVzZXQoKSxkdSh0LHJmKSwrZWZ9dmFyIGZmPVtudWxsLG51bGxdLHNmPXt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpmZn07ZnVuY3Rpb24gbGYodCxuKXtyZXR1cm4gZmZbMF09dCxmZlsxXT1uLGNmKHNmKX12YXIgaGY9e0ZlYXR1cmU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gcGYodC5nZW9tZXRyeSxuKX0sRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9dC5mZWF0dXJlcyxyPS0xLGk9ZS5sZW5ndGg7KytyPGk7KWlmKHBmKGVbcl0uZ2VvbWV0cnksbikpcmV0dXJuITA7cmV0dXJuITF9fSxkZj17U3BoZXJlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LFBvaW50OmZ1bmN0aW9uKHQsbil7cmV0dXJuIHZmKHQuY29vcmRpbmF0ZXMsbil9LE11bHRpUG9pbnQ6ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9dC5jb29yZGluYXRlcyxyPS0xLGk9ZS5sZW5ndGg7KytyPGk7KWlmKHZmKGVbcl0sbikpcmV0dXJuITA7cmV0dXJuITF9LExpbmVTdHJpbmc6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZ2YodC5jb29yZGluYXRlcyxuKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPXQuY29vcmRpbmF0ZXMscj0tMSxpPWUubGVuZ3RoOysrcjxpOylpZihnZihlW3JdLG4pKXJldHVybiEwO3JldHVybiExfSxQb2x5Z29uOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHlmKHQuY29vcmRpbmF0ZXMsbil9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0LG4pe2Zvcih2YXIgZT10LmNvb3JkaW5hdGVzLHI9LTEsaT1lLmxlbmd0aDsrK3I8aTspaWYoeWYoZVtyXSxuKSlyZXR1cm4hMDtyZXR1cm4hMX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPXQuZ2VvbWV0cmllcyxyPS0xLGk9ZS5sZW5ndGg7KytyPGk7KWlmKHBmKGVbcl0sbikpcmV0dXJuITA7cmV0dXJuITF9fTtmdW5jdGlvbiBwZih0LG4pe3JldHVybiEoIXR8fCFkZi5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpKSYmZGZbdC50eXBlXSh0LG4pfWZ1bmN0aW9uIHZmKHQsbil7cmV0dXJuIDA9PT1sZih0LG4pfWZ1bmN0aW9uIGdmKHQsbil7dmFyIGU9bGYodFswXSx0WzFdKTtyZXR1cm4gbGYodFswXSxuKStsZihuLHRbMV0pPD1lK09hfWZ1bmN0aW9uIHlmKHQsbil7cmV0dXJuISFIYyh0Lm1hcChfZiksYmYobikpfWZ1bmN0aW9uIF9mKHQpe3JldHVybih0PXQubWFwKGJmKSkucG9wKCksdH1mdW5jdGlvbiBiZih0KXtyZXR1cm5bdFswXSpYYSx0WzFdKlhhXX1mdW5jdGlvbiBtZih0LG4sZSl7dmFyIHI9Zyh0LG4tT2EsZSkuY29uY2F0KG4pO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gci5tYXAoZnVuY3Rpb24obil7cmV0dXJuW3Qsbl19KX19ZnVuY3Rpb24geGYodCxuLGUpe3ZhciByPWcodCxuLU9hLGUpLmNvbmNhdChuKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHIubWFwKGZ1bmN0aW9uKG4pe3JldHVybltuLHRdfSl9fWZ1bmN0aW9uIHdmKCl7dmFyIHQsbixlLHIsaSxvLGEsdSxjLGYscyxsLGg9MTAsZD1oLHA9OTAsdj0zNjAseT0yLjU7ZnVuY3Rpb24gXygpe3JldHVybnt0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOmIoKX19ZnVuY3Rpb24gYigpe3JldHVybiBnKFphKHIvcCkqcCxlLHApLm1hcChzKS5jb25jYXQoZyhaYSh1L3YpKnYsYSx2KS5tYXAobCkpLmNvbmNhdChnKFphKG4vaCkqaCx0LGgpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gR2EodCVwKT5PYX0pLm1hcChjKSkuY29uY2F0KGcoWmEoby9kKSpkLGksZCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBHYSh0JXYpPk9hfSkubWFwKGYpKX1yZXR1cm4gXy5saW5lcz1mdW5jdGlvbigpe3JldHVybiBiKCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczp0fX0pfSxfLm91dGxpbmU9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6W3MocikuY29uY2F0KGwoYSkuc2xpY2UoMSkscyhlKS5yZXZlcnNlKCkuc2xpY2UoMSksbCh1KS5yZXZlcnNlKCkuc2xpY2UoMSkpXX19LF8uZXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP18uZXh0ZW50TWFqb3IodCkuZXh0ZW50TWlub3IodCk6Xy5leHRlbnRNaW5vcigpfSxfLmV4dGVudE1ham9yPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSt0WzBdWzBdLGU9K3RbMV1bMF0sdT0rdFswXVsxXSxhPSt0WzFdWzFdLHI+ZSYmKHQ9cixyPWUsZT10KSx1PmEmJih0PXUsdT1hLGE9dCksXy5wcmVjaXNpb24oeSkpOltbcix1XSxbZSxhXV19LF8uZXh0ZW50TWlub3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K2VbMF1bMF0sdD0rZVsxXVswXSxvPStlWzBdWzFdLGk9K2VbMV1bMV0sbj50JiYoZT1uLG49dCx0PWUpLG8+aSYmKGU9byxvPWksaT1lKSxfLnByZWNpc2lvbih5KSk6W1tuLG9dLFt0LGldXX0sXy5zdGVwPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP18uc3RlcE1ham9yKHQpLnN0ZXBNaW5vcih0KTpfLnN0ZXBNaW5vcigpfSxfLnN0ZXBNYWpvcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD0rdFswXSx2PSt0WzFdLF8pOltwLHZdfSxfLnN0ZXBNaW5vcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD0rdFswXSxkPSt0WzFdLF8pOltoLGRdfSxfLnByZWNpc2lvbj1mdW5jdGlvbihoKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeT0raCxjPW1mKG8saSw5MCksZj14ZihuLHQseSkscz1tZih1LGEsOTApLGw9eGYocixlLHkpLF8pOnl9LF8uZXh0ZW50TWFqb3IoW1stMTgwLC05MCtPYV0sWzE4MCw5MC1PYV1dKS5leHRlbnRNaW5vcihbWy0xODAsLTgwLU9hXSxbMTgwLDgwK09hXV0pfWZ1bmN0aW9uIE1mKHQpe3JldHVybiB0fXZhciBOZixBZixUZixTZixrZj1EYSgpLEVmPURhKCksQ2Y9e3BvaW50OnV1LGxpbmVTdGFydDp1dSxsaW5lRW5kOnV1LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe0NmLmxpbmVTdGFydD1QZixDZi5saW5lRW5kPURmfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7Q2YubGluZVN0YXJ0PUNmLmxpbmVFbmQ9Q2YucG9pbnQ9dXUsa2YuYWRkKEdhKEVmKSksRWYucmVzZXQoKX0scmVzdWx0OmZ1bmN0aW9uKCl7dmFyIHQ9a2YvMjtyZXR1cm4ga2YucmVzZXQoKSx0fX07ZnVuY3Rpb24gUGYoKXtDZi5wb2ludD16Zn1mdW5jdGlvbiB6Zih0LG4pe0NmLnBvaW50PVJmLE5mPVRmPXQsQWY9U2Y9bn1mdW5jdGlvbiBSZih0LG4pe0VmLmFkZChTZip0LVRmKm4pLFRmPXQsU2Y9bn1mdW5jdGlvbiBEZigpe1JmKE5mLEFmKX12YXIgcWY9MS8wLExmPXFmLFVmPS1xZixPZj1VZixCZj17cG9pbnQ6ZnVuY3Rpb24odCxuKXt0PHFmJiYocWY9dCk7dD5VZiYmKFVmPXQpO248TGYmJihMZj1uKTtuPk9mJiYoT2Y9bil9LGxpbmVTdGFydDp1dSxsaW5lRW5kOnV1LHBvbHlnb25TdGFydDp1dSxwb2x5Z29uRW5kOnV1LHJlc3VsdDpmdW5jdGlvbigpe3ZhciB0PVtbcWYsTGZdLFtVZixPZl1dO3JldHVybiBVZj1PZj0tKExmPXFmPTEvMCksdH19O3ZhciBZZixGZixJZixqZixIZj0wLFhmPTAsR2Y9MCxWZj0wLCRmPTAsV2Y9MCxaZj0wLFFmPTAsSmY9MCxLZj17cG9pbnQ6dHMsbGluZVN0YXJ0Om5zLGxpbmVFbmQ6aXMscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7S2YubGluZVN0YXJ0PW9zLEtmLmxpbmVFbmQ9YXN9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtLZi5wb2ludD10cyxLZi5saW5lU3RhcnQ9bnMsS2YubGluZUVuZD1pc30scmVzdWx0OmZ1bmN0aW9uKCl7dmFyIHQ9SmY/W1pmL0pmLFFmL0pmXTpXZj9bVmYvV2YsJGYvV2ZdOkdmP1tIZi9HZixYZi9HZl06W05hTixOYU5dO3JldHVybiBIZj1YZj1HZj1WZj0kZj1XZj1aZj1RZj1KZj0wLHR9fTtmdW5jdGlvbiB0cyh0LG4pe0hmKz10LFhmKz1uLCsrR2Z9ZnVuY3Rpb24gbnMoKXtLZi5wb2ludD1lc31mdW5jdGlvbiBlcyh0LG4pe0tmLnBvaW50PXJzLHRzKElmPXQsamY9bil9ZnVuY3Rpb24gcnModCxuKXt2YXIgZT10LUlmLHI9bi1qZixpPWV1KGUqZStyKnIpO1ZmKz1pKihJZit0KS8yLCRmKz1pKihqZituKS8yLFdmKz1pLHRzKElmPXQsamY9bil9ZnVuY3Rpb24gaXMoKXtLZi5wb2ludD10c31mdW5jdGlvbiBvcygpe0tmLnBvaW50PXVzfWZ1bmN0aW9uIGFzKCl7Y3MoWWYsRmYpfWZ1bmN0aW9uIHVzKHQsbil7S2YucG9pbnQ9Y3MsdHMoWWY9SWY9dCxGZj1qZj1uKX1mdW5jdGlvbiBjcyh0LG4pe3ZhciBlPXQtSWYscj1uLWpmLGk9ZXUoZSplK3Iqcik7VmYrPWkqKElmK3QpLzIsJGYrPWkqKGpmK24pLzIsV2YrPWksWmYrPShpPWpmKnQtSWYqbikqKElmK3QpLFFmKz1pKihqZituKSxKZis9MyppLHRzKElmPXQsamY9bil9ZnVuY3Rpb24gZnModCl7dGhpcy5fY29udGV4dD10fWZzLnByb3RvdHlwZT17X3JhZGl1czo0LjUscG9pbnRSYWRpdXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JhZGl1cz10LHRoaXN9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9MH0scG9seWdvbkVuZDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9TmFOfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl9wb2ludD0wfSxsaW5lRW5kOmZ1bmN0aW9uKCl7MD09PXRoaXMuX2xpbmUmJnRoaXMuX2NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5fcG9pbnQ9TmFOfSxwb2ludDpmdW5jdGlvbih0LG4pe3N3aXRjaCh0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX2NvbnRleHQubW92ZVRvKHQsbiksdGhpcy5fcG9pbnQ9MTticmVhaztjYXNlIDE6dGhpcy5fY29udGV4dC5saW5lVG8odCxuKTticmVhaztkZWZhdWx0OnRoaXMuX2NvbnRleHQubW92ZVRvKHQrdGhpcy5fcmFkaXVzLG4pLHRoaXMuX2NvbnRleHQuYXJjKHQsbix0aGlzLl9yYWRpdXMsMCxqYSl9fSxyZXN1bHQ6dXV9O3ZhciBzcyxscyxocyxkcyxwcyx2cz1EYSgpLGdzPXtwb2ludDp1dSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtncy5wb2ludD15c30sbGluZUVuZDpmdW5jdGlvbigpe3NzJiZfcyhscyxocyksZ3MucG9pbnQ9dXV9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3NzPSEwfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7c3M9bnVsbH0scmVzdWx0OmZ1bmN0aW9uKCl7dmFyIHQ9K3ZzO3JldHVybiB2cy5yZXNldCgpLHR9fTtmdW5jdGlvbiB5cyh0LG4pe2dzLnBvaW50PV9zLGxzPWRzPXQsaHM9cHM9bn1mdW5jdGlvbiBfcyh0LG4pe2RzLT10LHBzLT1uLHZzLmFkZChldShkcypkcytwcypwcykpLGRzPXQscHM9bn1mdW5jdGlvbiBicygpe3RoaXMuX3N0cmluZz1bXX1mdW5jdGlvbiBtcyh0KXtyZXR1cm4ibTAsIit0KyJhIit0KyIsIit0KyIgMCAxLDEgMCwiKy0yKnQrImEiK3QrIiwiK3QrIiAwIDEsMSAwLCIrMip0KyJ6In1mdW5jdGlvbiB4cyh0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGU9bmV3IHdzO2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZS5zdHJlYW09bixlfX1mdW5jdGlvbiB3cygpe31mdW5jdGlvbiBNcyh0LG4sZSl7dmFyIHI9dC5jbGlwRXh0ZW50JiZ0LmNsaXBFeHRlbnQoKTtyZXR1cm4gdC5zY2FsZSgxNTApLnRyYW5zbGF0ZShbMCwwXSksbnVsbCE9ciYmdC5jbGlwRXh0ZW50KG51bGwpLGR1KGUsdC5zdHJlYW0oQmYpKSxuKEJmLnJlc3VsdCgpKSxudWxsIT1yJiZ0LmNsaXBFeHRlbnQociksdH1mdW5jdGlvbiBOcyh0LG4sZSl7cmV0dXJuIE1zKHQsZnVuY3Rpb24oZSl7dmFyIHI9blsxXVswXS1uWzBdWzBdLGk9blsxXVsxXS1uWzBdWzFdLG89TWF0aC5taW4oci8oZVsxXVswXS1lWzBdWzBdKSxpLyhlWzFdWzFdLWVbMF1bMV0pKSxhPStuWzBdWzBdKyhyLW8qKGVbMV1bMF0rZVswXVswXSkpLzIsdT0rblswXVsxXSsoaS1vKihlWzFdWzFdK2VbMF1bMV0pKS8yO3Quc2NhbGUoMTUwKm8pLnRyYW5zbGF0ZShbYSx1XSl9LGUpfWZ1bmN0aW9uIEFzKHQsbixlKXtyZXR1cm4gTnModCxbWzAsMF0sbl0sZSl9ZnVuY3Rpb24gVHModCxuLGUpe3JldHVybiBNcyh0LGZ1bmN0aW9uKGUpe3ZhciByPStuLGk9ci8oZVsxXVswXS1lWzBdWzBdKSxvPShyLWkqKGVbMV1bMF0rZVswXVswXSkpLzIsYT0taSplWzBdWzFdO3Quc2NhbGUoMTUwKmkpLnRyYW5zbGF0ZShbbyxhXSl9LGUpfWZ1bmN0aW9uIFNzKHQsbixlKXtyZXR1cm4gTXModCxmdW5jdGlvbihlKXt2YXIgcj0rbixpPXIvKGVbMV1bMV0tZVswXVsxXSksbz0taSplWzBdWzBdLGE9KHItaSooZVsxXVsxXStlWzBdWzFdKSkvMjt0LnNjYWxlKDE1MCppKS50cmFuc2xhdGUoW28sYV0pfSxlKX1icy5wcm90b3R5cGU9e19yYWRpdXM6NC41LF9jaXJjbGU6bXMoNC41KSxwb2ludFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4odD0rdCkhPT10aGlzLl9yYWRpdXMmJih0aGlzLl9yYWRpdXM9dCx0aGlzLl9jaXJjbGU9bnVsbCksdGhpc30scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3BvaW50PTB9LGxpbmVFbmQ6ZnVuY3Rpb24oKXswPT09dGhpcy5fbGluZSYmdGhpcy5fc3RyaW5nLnB1c2goIloiKSx0aGlzLl9wb2ludD1OYU59LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHRoaXMuX3BvaW50KXtjYXNlIDA6dGhpcy5fc3RyaW5nLnB1c2goIk0iLHQsIiwiLG4pLHRoaXMuX3BvaW50PTE7YnJlYWs7Y2FzZSAxOnRoaXMuX3N0cmluZy5wdXNoKCJMIix0LCIsIixuKTticmVhaztkZWZhdWx0Om51bGw9PXRoaXMuX2NpcmNsZSYmKHRoaXMuX2NpcmNsZT1tcyh0aGlzLl9yYWRpdXMpKSx0aGlzLl9zdHJpbmcucHVzaCgiTSIsdCwiLCIsbix0aGlzLl9jaXJjbGUpfX0scmVzdWx0OmZ1bmN0aW9uKCl7aWYodGhpcy5fc3RyaW5nLmxlbmd0aCl7dmFyIHQ9dGhpcy5fc3RyaW5nLmpvaW4oIiIpO3JldHVybiB0aGlzLl9zdHJpbmc9W10sdH1yZXR1cm4gbnVsbH19LHdzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6d3MscG9pbnQ6ZnVuY3Rpb24odCxuKXt0aGlzLnN0cmVhbS5wb2ludCh0LG4pfSxzcGhlcmU6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvbkVuZCgpfX07dmFyIGtzPTE2LEVzPVdhKDMwKlhhKTtmdW5jdGlvbiBDcyh0LG4pe3JldHVybituP2Z1bmN0aW9uKHQsbil7ZnVuY3Rpb24gZShyLGksbyxhLHUsYyxmLHMsbCxoLGQscCx2LGcpe3ZhciB5PWYtcixfPXMtaSxiPXkqeStfKl87aWYoYj40Km4mJnYtLSl7dmFyIG09YStoLHg9dStkLHc9YytwLE09ZXUobSptK3gqeCt3KncpLE49b3Uody89TSksQT1HYShHYSh3KS0xKTxPYXx8R2Eoby1sKTxPYT8obytsKS8yOiRhKHgsbSksVD10KEEsTiksUz1UWzBdLGs9VFsxXSxFPVMtcixDPWstaSxQPV8qRS15KkM7KFAqUC9iPm58fEdhKCh5KkUrXypDKS9iLS41KT4uM3x8YSpoK3UqZCtjKnA8RXMpJiYoZShyLGksbyxhLHUsYyxTLGssQSxtLz1NLHgvPU0sdyx2LGcpLGcucG9pbnQoUyxrKSxlKFMsayxBLG0seCx3LGYscyxsLGgsZCxwLHYsZykpfX1yZXR1cm4gZnVuY3Rpb24obil7dmFyIHIsaSxvLGEsdSxjLGYscyxsLGgsZCxwLHY9e3BvaW50OmcsbGluZVN0YXJ0OnksbGluZUVuZDpiLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe24ucG9seWdvblN0YXJ0KCksdi5saW5lU3RhcnQ9bX0scG9seWdvbkVuZDpmdW5jdGlvbigpe24ucG9seWdvbkVuZCgpLHYubGluZVN0YXJ0PXl9fTtmdW5jdGlvbiBnKGUscil7ZT10KGUsciksbi5wb2ludChlWzBdLGVbMV0pfWZ1bmN0aW9uIHkoKXtzPU5hTix2LnBvaW50PV8sbi5saW5lU3RhcnQoKX1mdW5jdGlvbiBfKHIsaSl7dmFyIG89U3UoW3IsaV0pLGE9dChyLGkpO2UocyxsLGYsaCxkLHAscz1hWzBdLGw9YVsxXSxmPXIsaD1vWzBdLGQ9b1sxXSxwPW9bMl0sa3Msbiksbi5wb2ludChzLGwpfWZ1bmN0aW9uIGIoKXt2LnBvaW50PWcsbi5saW5lRW5kKCl9ZnVuY3Rpb24gbSgpe3koKSx2LnBvaW50PXgsdi5saW5lRW5kPXd9ZnVuY3Rpb24geCh0LG4pe18ocj10LG4pLGk9cyxvPWwsYT1oLHU9ZCxjPXAsdi5wb2ludD1ffWZ1bmN0aW9uIHcoKXtlKHMsbCxmLGgsZCxwLGksbyxyLGEsdSxjLGtzLG4pLHYubGluZUVuZD1iLGIoKX1yZXR1cm4gdn19KHQsbik6ZnVuY3Rpb24odCl7cmV0dXJuIHhzKHtwb2ludDpmdW5jdGlvbihuLGUpe249dChuLGUpLHRoaXMuc3RyZWFtLnBvaW50KG5bMF0sblsxXSl9fSl9KHQpfXZhciBQcz14cyh7cG9pbnQ6ZnVuY3Rpb24odCxuKXt0aGlzLnN0cmVhbS5wb2ludCh0KlhhLG4qWGEpfX0pO2Z1bmN0aW9uIHpzKHQsbixlLHIpe3ZhciBpPVdhKHIpLG89dHUociksYT1pKnQsdT1vKnQsYz1pL3QsZj1vL3Qscz0obyplLWkqbikvdCxsPShvKm4raSplKS90O2Z1bmN0aW9uIGgodCxyKXtyZXR1cm5bYSp0LXUqcituLGUtdSp0LWEqcl19cmV0dXJuIGguaW52ZXJ0PWZ1bmN0aW9uKHQsbil7cmV0dXJuW2MqdC1mKm4rcyxsLWYqdC1jKm5dfSxofWZ1bmN0aW9uIFJzKHQpe3JldHVybiBEcyhmdW5jdGlvbigpe3JldHVybiB0fSkoKX1mdW5jdGlvbiBEcyh0KXt2YXIgbixlLHIsaSxvLGEsdSxjLGYscyxsPTE1MCxoPTQ4MCxkPTI1MCxwPTAsdj0wLGc9MCx5PTAsXz0wLGI9MCxtPW51bGwseD0kYyx3PW51bGwsTT1NZixOPS41O2Z1bmN0aW9uIEEodCl7cmV0dXJuIGModFswXSpYYSx0WzFdKlhhKX1mdW5jdGlvbiBUKHQpe3JldHVybih0PWMuaW52ZXJ0KHRbMF0sdFsxXSkpJiZbdFswXSpIYSx0WzFdKkhhXX1mdW5jdGlvbiBTKCl7dmFyIHQ9enMobCwwLDAsYikuYXBwbHkobnVsbCxuKHAsdikpLHI9KGI/enM6ZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIHIocixpKXtyZXR1cm5bbit0KnIsZS10KmldfXJldHVybiByLmludmVydD1mdW5jdGlvbihyLGkpe3JldHVyblsoci1uKS90LChlLWkpL3RdfSxyfSkobCxoLXRbMF0sZC10WzFdLGIpO3JldHVybiBlPVBjKGcseSxfKSx1PUVjKG4sciksYz1FYyhlLHUpLGE9Q3ModSxOKSxrKCl9ZnVuY3Rpb24gaygpe3JldHVybiBmPXM9bnVsbCxBfXJldHVybiBBLnN0cmVhbT1mdW5jdGlvbih0KXtyZXR1cm4gZiYmcz09PXQ/ZjpmPVBzKGZ1bmN0aW9uKHQpe3JldHVybiB4cyh7cG9pbnQ6ZnVuY3Rpb24obixlKXt2YXIgcj10KG4sZSk7cmV0dXJuIHRoaXMuc3RyZWFtLnBvaW50KHJbMF0sclsxXSl9fSl9KGUpKHgoYShNKHM9dCkpKSkpfSxBLnByZWNsaXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHg9dCxtPXZvaWQgMCxrKCkpOnh9LEEucG9zdGNsaXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KE09dCx3PXI9aT1vPW51bGwsaygpKTpNfSxBLmNsaXBBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD0rdD9XYyhtPXQqWGEpOihtPW51bGwsJGMpLGsoKSk6bSpIYX0sQS5jbGlwRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhNPW51bGw9PXQ/KHc9cj1pPW89bnVsbCxNZik6SmModz0rdFswXVswXSxyPSt0WzBdWzFdLGk9K3RbMV1bMF0sbz0rdFsxXVsxXSksaygpKTpudWxsPT13P251bGw6W1t3LHJdLFtpLG9dXX0sQS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD0rdCxTKCkpOmx9LEEudHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPSt0WzBdLGQ9K3RbMV0sUygpKTpbaCxkXX0sQS5jZW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9dFswXSUzNjAqWGEsdj10WzFdJTM2MCpYYSxTKCkpOltwKkhhLHYqSGFdfSxBLnJvdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz10WzBdJTM2MCpYYSx5PXRbMV0lMzYwKlhhLF89dC5sZW5ndGg+Mj90WzJdJTM2MCpYYTowLFMoKSk6W2cqSGEseSpIYSxfKkhhXX0sQS5hbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj10JTM2MCpYYSxTKCkpOmIqSGF9LEEucHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPUNzKHUsTj10KnQpLGsoKSk6ZXUoTil9LEEuZml0RXh0ZW50PWZ1bmN0aW9uKHQsbil7cmV0dXJuIE5zKEEsdCxuKX0sQS5maXRTaXplPWZ1bmN0aW9uKHQsbil7cmV0dXJuIEFzKEEsdCxuKX0sQS5maXRXaWR0aD1mdW5jdGlvbih0LG4pe3JldHVybiBUcyhBLHQsbil9LEEuZml0SGVpZ2h0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIFNzKEEsdCxuKX0sZnVuY3Rpb24oKXtyZXR1cm4gbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxBLmludmVydD1uLmludmVydCYmVCxTKCl9fWZ1bmN0aW9uIHFzKHQpe3ZhciBuPTAsZT1ZYS8zLHI9RHModCksaT1yKG4sZSk7cmV0dXJuIGkucGFyYWxsZWxzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Iobj10WzBdKlhhLGU9dFsxXSpYYSk6W24qSGEsZSpIYV19LGl9ZnVuY3Rpb24gTHModCxuKXt2YXIgZT10dSh0KSxyPShlK3R1KG4pKS8yO2lmKEdhKHIpPE9hKXJldHVybiBmdW5jdGlvbih0KXt2YXIgbj1XYSh0KTtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuW3Qqbix0dShlKS9uXX1yZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm5bdC9uLG91KGUqbildfSxlfSh0KTt2YXIgaT0xK2UqKDIqci1lKSxvPWV1KGkpL3I7ZnVuY3Rpb24gYSh0LG4pe3ZhciBlPWV1KGktMipyKnR1KG4pKS9yO3JldHVybltlKnR1KHQqPXIpLG8tZSpXYSh0KV19cmV0dXJuIGEuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGU9by1uO3JldHVyblskYSh0LEdhKGUpKS9yKm51KGUpLG91KChpLSh0KnQrZSplKSpyKnIpLygyKnIpKV19LGF9ZnVuY3Rpb24gVXMoKXtyZXR1cm4gcXMoTHMpLnNjYWxlKDE1NS40MjQpLmNlbnRlcihbMCwzMy42NDQyXSl9ZnVuY3Rpb24gT3MoKXtyZXR1cm4gVXMoKS5wYXJhbGxlbHMoWzI5LjUsNDUuNV0pLnNjYWxlKDEwNzApLnRyYW5zbGF0ZShbNDgwLDI1MF0pLnJvdGF0ZShbOTYsMF0pLmNlbnRlcihbLS42LDM4LjddKX1mdW5jdGlvbiBCcyh0KXtyZXR1cm4gZnVuY3Rpb24obixlKXt2YXIgcj1XYShuKSxpPVdhKGUpLG89dChyKmkpO3JldHVybltvKmkqdHUobiksbyp0dShlKV19fWZ1bmN0aW9uIFlzKHQpe3JldHVybiBmdW5jdGlvbihuLGUpe3ZhciByPWV1KG4qbitlKmUpLGk9dChyKSxvPXR1KGkpLGE9V2EoaSk7cmV0dXJuWyRhKG4qbyxyKmEpLG91KHImJmUqby9yKV19fXZhciBGcz1CcyhmdW5jdGlvbih0KXtyZXR1cm4gZXUoMi8oMSt0KSl9KTtGcy5pbnZlcnQ9WXMoZnVuY3Rpb24odCl7cmV0dXJuIDIqb3UodC8yKX0pO3ZhciBJcz1CcyhmdW5jdGlvbih0KXtyZXR1cm4odD1pdSh0KSkmJnQvdHUodCl9KTtmdW5jdGlvbiBqcyh0LG4pe3JldHVyblt0LEphKHJ1KChGYStuKS8yKSldfWZ1bmN0aW9uIEhzKHQpe3ZhciBuLGUscixpPVJzKHQpLG89aS5jZW50ZXIsYT1pLnNjYWxlLHU9aS50cmFuc2xhdGUsYz1pLmNsaXBFeHRlbnQsZj1udWxsO2Z1bmN0aW9uIHMoKXt2YXIgbz1ZYSphKCksdT1pKHFjKGkucm90YXRlKCkpLmludmVydChbMCwwXSkpO3JldHVybiBjKG51bGw9PWY/W1t1WzBdLW8sdVsxXS1vXSxbdVswXStvLHVbMV0rb11dOnQ9PT1qcz9bW01hdGgubWF4KHVbMF0tbyxmKSxuXSxbTWF0aC5taW4odVswXStvLGUpLHJdXTpbW2YsTWF0aC5tYXgodVsxXS1vLG4pXSxbZSxNYXRoLm1pbih1WzFdK28scildXSl9cmV0dXJuIGkuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGEodCkscygpKTphKCl9LGkudHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1KHQpLHMoKSk6dSgpfSxpLmNlbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obyh0KSxzKCkpOm8oKX0saS5jbGlwRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhudWxsPT10P2Y9bj1lPXI9bnVsbDooZj0rdFswXVswXSxuPSt0WzBdWzFdLGU9K3RbMV1bMF0scj0rdFsxXVsxXSkscygpKTpudWxsPT1mP251bGw6W1tmLG5dLFtlLHJdXX0scygpfWZ1bmN0aW9uIFhzKHQpe3JldHVybiBydSgoRmErdCkvMil9ZnVuY3Rpb24gR3ModCxuKXt2YXIgZT1XYSh0KSxyPXQ9PT1uP3R1KHQpOkphKGUvV2EobikpL0phKFhzKG4pL1hzKHQpKSxpPWUqS2EoWHModCkscikvcjtpZighcilyZXR1cm4ganM7ZnVuY3Rpb24gbyh0LG4pe2k+MD9uPC1GYStPYSYmKG49LUZhK09hKTpuPkZhLU9hJiYobj1GYS1PYSk7dmFyIGU9aS9LYShYcyhuKSxyKTtyZXR1cm5bZSp0dShyKnQpLGktZSpXYShyKnQpXX1yZXR1cm4gby5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgZT1pLW4sbz1udShyKSpldSh0KnQrZSplKTtyZXR1cm5bJGEodCxHYShlKSkvcipudShlKSwyKlZhKEthKGkvbywxL3IpKS1GYV19LG99ZnVuY3Rpb24gVnModCxuKXtyZXR1cm5bdCxuXX1mdW5jdGlvbiAkcyh0LG4pe3ZhciBlPVdhKHQpLHI9dD09PW4/dHUodCk6KGUtV2EobikpLyhuLXQpLGk9ZS9yK3Q7aWYoR2Eocik8T2EpcmV0dXJuIFZzO2Z1bmN0aW9uIG8odCxuKXt2YXIgZT1pLW4sbz1yKnQ7cmV0dXJuW2UqdHUobyksaS1lKldhKG8pXX1yZXR1cm4gby5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgZT1pLW47cmV0dXJuWyRhKHQsR2EoZSkpL3IqbnUoZSksaS1udShyKSpldSh0KnQrZSplKV19LG99SXMuaW52ZXJ0PVlzKGZ1bmN0aW9uKHQpe3JldHVybiB0fSksanMuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7cmV0dXJuW3QsMipWYShRYShuKSktRmFdfSxWcy5pbnZlcnQ9VnM7dmFyIFdzPTEuMzQwMjY0LFpzPS0uMDgxMTA2LFFzPTg5M2UtNixKcz0uMDAzNzk2LEtzPWV1KDMpLzI7ZnVuY3Rpb24gdGwodCxuKXt2YXIgZT1vdShLcyp0dShuKSkscj1lKmUsaT1yKnIqcjtyZXR1cm5bdCpXYShlKS8oS3MqKFdzKzMqWnMqcitpKig3KlFzKzkqSnMqcikpKSxlKihXcytacypyK2kqKFFzK0pzKnIpKV19ZnVuY3Rpb24gbmwodCxuKXt2YXIgZT1XYShuKSxyPVdhKHQpKmU7cmV0dXJuW2UqdHUodCkvcix0dShuKS9yXX1mdW5jdGlvbiBlbCh0LG4sZSxyKXtyZXR1cm4gMT09PXQmJjE9PT1uJiYwPT09ZSYmMD09PXI/TWY6eHMoe3BvaW50OmZ1bmN0aW9uKGksbyl7dGhpcy5zdHJlYW0ucG9pbnQoaSp0K2UsbypuK3IpfX0pfWZ1bmN0aW9uIHJsKHQsbil7dmFyIGU9bipuLHI9ZSplO3JldHVyblt0KiguODcwNy0uMTMxOTc5KmUrcioociooLjAwMzk3MSplLS4wMDE1MjkqciktLjAxMzc5MSkpLG4qKDEuMDA3MjI2K2UqKC4wMTUwODUrciooLjAyODg3NCplLS4wNDQ0NzUtLjAwNTkxNipyKSkpXX1mdW5jdGlvbiBpbCh0LG4pe3JldHVybltXYShuKSp0dSh0KSx0dShuKV19ZnVuY3Rpb24gb2wodCxuKXt2YXIgZT1XYShuKSxyPTErV2EodCkqZTtyZXR1cm5bZSp0dSh0KS9yLHR1KG4pL3JdfWZ1bmN0aW9uIGFsKHQsbil7cmV0dXJuW0phKHJ1KChGYStuKS8yKSksLXRdfWZ1bmN0aW9uIHVsKHQsbil7cmV0dXJuIHQucGFyZW50PT09bi5wYXJlbnQ/MToyfWZ1bmN0aW9uIGNsKHQsbil7cmV0dXJuIHQrbi54fWZ1bmN0aW9uIGZsKHQsbil7cmV0dXJuIE1hdGgubWF4KHQsbi55KX1mdW5jdGlvbiBzbCh0KXt2YXIgbj0wLGU9dC5jaGlsZHJlbixyPWUmJmUubGVuZ3RoO2lmKHIpZm9yKDstLXI+PTA7KW4rPWVbcl0udmFsdWU7ZWxzZSBuPTE7dC52YWx1ZT1ufWZ1bmN0aW9uIGxsKHQsbil7dmFyIGUscixpLG8sYSx1PW5ldyB2bCh0KSxjPSt0LnZhbHVlJiYodS52YWx1ZT10LnZhbHVlKSxmPVt1XTtmb3IobnVsbD09biYmKG49aGwpO2U9Zi5wb3AoKTspaWYoYyYmKGUudmFsdWU9K2UuZGF0YS52YWx1ZSksKGk9bihlLmRhdGEpKSYmKGE9aS5sZW5ndGgpKWZvcihlLmNoaWxkcmVuPW5ldyBBcnJheShhKSxvPWEtMTtvPj0wOy0tbylmLnB1c2gocj1lLmNoaWxkcmVuW29dPW5ldyB2bChpW29dKSksci5wYXJlbnQ9ZSxyLmRlcHRoPWUuZGVwdGgrMTtyZXR1cm4gdS5lYWNoQmVmb3JlKHBsKX1mdW5jdGlvbiBobCh0KXtyZXR1cm4gdC5jaGlsZHJlbn1mdW5jdGlvbiBkbCh0KXt0LmRhdGE9dC5kYXRhLmRhdGF9ZnVuY3Rpb24gcGwodCl7dmFyIG49MDtkb3t0LmhlaWdodD1ufXdoaWxlKCh0PXQucGFyZW50KSYmdC5oZWlnaHQ8KytuKX1mdW5jdGlvbiB2bCh0KXt0aGlzLmRhdGE9dCx0aGlzLmRlcHRoPXRoaXMuaGVpZ2h0PTAsdGhpcy5wYXJlbnQ9bnVsbH10bC5pbnZlcnQ9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGUscj1uLGk9cipyLG89aSppKmksYT0wO2E8MTImJihvPShpPShyLT1lPShyKihXcytacyppK28qKFFzK0pzKmkpKS1uKS8oV3MrMypacyppK28qKDcqUXMrOSpKcyppKSkpKnIpKmkqaSwhKEdhKGUpPEJhKSk7KythKTtyZXR1cm5bS3MqdCooV3MrMypacyppK28qKDcqUXMrOSpKcyppKSkvV2Eociksb3UodHUocikvS3MpXX0sbmwuaW52ZXJ0PVlzKFZhKSxybC5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgZSxyPW4saT0yNTtkb3t2YXIgbz1yKnIsYT1vKm87ci09ZT0ociooMS4wMDcyMjYrbyooLjAxNTA4NSthKiguMDI4ODc0Km8tLjA0NDQ3NS0uMDA1OTE2KmEpKSktbikvKDEuMDA3MjI2K28qKC4wNDUyNTUrYSooLjI1OTg2NipvLS4zMTEzMjUtLjAwNTkxNioxMSphKSkpfXdoaWxlKEdhKGUpPk9hJiYtLWk+MCk7cmV0dXJuW3QvKC44NzA3KyhvPXIqcikqKG8qKG8qbypvKiguMDAzOTcxLS4wMDE1MjkqbyktLjAxMzc5MSktLjEzMTk3OSkpLHJdfSxpbC5pbnZlcnQ9WXMob3UpLG9sLmludmVydD1ZcyhmdW5jdGlvbih0KXtyZXR1cm4gMipWYSh0KX0pLGFsLmludmVydD1mdW5jdGlvbih0LG4pe3JldHVyblstbiwyKlZhKFFhKHQpKS1GYV19LHZsLnByb3RvdHlwZT1sbC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnZsLGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEFmdGVyKHNsKX0sZWFjaDpmdW5jdGlvbih0KXt2YXIgbixlLHIsaSxvPXRoaXMsYT1bb107ZG97Zm9yKG49YS5yZXZlcnNlKCksYT1bXTtvPW4ucG9wKCk7KWlmKHQobyksZT1vLmNoaWxkcmVuKWZvcihyPTAsaT1lLmxlbmd0aDtyPGk7KytyKWEucHVzaChlW3JdKX13aGlsZShhLmxlbmd0aCk7cmV0dXJuIHRoaXN9LGVhY2hBZnRlcjpmdW5jdGlvbih0KXtmb3IodmFyIG4sZSxyLGk9dGhpcyxvPVtpXSxhPVtdO2k9by5wb3AoKTspaWYoYS5wdXNoKGkpLG49aS5jaGlsZHJlbilmb3IoZT0wLHI9bi5sZW5ndGg7ZTxyOysrZSlvLnB1c2gobltlXSk7Zm9yKDtpPWEucG9wKCk7KXQoaSk7cmV0dXJuIHRoaXN9LGVhY2hCZWZvcmU6ZnVuY3Rpb24odCl7Zm9yKHZhciBuLGUscj10aGlzLGk9W3JdO3I9aS5wb3AoKTspaWYodChyKSxuPXIuY2hpbGRyZW4pZm9yKGU9bi5sZW5ndGgtMTtlPj0wOy0tZSlpLnB1c2gobltlXSk7cmV0dXJuIHRoaXN9LHN1bTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoQWZ0ZXIoZnVuY3Rpb24obil7Zm9yKHZhciBlPSt0KG4uZGF0YSl8fDAscj1uLmNoaWxkcmVuLGk9ciYmci5sZW5ndGg7LS1pPj0wOyllKz1yW2ldLnZhbHVlO24udmFsdWU9ZX0pfSxzb3J0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2hCZWZvcmUoZnVuY3Rpb24obil7bi5jaGlsZHJlbiYmbi5jaGlsZHJlbi5zb3J0KHQpfSl9LHBhdGg6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPXRoaXMsZT1mdW5jdGlvbih0LG4pe2lmKHQ9PT1uKXJldHVybiB0O3ZhciBlPXQuYW5jZXN0b3JzKCkscj1uLmFuY2VzdG9ycygpLGk9bnVsbDtmb3IodD1lLnBvcCgpLG49ci5wb3AoKTt0PT09bjspaT10LHQ9ZS5wb3AoKSxuPXIucG9wKCk7cmV0dXJuIGl9KG4sdCkscj1bbl07biE9PWU7KW49bi5wYXJlbnQsci5wdXNoKG4pO2Zvcih2YXIgaT1yLmxlbmd0aDt0IT09ZTspci5zcGxpY2UoaSwwLHQpLHQ9dC5wYXJlbnQ7cmV0dXJuIHJ9LGFuY2VzdG9yczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLG49W3RdO3Q9dC5wYXJlbnQ7KW4ucHVzaCh0KTtyZXR1cm4gbn0sZGVzY2VuZGFudHM6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3QucHVzaChuKX0pLHR9LGxlYXZlczpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmVhY2hCZWZvcmUoZnVuY3Rpb24obil7bi5jaGlsZHJlbnx8dC5wdXNoKG4pfSksdH0sbGlua3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49W107cmV0dXJuIHQuZWFjaChmdW5jdGlvbihlKXtlIT09dCYmbi5wdXNoKHtzb3VyY2U6ZS5wYXJlbnQsdGFyZ2V0OmV9KX0pLG59LGNvcHk6ZnVuY3Rpb24oKXtyZXR1cm4gbGwodGhpcykuZWFjaEJlZm9yZShkbCl9fTt2YXIgZ2w9QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIHlsKHQpe2Zvcih2YXIgbixlLHI9MCxpPSh0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgbixlLHI9dC5sZW5ndGg7cjspZT1NYXRoLnJhbmRvbSgpKnItLXwwLG49dFtyXSx0W3JdPXRbZV0sdFtlXT1uO3JldHVybiB0fShnbC5jYWxsKHQpKSkubGVuZ3RoLG89W107cjxpOyluPXRbcl0sZSYmbWwoZSxuKT8rK3I6KGU9d2wobz1fbChvLG4pKSxyPTApO3JldHVybiBlfWZ1bmN0aW9uIF9sKHQsbil7dmFyIGUscjtpZih4bChuLHQpKXJldHVybltuXTtmb3IoZT0wO2U8dC5sZW5ndGg7KytlKWlmKGJsKG4sdFtlXSkmJnhsKE1sKHRbZV0sbiksdCkpcmV0dXJuW3RbZV0sbl07Zm9yKGU9MDtlPHQubGVuZ3RoLTE7KytlKWZvcihyPWUrMTtyPHQubGVuZ3RoOysrcilpZihibChNbCh0W2VdLHRbcl0pLG4pJiZibChNbCh0W2VdLG4pLHRbcl0pJiZibChNbCh0W3JdLG4pLHRbZV0pJiZ4bChObCh0W2VdLHRbcl0sbiksdCkpcmV0dXJuW3RbZV0sdFtyXSxuXTt0aHJvdyBuZXcgRXJyb3J9ZnVuY3Rpb24gYmwodCxuKXt2YXIgZT10LnItbi5yLHI9bi54LXQueCxpPW4ueS10Lnk7cmV0dXJuIGU8MHx8ZSplPHIqcitpKml9ZnVuY3Rpb24gbWwodCxuKXt2YXIgZT10LnItbi5yKzFlLTYscj1uLngtdC54LGk9bi55LXQueTtyZXR1cm4gZT4wJiZlKmU+cipyK2kqaX1mdW5jdGlvbiB4bCh0LG4pe2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7KytlKWlmKCFtbCh0LG5bZV0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHdsKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAxOnJldHVybnt4OihuPXRbMF0pLngseTpuLnkscjpuLnJ9O2Nhc2UgMjpyZXR1cm4gTWwodFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIE5sKHRbMF0sdFsxXSx0WzJdKX12YXIgbn1mdW5jdGlvbiBNbCh0LG4pe3ZhciBlPXQueCxyPXQueSxpPXQucixvPW4ueCxhPW4ueSx1PW4ucixjPW8tZSxmPWEtcixzPXUtaSxsPU1hdGguc3FydChjKmMrZipmKTtyZXR1cm57eDooZStvK2MvbCpzKS8yLHk6KHIrYStmL2wqcykvMixyOihsK2krdSkvMn19ZnVuY3Rpb24gTmwodCxuLGUpe3ZhciByPXQueCxpPXQueSxvPXQucixhPW4ueCx1PW4ueSxjPW4ucixmPWUueCxzPWUueSxsPWUucixoPXItYSxkPXItZixwPWktdSx2PWktcyxnPWMtbyx5PWwtbyxfPXIqcitpKmktbypvLGI9Xy1hKmEtdSp1K2MqYyxtPV8tZipmLXMqcytsKmwseD1kKnAtaCp2LHc9KHAqbS12KmIpLygyKngpLXIsTT0odipnLXAqeSkveCxOPShkKmItaCptKS8oMip4KS1pLEE9KGgqeS1kKmcpL3gsVD1NKk0rQSpBLTEsUz0yKihvK3cqTStOKkEpLGs9dyp3K04qTi1vKm8sRT0tKFQ/KFMrTWF0aC5zcXJ0KFMqUy00KlQqaykpLygyKlQpOmsvUyk7cmV0dXJue3g6cit3K00qRSx5OmkrTitBKkUscjpFfX1mdW5jdGlvbiBBbCh0LG4sZSl7dmFyIHIsaSxvLGEsdT10Lngtbi54LGM9dC55LW4ueSxmPXUqdStjKmM7Zj8oaT1uLnIrZS5yLGkqPWksYT10LnIrZS5yLGk+KGEqPWEpPyhyPShmK2EtaSkvKDIqZiksbz1NYXRoLnNxcnQoTWF0aC5tYXgoMCxhL2YtcipyKSksZS54PXQueC1yKnUtbypjLGUueT10LnktcipjK28qdSk6KHI9KGYraS1hKS8oMipmKSxvPU1hdGguc3FydChNYXRoLm1heCgwLGkvZi1yKnIpKSxlLng9bi54K3IqdS1vKmMsZS55PW4ueStyKmMrbyp1KSk6KGUueD1uLngrZS5yLGUueT1uLnkpfWZ1bmN0aW9uIFRsKHQsbil7dmFyIGU9dC5yK24uci0xZS02LHI9bi54LXQueCxpPW4ueS10Lnk7cmV0dXJuIGU+MCYmZSplPnIqcitpKml9ZnVuY3Rpb24gU2wodCl7dmFyIG49dC5fLGU9dC5uZXh0Ll8scj1uLnIrZS5yLGk9KG4ueCplLnIrZS54Km4ucikvcixvPShuLnkqZS5yK2UueSpuLnIpL3I7cmV0dXJuIGkqaStvKm99ZnVuY3Rpb24ga2wodCl7dGhpcy5fPXQsdGhpcy5uZXh0PW51bGwsdGhpcy5wcmV2aW91cz1udWxsfWZ1bmN0aW9uIEVsKHQpe2lmKCEoaT10Lmxlbmd0aCkpcmV0dXJuIDA7dmFyIG4sZSxyLGksbyxhLHUsYyxmLHMsbDtpZigobj10WzBdKS54PTAsbi55PTAsIShpPjEpKXJldHVybiBuLnI7aWYoZT10WzFdLG4ueD0tZS5yLGUueD1uLnIsZS55PTAsIShpPjIpKXJldHVybiBuLnIrZS5yO0FsKGUsbixyPXRbMl0pLG49bmV3IGtsKG4pLGU9bmV3IGtsKGUpLHI9bmV3IGtsKHIpLG4ubmV4dD1yLnByZXZpb3VzPWUsZS5uZXh0PW4ucHJldmlvdXM9cixyLm5leHQ9ZS5wcmV2aW91cz1uO3Q6Zm9yKHU9Mzt1PGk7Kyt1KXtBbChuLl8sZS5fLHI9dFt1XSkscj1uZXcga2wociksYz1lLm5leHQsZj1uLnByZXZpb3VzLHM9ZS5fLnIsbD1uLl8ucjtkb3tpZihzPD1sKXtpZihUbChjLl8sci5fKSl7ZT1jLG4ubmV4dD1lLGUucHJldmlvdXM9biwtLXU7Y29udGludWUgdH1zKz1jLl8ucixjPWMubmV4dH1lbHNle2lmKFRsKGYuXyxyLl8pKXsobj1mKS5uZXh0PWUsZS5wcmV2aW91cz1uLC0tdTtjb250aW51ZSB0fWwrPWYuXy5yLGY9Zi5wcmV2aW91c319d2hpbGUoYyE9PWYubmV4dCk7Zm9yKHIucHJldmlvdXM9bixyLm5leHQ9ZSxuLm5leHQ9ZS5wcmV2aW91cz1lPXIsbz1TbChuKTsocj1yLm5leHQpIT09ZTspKGE9U2wocikpPG8mJihuPXIsbz1hKTtlPW4ubmV4dH1mb3Iobj1bZS5fXSxyPWU7KHI9ci5uZXh0KSE9PWU7KW4ucHVzaChyLl8pO2ZvcihyPXlsKG4pLHU9MDt1PGk7Kyt1KShuPXRbdV0pLngtPXIueCxuLnktPXIueTtyZXR1cm4gci5yfWZ1bmN0aW9uIENsKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcjtyZXR1cm4gdH1mdW5jdGlvbiBQbCgpe3JldHVybiAwfWZ1bmN0aW9uIHpsKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBSbCh0KXtyZXR1cm4gTWF0aC5zcXJ0KHQudmFsdWUpfWZ1bmN0aW9uIERsKHQpe3JldHVybiBmdW5jdGlvbihuKXtuLmNoaWxkcmVufHwobi5yPU1hdGgubWF4KDAsK3Qobil8fDApKX19ZnVuY3Rpb24gcWwodCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYocj1lLmNoaWxkcmVuKXt2YXIgcixpLG8sYT1yLmxlbmd0aCx1PXQoZSkqbnx8MDtpZih1KWZvcihpPTA7aTxhOysraSlyW2ldLnIrPXU7aWYobz1FbChyKSx1KWZvcihpPTA7aTxhOysraSlyW2ldLnItPXU7ZS5yPW8rdX19fWZ1bmN0aW9uIExsKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgZT1uLnBhcmVudDtuLnIqPXQsZSYmKG4ueD1lLngrdCpuLngsbi55PWUueSt0Km4ueSl9fWZ1bmN0aW9uIFVsKHQpe3QueDA9TWF0aC5yb3VuZCh0LngwKSx0LnkwPU1hdGgucm91bmQodC55MCksdC54MT1NYXRoLnJvdW5kKHQueDEpLHQueTE9TWF0aC5yb3VuZCh0LnkxKX1mdW5jdGlvbiBPbCh0LG4sZSxyLGkpe2Zvcih2YXIgbyxhPXQuY2hpbGRyZW4sdT0tMSxjPWEubGVuZ3RoLGY9dC52YWx1ZSYmKHItbikvdC52YWx1ZTsrK3U8YzspKG89YVt1XSkueTA9ZSxvLnkxPWksby54MD1uLG8ueDE9bis9by52YWx1ZSpmfXZhciBCbD0iJCIsWWw9e2RlcHRoOi0xfSxGbD17fTtmdW5jdGlvbiBJbCh0KXtyZXR1cm4gdC5pZH1mdW5jdGlvbiBqbCh0KXtyZXR1cm4gdC5wYXJlbnRJZH1mdW5jdGlvbiBIbCh0LG4pe3JldHVybiB0LnBhcmVudD09PW4ucGFyZW50PzE6Mn1mdW5jdGlvbiBYbCh0KXt2YXIgbj10LmNoaWxkcmVuO3JldHVybiBuP25bMF06dC50fWZ1bmN0aW9uIEdsKHQpe3ZhciBuPXQuY2hpbGRyZW47cmV0dXJuIG4/bltuLmxlbmd0aC0xXTp0LnR9ZnVuY3Rpb24gVmwodCxuLGUpe3ZhciByPWUvKG4uaS10LmkpO24uYy09cixuLnMrPWUsdC5jKz1yLG4ueis9ZSxuLm0rPWV9ZnVuY3Rpb24gJGwodCxuLGUpe3JldHVybiB0LmEucGFyZW50PT09bi5wYXJlbnQ/dC5hOmV9ZnVuY3Rpb24gV2wodCxuKXt0aGlzLl89dCx0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49bnVsbCx0aGlzLkE9bnVsbCx0aGlzLmE9dGhpcyx0aGlzLno9MCx0aGlzLm09MCx0aGlzLmM9MCx0aGlzLnM9MCx0aGlzLnQ9bnVsbCx0aGlzLmk9bn1mdW5jdGlvbiBabCh0LG4sZSxyLGkpe2Zvcih2YXIgbyxhPXQuY2hpbGRyZW4sdT0tMSxjPWEubGVuZ3RoLGY9dC52YWx1ZSYmKGktZSkvdC52YWx1ZTsrK3U8YzspKG89YVt1XSkueDA9bixvLngxPXIsby55MD1lLG8ueTE9ZSs9by52YWx1ZSpmfVdsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHZsLnByb3RvdHlwZSk7dmFyIFFsPSgxK01hdGguc3FydCg1KSkvMjtmdW5jdGlvbiBKbCh0LG4sZSxyLGksbyl7Zm9yKHZhciBhLHUsYyxmLHMsbCxoLGQscCx2LGcseT1bXSxfPW4uY2hpbGRyZW4sYj0wLG09MCx4PV8ubGVuZ3RoLHc9bi52YWx1ZTtiPHg7KXtjPWktZSxmPW8tcjtkb3tzPV9bbSsrXS52YWx1ZX13aGlsZSghcyYmbTx4KTtmb3IobD1oPXMsZz1zKnMqKHY9TWF0aC5tYXgoZi9jLGMvZikvKHcqdCkpLHA9TWF0aC5tYXgoaC9nLGcvbCk7bTx4OysrbSl7aWYocys9dT1fW21dLnZhbHVlLHU8bCYmKGw9dSksdT5oJiYoaD11KSxnPXMqcyp2LChkPU1hdGgubWF4KGgvZyxnL2wpKT5wKXtzLT11O2JyZWFrfXA9ZH15LnB1c2goYT17dmFsdWU6cyxkaWNlOmM8ZixjaGlsZHJlbjpfLnNsaWNlKGIsbSl9KSxhLmRpY2U/T2woYSxlLHIsaSx3P3IrPWYqcy93Om8pOlpsKGEsZSxyLHc/ZSs9YypzL3c6aSxvKSx3LT1zLGI9bX1yZXR1cm4geX12YXIgS2w9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQsZSxyLGksbyl7Smwobix0LGUscixpLG8pfXJldHVybiBlLnJhdGlvPWZ1bmN0aW9uKG4pe3JldHVybiB0KChuPStuKT4xP246MSl9LGV9KFFsKTt2YXIgdGg9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQsZSxyLGksbyl7aWYoKGE9dC5fc3F1YXJpZnkpJiZhLnJhdGlvPT09bilmb3IodmFyIGEsdSxjLGYscyxsPS0xLGg9YS5sZW5ndGgsZD10LnZhbHVlOysrbDxoOyl7Zm9yKGM9KHU9YVtsXSkuY2hpbGRyZW4sZj11LnZhbHVlPTAscz1jLmxlbmd0aDtmPHM7KytmKXUudmFsdWUrPWNbZl0udmFsdWU7dS5kaWNlP09sKHUsZSxyLGkscis9KG8tcikqdS52YWx1ZS9kKTpabCh1LGUscixlKz0oaS1lKSp1LnZhbHVlL2QsbyksZC09dS52YWx1ZX1lbHNlIHQuX3NxdWFyaWZ5PWE9Smwobix0LGUscixpLG8pLGEucmF0aW89bn1yZXR1cm4gZS5yYXRpbz1mdW5jdGlvbihuKXtyZXR1cm4gdCgobj0rbik+MT9uOjEpfSxlfShRbCk7ZnVuY3Rpb24gbmgodCxuKXtyZXR1cm4gdFswXS1uWzBdfHx0WzFdLW5bMV19ZnVuY3Rpb24gZWgodCl7Zm9yKHZhciBuLGUscixpPXQubGVuZ3RoLG89WzAsMV0sYT0yLHU9Mjt1PGk7Kyt1KXtmb3IoO2E+MSYmKG49dFtvW2EtMl1dLGU9dFtvW2EtMV1dLHI9dFt1XSwoZVswXS1uWzBdKSooclsxXS1uWzFdKS0oZVsxXS1uWzFdKSooclswXS1uWzBdKTw9MCk7KS0tYTtvW2ErK109dX1yZXR1cm4gby5zbGljZSgwLGEpfWZ1bmN0aW9uIHJoKCl7cmV0dXJuIE1hdGgucmFuZG9tKCl9dmFyIGloPWZ1bmN0aW9uIHQobil7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiB0PW51bGw9PXQ/MDordCxlPW51bGw9PWU/MTorZSwxPT09YXJndW1lbnRzLmxlbmd0aD8oZT10LHQ9MCk6ZS09dCxmdW5jdGlvbigpe3JldHVybiBuKCkqZSt0fX1yZXR1cm4gZS5zb3VyY2U9dCxlfShyaCksb2g9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQsZSl7dmFyIHIsaTtyZXR1cm4gdD1udWxsPT10PzA6K3QsZT1udWxsPT1lPzE6K2UsZnVuY3Rpb24oKXt2YXIgbztpZihudWxsIT1yKW89cixyPW51bGw7ZWxzZSBkb3tyPTIqbigpLTEsbz0yKm4oKS0xLGk9cipyK28qb313aGlsZSghaXx8aT4xKTtyZXR1cm4gdCtlKm8qTWF0aC5zcXJ0KC0yKk1hdGgubG9nKGkpL2kpfX1yZXR1cm4gZS5zb3VyY2U9dCxlfShyaCksYWg9ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKCl7dmFyIHQ9b2guc291cmNlKG4pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5leHAodCgpKX19cmV0dXJuIGUuc291cmNlPXQsZX0ocmgpLHVoPWZ1bmN0aW9uIHQobil7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxyPTA7cjx0OysrcillKz1uKCk7cmV0dXJuIGV9fXJldHVybiBlLnNvdXJjZT10LGV9KHJoKSxjaD1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7dmFyIGU9dWguc291cmNlKG4pKHQpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKCkvdH19cmV0dXJuIGUuc291cmNlPXQsZX0ocmgpLGZoPWZ1bmN0aW9uIHQobil7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tTWF0aC5sb2coMS1uKCkpL3R9fXJldHVybiBlLnNvdXJjZT10LGV9KHJoKTtmdW5jdGlvbiBzaCh0LG4pe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnRoaXMucmFuZ2UodCk7YnJlYWs7ZGVmYXVsdDp0aGlzLnJhbmdlKG4pLmRvbWFpbih0KX1yZXR1cm4gdGhpc31mdW5jdGlvbiBsaCh0LG4pe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnRoaXMuaW50ZXJwb2xhdG9yKHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5pbnRlcnBvbGF0b3IobikuZG9tYWluKHQpfXJldHVybiB0aGlzfXZhciBoaD1BcnJheS5wcm90b3R5cGUsZGg9aGgubWFwLHBoPWhoLnNsaWNlLHZoPXtuYW1lOiJpbXBsaWNpdCJ9O2Z1bmN0aW9uIGdoKCl7dmFyIHQ9UWkoKSxuPVtdLGU9W10scj12aDtmdW5jdGlvbiBpKGkpe3ZhciBvPWkrIiIsYT10LmdldChvKTtpZighYSl7aWYociE9PXZoKXJldHVybiByO3Quc2V0KG8sYT1uLnB1c2goaSkpfXJldHVybiBlWyhhLTEpJWUubGVuZ3RoXX1yZXR1cm4gaS5kb21haW49ZnVuY3Rpb24oZSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uc2xpY2UoKTtuPVtdLHQ9UWkoKTtmb3IodmFyIHIsbyxhPS0xLHU9ZS5sZW5ndGg7KythPHU7KXQuaGFzKG89KHI9ZVthXSkrIiIpfHx0LnNldChvLG4ucHVzaChyKSk7cmV0dXJuIGl9LGkucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9cGguY2FsbCh0KSxpKTplLnNsaWNlKCl9LGkudW5rbm93bj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LGkpOnJ9LGkuY29weT1mdW5jdGlvbigpe3JldHVybiBnaChuLGUpLnVua25vd24ocil9LHNoLmFwcGx5KGksYXJndW1lbnRzKSxpfWZ1bmN0aW9uIHloKCl7dmFyIHQsbixlPWdoKCkudW5rbm93bih2b2lkIDApLHI9ZS5kb21haW4saT1lLnJhbmdlLG89WzAsMV0sYT0hMSx1PTAsYz0wLGY9LjU7ZnVuY3Rpb24gcygpe3ZhciBlPXIoKS5sZW5ndGgscz1vWzFdPG9bMF0sbD1vW3MtMF0saD1vWzEtc107dD0oaC1sKS9NYXRoLm1heCgxLGUtdSsyKmMpLGEmJih0PU1hdGguZmxvb3IodCkpLGwrPShoLWwtdCooZS11KSkqZixuPXQqKDEtdSksYSYmKGw9TWF0aC5yb3VuZChsKSxuPU1hdGgucm91bmQobikpO3ZhciBkPWcoZSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBsK3Qqbn0pO3JldHVybiBpKHM/ZC5yZXZlcnNlKCk6ZCl9cmV0dXJuIGRlbGV0ZSBlLnVua25vd24sZS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHIodCkscygpKTpyKCl9LGUucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89Wyt0WzBdLCt0WzFdXSxzKCkpOm8uc2xpY2UoKX0sZS5yYW5nZVJvdW5kPWZ1bmN0aW9uKHQpe3JldHVybiBvPVsrdFswXSwrdFsxXV0sYT0hMCxzKCl9LGUuYmFuZHdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG59LGUuc3RlcD1mdW5jdGlvbigpe3JldHVybiB0fSxlLnJvdW5kPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPSEhdCxzKCkpOmF9LGUucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1NYXRoLm1pbigxLGM9K3QpLHMoKSk6dX0sZS5wYWRkaW5nSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9TWF0aC5taW4oMSx0KSxzKCkpOnV9LGUucGFkZGluZ091dGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSt0LHMoKSk6Y30sZS5hbGlnbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1NYXRoLm1heCgwLE1hdGgubWluKDEsdCkpLHMoKSk6Zn0sZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHloKHIoKSxvKS5yb3VuZChhKS5wYWRkaW5nSW5uZXIodSkucGFkZGluZ091dGVyKGMpLmFsaWduKGYpfSxzaC5hcHBseShzKCksYXJndW1lbnRzKX1mdW5jdGlvbiBfaCh0KXtyZXR1cm4rdH12YXIgYmg9WzAsMV07ZnVuY3Rpb24gbWgodCl7cmV0dXJuIHR9ZnVuY3Rpb24geGgodCxuKXtyZXR1cm4obi09dD0rdCk/ZnVuY3Rpb24oZSl7cmV0dXJuKGUtdCkvbn06KGU9aXNOYU4obik/TmFOOi41LGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTt2YXIgZX1mdW5jdGlvbiB3aCh0KXt2YXIgbixlPXRbMF0scj10W3QubGVuZ3RoLTFdO3JldHVybiBlPnImJihuPWUsZT1yLHI9biksZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4ocix0KSl9fWZ1bmN0aW9uIE1oKHQsbixlKXt2YXIgcj10WzBdLGk9dFsxXSxvPW5bMF0sYT1uWzFdO3JldHVybiBpPHI/KHI9eGgoaSxyKSxvPWUoYSxvKSk6KHI9eGgocixpKSxvPWUobyxhKSksZnVuY3Rpb24odCl7cmV0dXJuIG8ocih0KSl9fWZ1bmN0aW9uIE5oKHQsbixlKXt2YXIgcj1NYXRoLm1pbih0Lmxlbmd0aCxuLmxlbmd0aCktMSxvPW5ldyBBcnJheShyKSxhPW5ldyBBcnJheShyKSx1PS0xO2Zvcih0W3JdPHRbMF0mJih0PXQuc2xpY2UoKS5yZXZlcnNlKCksbj1uLnNsaWNlKCkucmV2ZXJzZSgpKTsrK3U8cjspb1t1XT14aCh0W3VdLHRbdSsxXSksYVt1XT1lKG5bdV0sblt1KzFdKTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGU9aSh0LG4sMSxyKS0xO3JldHVybiBhW2VdKG9bZV0obikpfX1mdW5jdGlvbiBBaCh0LG4pe3JldHVybiBuLmRvbWFpbih0LmRvbWFpbigpKS5yYW5nZSh0LnJhbmdlKCkpLmludGVycG9sYXRlKHQuaW50ZXJwb2xhdGUoKSkuY2xhbXAodC5jbGFtcCgpKS51bmtub3duKHQudW5rbm93bigpKX1mdW5jdGlvbiBUaCgpe3ZhciB0LG4sZSxyLGksbyxhPWJoLHU9YmgsYz15ZSxmPW1oO2Z1bmN0aW9uIHMoKXtyZXR1cm4gcj1NYXRoLm1pbihhLmxlbmd0aCx1Lmxlbmd0aCk+Mj9OaDpNaCxpPW89bnVsbCxsfWZ1bmN0aW9uIGwobil7cmV0dXJuIGlzTmFOKG49K24pP2U6KGl8fChpPXIoYS5tYXAodCksdSxjKSkpKHQoZihuKSkpfXJldHVybiBsLmludmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZihuKChvfHwobz1yKHUsYS5tYXAodCksaGUpKSkoZSkpKX0sbC5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9ZGguY2FsbCh0LF9oKSxmPT09bWh8fChmPXdoKGEpKSxzKCkpOmEuc2xpY2UoKX0sbC5yYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1waC5jYWxsKHQpLHMoKSk6dS5zbGljZSgpfSxsLnJhbmdlUm91bmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHU9cGguY2FsbCh0KSxjPV9lLHMoKX0sbC5jbGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj10P3doKGEpOm1oLGwpOmYhPT1taH0sbC5pbnRlcnBvbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz10LHMoKSk6Y30sbC51bmtub3duPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsbCk6ZX0sZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1lLG49cixzKCl9fWZ1bmN0aW9uIFNoKHQsbil7cmV0dXJuIFRoKCkodCxuKX1mdW5jdGlvbiBraChuLGUscixpKXt2YXIgbyxhPXcobixlLHIpO3N3aXRjaCgoaT13YShudWxsPT1pPyIsZiI6aSkpLnR5cGUpe2Nhc2UicyI6dmFyIHU9TWF0aC5tYXgoTWF0aC5hYnMobiksTWF0aC5hYnMoZSkpO3JldHVybiBudWxsIT1pLnByZWNpc2lvbnx8aXNOYU4obz16YShhLHUpKXx8KGkucHJlY2lzaW9uPW8pLHQuZm9ybWF0UHJlZml4KGksdSk7Y2FzZSIiOmNhc2UiZSI6Y2FzZSJnIjpjYXNlInAiOmNhc2UiciI6bnVsbCE9aS5wcmVjaXNpb258fGlzTmFOKG89UmEoYSxNYXRoLm1heChNYXRoLmFicyhuKSxNYXRoLmFicyhlKSkpKXx8KGkucHJlY2lzaW9uPW8tKCJlIj09PWkudHlwZSkpO2JyZWFrO2Nhc2UiZiI6Y2FzZSIlIjpudWxsIT1pLnByZWNpc2lvbnx8aXNOYU4obz1QYShhKSl8fChpLnByZWNpc2lvbj1vLTIqKCIlIj09PWkudHlwZSkpfXJldHVybiB0LmZvcm1hdChpKX1mdW5jdGlvbiBFaCh0KXt2YXIgbj10LmRvbWFpbjtyZXR1cm4gdC50aWNrcz1mdW5jdGlvbih0KXt2YXIgZT1uKCk7cmV0dXJuIG0oZVswXSxlW2UubGVuZ3RoLTFdLG51bGw9PXQ/MTA6dCl9LHQudGlja0Zvcm1hdD1mdW5jdGlvbih0LGUpe3ZhciByPW4oKTtyZXR1cm4ga2goclswXSxyW3IubGVuZ3RoLTFdLG51bGw9PXQ/MTA6dCxlKX0sdC5uaWNlPWZ1bmN0aW9uKGUpe251bGw9PWUmJihlPTEwKTt2YXIgcixpPW4oKSxvPTAsYT1pLmxlbmd0aC0xLHU9aVtvXSxjPWlbYV07cmV0dXJuIGM8dSYmKHI9dSx1PWMsYz1yLHI9byxvPWEsYT1yKSwocj14KHUsYyxlKSk+MD9yPXgodT1NYXRoLmZsb29yKHUvcikqcixjPU1hdGguY2VpbChjL3IpKnIsZSk6cjwwJiYocj14KHU9TWF0aC5jZWlsKHUqcikvcixjPU1hdGguZmxvb3IoYypyKS9yLGUpKSxyPjA/KGlbb109TWF0aC5mbG9vcih1L3IpKnIsaVthXT1NYXRoLmNlaWwoYy9yKSpyLG4oaSkpOnI8MCYmKGlbb109TWF0aC5jZWlsKHUqcikvcixpW2FdPU1hdGguZmxvb3IoYypyKS9yLG4oaSkpLHR9LHR9ZnVuY3Rpb24gQ2godCxuKXt2YXIgZSxyPTAsaT0odD10LnNsaWNlKCkpLmxlbmd0aC0xLG89dFtyXSxhPXRbaV07cmV0dXJuIGE8byYmKGU9cixyPWksaT1lLGU9byxvPWEsYT1lKSx0W3JdPW4uZmxvb3IobyksdFtpXT1uLmNlaWwoYSksdH1mdW5jdGlvbiBQaCh0KXtyZXR1cm4gTWF0aC5sb2codCl9ZnVuY3Rpb24gemgodCl7cmV0dXJuIE1hdGguZXhwKHQpfWZ1bmN0aW9uIFJoKHQpe3JldHVybi1NYXRoLmxvZygtdCl9ZnVuY3Rpb24gRGgodCl7cmV0dXJuLU1hdGguZXhwKC10KX1mdW5jdGlvbiBxaCh0KXtyZXR1cm4gaXNGaW5pdGUodCk/KygiMWUiK3QpOnQ8MD8wOnR9ZnVuY3Rpb24gTGgodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybi10KC1uKX19ZnVuY3Rpb24gVWgobil7dmFyIGUscixpPW4oUGgsemgpLG89aS5kb21haW4sYT0xMDtmdW5jdGlvbiB1KCl7cmV0dXJuIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1NYXRoLkU/TWF0aC5sb2c6MTA9PT10JiZNYXRoLmxvZzEwfHwyPT09dCYmTWF0aC5sb2cyfHwodD1NYXRoLmxvZyh0KSxmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5sb2cobikvdH0pfShhKSxyPWZ1bmN0aW9uKHQpe3JldHVybiAxMD09PXQ/cWg6dD09PU1hdGguRT9NYXRoLmV4cDpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5wb3codCxuKX19KGEpLG8oKVswXTwwPyhlPUxoKGUpLHI9TGgociksbihSaCxEaCkpOm4oUGgsemgpLGl9cmV0dXJuIGkuYmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0rdCx1KCkpOmF9LGkuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvKHQpLHUoKSk6bygpfSxpLnRpY2tzPWZ1bmN0aW9uKHQpe3ZhciBuLGk9bygpLHU9aVswXSxjPWlbaS5sZW5ndGgtMV07KG49Yzx1KSYmKGg9dSx1PWMsYz1oKTt2YXIgZixzLGwsaD1lKHUpLGQ9ZShjKSxwPW51bGw9PXQ/MTA6K3Qsdj1bXTtpZighKGElMSkmJmQtaDxwKXtpZihoPU1hdGgucm91bmQoaCktMSxkPU1hdGgucm91bmQoZCkrMSx1PjApe2Zvcig7aDxkOysraClmb3Iocz0xLGY9cihoKTtzPGE7KytzKWlmKCEoKGw9ZipzKTx1KSl7aWYobD5jKWJyZWFrO3YucHVzaChsKX19ZWxzZSBmb3IoO2g8ZDsrK2gpZm9yKHM9YS0xLGY9cihoKTtzPj0xOy0tcylpZighKChsPWYqcyk8dSkpe2lmKGw+YylicmVhazt2LnB1c2gobCl9fWVsc2Ugdj1tKGgsZCxNYXRoLm1pbihkLWgscCkpLm1hcChyKTtyZXR1cm4gbj92LnJldmVyc2UoKTp2fSxpLnRpY2tGb3JtYXQ9ZnVuY3Rpb24obixvKXtpZihudWxsPT1vJiYobz0xMD09PWE/Ii4wZSI6IiwiKSwiZnVuY3Rpb24iIT10eXBlb2YgbyYmKG89dC5mb3JtYXQobykpLG49PT0xLzApcmV0dXJuIG87bnVsbD09biYmKG49MTApO3ZhciB1PU1hdGgubWF4KDEsYSpuL2kudGlja3MoKS5sZW5ndGgpO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10L3IoTWF0aC5yb3VuZChlKHQpKSk7cmV0dXJuIG4qYTxhLS41JiYobio9YSksbjw9dT9vKHQpOiIifX0saS5uaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIG8oQ2gobygpLHtmbG9vcjpmdW5jdGlvbih0KXtyZXR1cm4gcihNYXRoLmZsb29yKGUodCkpKX0sY2VpbDpmdW5jdGlvbih0KXtyZXR1cm4gcihNYXRoLmNlaWwoZSh0KSkpfX0pKX0saX1mdW5jdGlvbiBPaCh0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE1hdGguc2lnbihuKSpNYXRoLmxvZzFwKE1hdGguYWJzKG4vdCkpfX1mdW5jdGlvbiBCaCh0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE1hdGguc2lnbihuKSpNYXRoLmV4cG0xKE1hdGguYWJzKG4pKSp0fX1mdW5jdGlvbiBZaCh0KXt2YXIgbj0xLGU9dChPaChuKSxCaChuKSk7cmV0dXJuIGUuY29uc3RhbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dChPaChuPStlKSxCaChuKSk6bn0sRWgoZSl9ZnVuY3Rpb24gRmgodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuPDA/LU1hdGgucG93KC1uLHQpOk1hdGgucG93KG4sdCl9fWZ1bmN0aW9uIEloKHQpe3JldHVybiB0PDA/LU1hdGguc3FydCgtdCk6TWF0aC5zcXJ0KHQpfWZ1bmN0aW9uIGpoKHQpe3JldHVybiB0PDA/LXQqdDp0KnR9ZnVuY3Rpb24gSGgodCl7dmFyIG49dChtaCxtaCksZT0xO3JldHVybiBuLmV4cG9uZW50PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPzE9PT0oZT0rbik/dChtaCxtaCk6LjU9PT1lP3QoSWgsamgpOnQoRmgoZSksRmgoMS9lKSk6ZX0sRWgobil9ZnVuY3Rpb24gWGgoKXt2YXIgdD1IaChUaCgpKTtyZXR1cm4gdC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIEFoKHQsWGgoKSkuZXhwb25lbnQodC5leHBvbmVudCgpKX0sc2guYXBwbHkodCxhcmd1bWVudHMpLHR9dmFyIEdoPW5ldyBEYXRlLFZoPW5ldyBEYXRlO2Z1bmN0aW9uICRoKHQsbixlLHIpe2Z1bmN0aW9uIGkobil7cmV0dXJuIHQobj1uZXcgRGF0ZSgrbikpLG59cmV0dXJuIGkuZmxvb3I9aSxpLmNlaWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZT1uZXcgRGF0ZShlLTEpKSxuKGUsMSksdChlKSxlfSxpLnJvdW5kPWZ1bmN0aW9uKHQpe3ZhciBuPWkodCksZT1pLmNlaWwodCk7cmV0dXJuIHQtbjxlLXQ/bjplfSxpLm9mZnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBuKHQ9bmV3IERhdGUoK3QpLG51bGw9PWU/MTpNYXRoLmZsb29yKGUpKSx0fSxpLnJhbmdlPWZ1bmN0aW9uKGUscixvKXt2YXIgYSx1PVtdO2lmKGU9aS5jZWlsKGUpLG89bnVsbD09bz8xOk1hdGguZmxvb3IobyksIShlPHImJm8+MCkpcmV0dXJuIHU7ZG97dS5wdXNoKGE9bmV3IERhdGUoK2UpKSxuKGUsbyksdChlKX13aGlsZShhPGUmJmU8cik7cmV0dXJuIHV9LGkuZmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiAkaChmdW5jdGlvbihuKXtpZihuPj1uKWZvcig7dChuKSwhZShuKTspbi5zZXRUaW1lKG4tMSl9LGZ1bmN0aW9uKHQscil7aWYodD49dClpZihyPDApZm9yKDsrK3I8PTA7KWZvcig7bih0LC0xKSwhZSh0KTspO2Vsc2UgZm9yKDstLXI+PTA7KWZvcig7bih0LDEpLCFlKHQpOyk7fSl9LGUmJihpLmNvdW50PWZ1bmN0aW9uKG4scil7cmV0dXJuIEdoLnNldFRpbWUoK24pLFZoLnNldFRpbWUoK3IpLHQoR2gpLHQoVmgpLE1hdGguZmxvb3IoZShHaCxWaCkpfSxpLmV2ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PU1hdGguZmxvb3IodCksaXNGaW5pdGUodCkmJnQ+MD90PjE/aS5maWx0ZXIocj9mdW5jdGlvbihuKXtyZXR1cm4gcihuKSV0PT0wfTpmdW5jdGlvbihuKXtyZXR1cm4gaS5jb3VudCgwLG4pJXQ9PTB9KTppOm51bGx9KSxpfXZhciBXaD0kaChmdW5jdGlvbigpe30sZnVuY3Rpb24odCxuKXt0LnNldFRpbWUoK3Qrbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4tdH0pO1doLmV2ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PU1hdGguZmxvb3IodCksaXNGaW5pdGUodCkmJnQ+MD90PjE/JGgoZnVuY3Rpb24obil7bi5zZXRUaW1lKE1hdGguZmxvb3Iobi90KSp0KX0sZnVuY3Rpb24obixlKXtuLnNldFRpbWUoK24rZSp0KX0sZnVuY3Rpb24obixlKXtyZXR1cm4oZS1uKS90fSk6V2g6bnVsbH07dmFyIFpoPVdoLnJhbmdlLFFoPTZlNCxKaD02MDQ4ZTUsS2g9JGgoZnVuY3Rpb24odCl7dC5zZXRUaW1lKHQtdC5nZXRNaWxsaXNlY29uZHMoKSl9LGZ1bmN0aW9uKHQsbil7dC5zZXRUaW1lKCt0KzFlMypuKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4obi10KS8xZTN9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFVUQ1NlY29uZHMoKX0pLHRkPUtoLnJhbmdlLG5kPSRoKGZ1bmN0aW9uKHQpe3Quc2V0VGltZSh0LXQuZ2V0TWlsbGlzZWNvbmRzKCktMWUzKnQuZ2V0U2Vjb25kcygpKX0sZnVuY3Rpb24odCxuKXt0LnNldFRpbWUoK3QrbipRaCl9LGZ1bmN0aW9uKHQsbil7cmV0dXJuKG4tdCkvUWh9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldE1pbnV0ZXMoKX0pLGVkPW5kLnJhbmdlLHJkPSRoKGZ1bmN0aW9uKHQpe3Quc2V0VGltZSh0LXQuZ2V0TWlsbGlzZWNvbmRzKCktMWUzKnQuZ2V0U2Vjb25kcygpLXQuZ2V0TWludXRlcygpKlFoKX0sZnVuY3Rpb24odCxuKXt0LnNldFRpbWUoK3QrMzZlNSpuKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4obi10KS8zNmU1fSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRIb3VycygpfSksaWQ9cmQucmFuZ2Usb2Q9JGgoZnVuY3Rpb24odCl7dC5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24odCxuKXt0LnNldERhdGUodC5nZXREYXRlKCkrbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuKG4tdC0obi5nZXRUaW1lem9uZU9mZnNldCgpLXQuZ2V0VGltZXpvbmVPZmZzZXQoKSkqUWgpLzg2NGU1fSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXREYXRlKCktMX0pLGFkPW9kLnJhbmdlO2Z1bmN0aW9uIHVkKHQpe3JldHVybiAkaChmdW5jdGlvbihuKXtuLnNldERhdGUobi5nZXREYXRlKCktKG4uZ2V0RGF5KCkrNy10KSU3KSxuLnNldEhvdXJzKDAsMCwwLDApfSxmdW5jdGlvbih0LG4pe3Quc2V0RGF0ZSh0LmdldERhdGUoKSs3Km4pfSxmdW5jdGlvbih0LG4pe3JldHVybihuLXQtKG4uZ2V0VGltZXpvbmVPZmZzZXQoKS10LmdldFRpbWV6b25lT2Zmc2V0KCkpKlFoKS9KaH0pfXZhciBjZD11ZCgwKSxmZD11ZCgxKSxzZD11ZCgyKSxsZD11ZCgzKSxoZD11ZCg0KSxkZD11ZCg1KSxwZD11ZCg2KSx2ZD1jZC5yYW5nZSxnZD1mZC5yYW5nZSx5ZD1zZC5yYW5nZSxfZD1sZC5yYW5nZSxiZD1oZC5yYW5nZSxtZD1kZC5yYW5nZSx4ZD1wZC5yYW5nZSx3ZD0kaChmdW5jdGlvbih0KXt0LnNldERhdGUoMSksdC5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24odCxuKXt0LnNldE1vbnRoKHQuZ2V0TW9udGgoKStuKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4gbi5nZXRNb250aCgpLXQuZ2V0TW9udGgoKSsxMioobi5nZXRGdWxsWWVhcigpLXQuZ2V0RnVsbFllYXIoKSl9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldE1vbnRoKCl9KSxNZD13ZC5yYW5nZSxOZD0kaChmdW5jdGlvbih0KXt0LnNldE1vbnRoKDAsMSksdC5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24odCxuKXt0LnNldEZ1bGxZZWFyKHQuZ2V0RnVsbFllYXIoKStuKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4gbi5nZXRGdWxsWWVhcigpLXQuZ2V0RnVsbFllYXIoKX0sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RnVsbFllYXIoKX0pO05kLmV2ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiBpc0Zpbml0ZSh0PU1hdGguZmxvb3IodCkpJiZ0PjA/JGgoZnVuY3Rpb24obil7bi5zZXRGdWxsWWVhcihNYXRoLmZsb29yKG4uZ2V0RnVsbFllYXIoKS90KSp0KSxuLnNldE1vbnRoKDAsMSksbi5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24obixlKXtuLnNldEZ1bGxZZWFyKG4uZ2V0RnVsbFllYXIoKStlKnQpfSk6bnVsbH07dmFyIEFkPU5kLnJhbmdlLFRkPSRoKGZ1bmN0aW9uKHQpe3Quc2V0VVRDU2Vjb25kcygwLDApfSxmdW5jdGlvbih0LG4pe3Quc2V0VGltZSgrdCtuKlFoKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4obi10KS9RaH0sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0VVRDTWludXRlcygpfSksU2Q9VGQucmFuZ2Usa2Q9JGgoZnVuY3Rpb24odCl7dC5zZXRVVENNaW51dGVzKDAsMCwwKX0sZnVuY3Rpb24odCxuKXt0LnNldFRpbWUoK3QrMzZlNSpuKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4obi10KS8zNmU1fSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRVVENIb3VycygpfSksRWQ9a2QucmFuZ2UsQ2Q9JGgoZnVuY3Rpb24odCl7dC5zZXRVVENIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24odCxuKXt0LnNldFVUQ0RhdGUodC5nZXRVVENEYXRlKCkrbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuKG4tdCkvODY0ZTV9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFVUQ0RhdGUoKS0xfSksUGQ9Q2QucmFuZ2U7ZnVuY3Rpb24gemQodCl7cmV0dXJuICRoKGZ1bmN0aW9uKG4pe24uc2V0VVRDRGF0ZShuLmdldFVUQ0RhdGUoKS0obi5nZXRVVENEYXkoKSs3LXQpJTcpLG4uc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKHQsbil7dC5zZXRVVENEYXRlKHQuZ2V0VVRDRGF0ZSgpKzcqbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuKG4tdCkvSmh9KX12YXIgUmQ9emQoMCksRGQ9emQoMSkscWQ9emQoMiksTGQ9emQoMyksVWQ9emQoNCksT2Q9emQoNSksQmQ9emQoNiksWWQ9UmQucmFuZ2UsRmQ9RGQucmFuZ2UsSWQ9cWQucmFuZ2UsamQ9TGQucmFuZ2UsSGQ9VWQucmFuZ2UsWGQ9T2QucmFuZ2UsR2Q9QmQucmFuZ2UsVmQ9JGgoZnVuY3Rpb24odCl7dC5zZXRVVENEYXRlKDEpLHQuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKHQsbil7dC5zZXRVVENNb250aCh0LmdldFVUQ01vbnRoKCkrbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uZ2V0VVRDTW9udGgoKS10LmdldFVUQ01vbnRoKCkrMTIqKG4uZ2V0VVRDRnVsbFllYXIoKS10LmdldFVUQ0Z1bGxZZWFyKCkpfSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRVVENNb250aCgpfSksJGQ9VmQucmFuZ2UsV2Q9JGgoZnVuY3Rpb24odCl7dC5zZXRVVENNb250aCgwLDEpLHQuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKHQsbil7dC5zZXRVVENGdWxsWWVhcih0LmdldFVUQ0Z1bGxZZWFyKCkrbil9LGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uZ2V0VVRDRnVsbFllYXIoKS10LmdldFVUQ0Z1bGxZZWFyKCl9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFVUQ0Z1bGxZZWFyKCl9KTtXZC5ldmVyeT1mdW5jdGlvbih0KXtyZXR1cm4gaXNGaW5pdGUodD1NYXRoLmZsb29yKHQpKSYmdD4wPyRoKGZ1bmN0aW9uKG4pe24uc2V0VVRDRnVsbFllYXIoTWF0aC5mbG9vcihuLmdldFVUQ0Z1bGxZZWFyKCkvdCkqdCksbi5zZXRVVENNb250aCgwLDEpLG4uc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKG4sZSl7bi5zZXRVVENGdWxsWWVhcihuLmdldFVUQ0Z1bGxZZWFyKCkrZSp0KX0pOm51bGx9O3ZhciBaZD1XZC5yYW5nZTtmdW5jdGlvbiBRZCh0KXtpZigwPD10LnkmJnQueTwxMDApe3ZhciBuPW5ldyBEYXRlKC0xLHQubSx0LmQsdC5ILHQuTSx0LlMsdC5MKTtyZXR1cm4gbi5zZXRGdWxsWWVhcih0LnkpLG59cmV0dXJuIG5ldyBEYXRlKHQueSx0Lm0sdC5kLHQuSCx0Lk0sdC5TLHQuTCl9ZnVuY3Rpb24gSmQodCl7aWYoMDw9dC55JiZ0Lnk8MTAwKXt2YXIgbj1uZXcgRGF0ZShEYXRlLlVUQygtMSx0Lm0sdC5kLHQuSCx0Lk0sdC5TLHQuTCkpO3JldHVybiBuLnNldFVUQ0Z1bGxZZWFyKHQueSksbn1yZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEModC55LHQubSx0LmQsdC5ILHQuTSx0LlMsdC5MKSl9ZnVuY3Rpb24gS2QodCl7cmV0dXJue3k6dCxtOjAsZDoxLEg6MCxNOjAsUzowLEw6MH19ZnVuY3Rpb24gdHAodCl7dmFyIG49dC5kYXRlVGltZSxlPXQuZGF0ZSxyPXQudGltZSxpPXQucGVyaW9kcyxvPXQuZGF5cyxhPXQuc2hvcnREYXlzLHU9dC5tb250aHMsYz10LnNob3J0TW9udGhzLGY9Y3AoaSkscz1mcChpKSxsPWNwKG8pLGg9ZnAobyksZD1jcChhKSxwPWZwKGEpLHY9Y3AodSksZz1mcCh1KSx5PWNwKGMpLF89ZnAoYyksYj17YTpmdW5jdGlvbih0KXtyZXR1cm4gYVt0LmdldERheSgpXX0sQTpmdW5jdGlvbih0KXtyZXR1cm4gb1t0LmdldERheSgpXX0sYjpmdW5jdGlvbih0KXtyZXR1cm4gY1t0LmdldE1vbnRoKCldfSxCOmZ1bmN0aW9uKHQpe3JldHVybiB1W3QuZ2V0TW9udGgoKV19LGM6bnVsbCxkOkVwLGU6RXAsZjpEcCxIOkNwLEk6UHAsajp6cCxMOlJwLG06cXAsTTpMcCxwOmZ1bmN0aW9uKHQpe3JldHVybiBpWysodC5nZXRIb3VycygpPj0xMildfSxROnN2LHM6bHYsUzpVcCx1Ok9wLFU6QnAsVjpZcCx3OkZwLFc6SXAseDpudWxsLFg6bnVsbCx5OmpwLFk6SHAsWjpYcCwiJSI6ZnZ9LG09e2E6ZnVuY3Rpb24odCl7cmV0dXJuIGFbdC5nZXRVVENEYXkoKV19LEE6ZnVuY3Rpb24odCl7cmV0dXJuIG9bdC5nZXRVVENEYXkoKV19LGI6ZnVuY3Rpb24odCl7cmV0dXJuIGNbdC5nZXRVVENNb250aCgpXX0sQjpmdW5jdGlvbih0KXtyZXR1cm4gdVt0LmdldFVUQ01vbnRoKCldfSxjOm51bGwsZDpHcCxlOkdwLGY6UXAsSDpWcCxJOiRwLGo6V3AsTDpacCxtOkpwLE06S3AscDpmdW5jdGlvbih0KXtyZXR1cm4gaVsrKHQuZ2V0VVRDSG91cnMoKT49MTIpXX0sUTpzdixzOmx2LFM6dHYsdTpudixVOmV2LFY6cnYsdzppdixXOm92LHg6bnVsbCxYOm51bGwseTphdixZOnV2LFo6Y3YsIiUiOmZ2fSx4PXthOmZ1bmN0aW9uKHQsbixlKXt2YXIgcj1kLmV4ZWMobi5zbGljZShlKSk7cmV0dXJuIHI/KHQudz1wW3JbMF0udG9Mb3dlckNhc2UoKV0sZStyWzBdLmxlbmd0aCk6LTF9LEE6ZnVuY3Rpb24odCxuLGUpe3ZhciByPWwuZXhlYyhuLnNsaWNlKGUpKTtyZXR1cm4gcj8odC53PWhbclswXS50b0xvd2VyQ2FzZSgpXSxlK3JbMF0ubGVuZ3RoKTotMX0sYjpmdW5jdGlvbih0LG4sZSl7dmFyIHI9eS5leGVjKG4uc2xpY2UoZSkpO3JldHVybiByPyh0Lm09X1tyWzBdLnRvTG93ZXJDYXNlKCldLGUrclswXS5sZW5ndGgpOi0xfSxCOmZ1bmN0aW9uKHQsbixlKXt2YXIgcj12LmV4ZWMobi5zbGljZShlKSk7cmV0dXJuIHI/KHQubT1nW3JbMF0udG9Mb3dlckNhc2UoKV0sZStyWzBdLmxlbmd0aCk6LTF9LGM6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBOKHQsbixlLHIpfSxkOmJwLGU6YnAsZjpBcCxIOnhwLEk6eHAsajptcCxMOk5wLG06X3AsTTp3cCxwOmZ1bmN0aW9uKHQsbixlKXt2YXIgcj1mLmV4ZWMobi5zbGljZShlKSk7cmV0dXJuIHI/KHQucD1zW3JbMF0udG9Mb3dlckNhc2UoKV0sZStyWzBdLmxlbmd0aCk6LTF9LFE6U3AsczprcCxTOk1wLHU6bHAsVTpocCxWOmRwLHc6c3AsVzpwcCx4OmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gTih0LGUsbixyKX0sWDpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIE4odCxyLG4sZSl9LHk6Z3AsWTp2cCxaOnlwLCIlIjpUcH07ZnVuY3Rpb24gdyh0LG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcixpLG8sYT1bXSx1PS0xLGM9MCxmPXQubGVuZ3RoO2ZvcihlIGluc3RhbmNlb2YgRGF0ZXx8KGU9bmV3IERhdGUoK2UpKTsrK3U8ZjspMzc9PT10LmNoYXJDb2RlQXQodSkmJihhLnB1c2godC5zbGljZShjLHUpKSxudWxsIT0oaT1lcFtyPXQuY2hhckF0KCsrdSldKT9yPXQuY2hhckF0KCsrdSk6aT0iZSI9PT1yPyIgIjoiMCIsKG89bltyXSkmJihyPW8oZSxpKSksYS5wdXNoKHIpLGM9dSsxKTtyZXR1cm4gYS5wdXNoKHQuc2xpY2UoYyx1KSksYS5qb2luKCIiKX19ZnVuY3Rpb24gTSh0LG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcixpLG89S2QoMTkwMCk7aWYoTihvLHQsZSs9IiIsMCkhPWUubGVuZ3RoKXJldHVybiBudWxsO2lmKCJRImluIG8pcmV0dXJuIG5ldyBEYXRlKG8uUSk7aWYoInAiaW4gbyYmKG8uSD1vLkglMTIrMTIqby5wKSwiViJpbiBvKXtpZihvLlY8MXx8by5WPjUzKXJldHVybiBudWxsOyJ3ImluIG98fChvLnc9MSksIloiaW4gbz8oaT0ocj1KZChLZChvLnkpKSkuZ2V0VVRDRGF5KCkscj1pPjR8fDA9PT1pP0RkLmNlaWwocik6RGQocikscj1DZC5vZmZzZXQociw3KihvLlYtMSkpLG8ueT1yLmdldFVUQ0Z1bGxZZWFyKCksby5tPXIuZ2V0VVRDTW9udGgoKSxvLmQ9ci5nZXRVVENEYXRlKCkrKG8udys2KSU3KTooaT0ocj1uKEtkKG8ueSkpKS5nZXREYXkoKSxyPWk+NHx8MD09PWk/ZmQuY2VpbChyKTpmZChyKSxyPW9kLm9mZnNldChyLDcqKG8uVi0xKSksby55PXIuZ2V0RnVsbFllYXIoKSxvLm09ci5nZXRNb250aCgpLG8uZD1yLmdldERhdGUoKSsoby53KzYpJTcpfWVsc2UoIlciaW4gb3x8IlUiaW4gbykmJigidyJpbiBvfHwoby53PSJ1ImluIG8/by51JTc6IlciaW4gbz8xOjApLGk9IloiaW4gbz9KZChLZChvLnkpKS5nZXRVVENEYXkoKTpuKEtkKG8ueSkpLmdldERheSgpLG8ubT0wLG8uZD0iVyJpbiBvPyhvLncrNiklNys3Km8uVy0oaSs1KSU3Om8udys3Km8uVS0oaSs2KSU3KTtyZXR1cm4iWiJpbiBvPyhvLkgrPW8uWi8xMDB8MCxvLk0rPW8uWiUxMDAsSmQobykpOm4obyl9fWZ1bmN0aW9uIE4odCxuLGUscil7Zm9yKHZhciBpLG8sYT0wLHU9bi5sZW5ndGgsYz1lLmxlbmd0aDthPHU7KXtpZihyPj1jKXJldHVybi0xO2lmKDM3PT09KGk9bi5jaGFyQ29kZUF0KGErKykpKXtpZihpPW4uY2hhckF0KGErKyksIShvPXhbaSBpbiBlcD9uLmNoYXJBdChhKyspOmldKXx8KHI9byh0LGUscikpPDApcmV0dXJuLTF9ZWxzZSBpZihpIT1lLmNoYXJDb2RlQXQocisrKSlyZXR1cm4tMX1yZXR1cm4gcn1yZXR1cm4gYi54PXcoZSxiKSxiLlg9dyhyLGIpLGIuYz13KG4sYiksbS54PXcoZSxtKSxtLlg9dyhyLG0pLG0uYz13KG4sbSkse2Zvcm1hdDpmdW5jdGlvbih0KXt2YXIgbj13KHQrPSIiLGIpO3JldHVybiBuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG59LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBuPU0odCs9IiIsUWQpO3JldHVybiBuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG59LHV0Y0Zvcm1hdDpmdW5jdGlvbih0KXt2YXIgbj13KHQrPSIiLG0pO3JldHVybiBuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG59LHV0Y1BhcnNlOmZ1bmN0aW9uKHQpe3ZhciBuPU0odCxKZCk7cmV0dXJuIG4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sbn19fXZhciBucCxlcD17Ii0iOiIiLF86IiAiLDA6IjAifSxycD0vXlxzKlxkKy8saXA9L14lLyxvcD0vW1xcXiQqKz98W1xdKCkue31dL2c7ZnVuY3Rpb24gYXAodCxuLGUpe3ZhciByPXQ8MD8iLSI6IiIsaT0ocj8tdDp0KSsiIixvPWkubGVuZ3RoO3JldHVybiByKyhvPGU/bmV3IEFycmF5KGUtbysxKS5qb2luKG4pK2k6aSl9ZnVuY3Rpb24gdXAodCl7cmV0dXJuIHQucmVwbGFjZShvcCwiXFwkJiIpfWZ1bmN0aW9uIGNwKHQpe3JldHVybiBuZXcgUmVnRXhwKCJeKD86Iit0Lm1hcCh1cCkuam9pbigifCIpKyIpIiwiaSIpfWZ1bmN0aW9uIGZwKHQpe2Zvcih2YXIgbj17fSxlPS0xLHI9dC5sZW5ndGg7KytlPHI7KW5bdFtlXS50b0xvd2VyQ2FzZSgpXT1lO3JldHVybiBufWZ1bmN0aW9uIHNwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzEpKTtyZXR1cm4gcj8odC53PStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGxwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzEpKTtyZXR1cm4gcj8odC51PStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGhwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8odC5VPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGRwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8odC5WPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHBwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8odC5XPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHZwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzQpKTtyZXR1cm4gcj8odC55PStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGdwKHQsbixlKXt2YXIgcj1ycC5leGVjKG4uc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8odC55PStyWzBdKygrclswXT42OD8xOTAwOjJlMyksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24geXAodCxuLGUpe3ZhciByPS9eKFopfChbKy1dXGRcZCkoPzo6PyhcZFxkKSk/Ly5leGVjKG4uc2xpY2UoZSxlKzYpKTtyZXR1cm4gcj8odC5aPXJbMV0/MDotKHJbMl0rKHJbM118fCIwMCIpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBfcCh0LG4sZSl7dmFyIHI9cnAuZXhlYyhuLnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KHQubT1yWzBdLTEsZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gYnAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMikpO3JldHVybiByPyh0LmQ9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gbXAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMykpO3JldHVybiByPyh0Lm09MCx0LmQ9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24geHAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMikpO3JldHVybiByPyh0Lkg9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gd3AodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMikpO3JldHVybiByPyh0Lk09K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gTXAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMikpO3JldHVybiByPyh0LlM9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gTnAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrMykpO3JldHVybiByPyh0Lkw9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gQXAodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlLGUrNikpO3JldHVybiByPyh0Lkw9TWF0aC5mbG9vcihyWzBdLzFlMyksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gVHAodCxuLGUpe3ZhciByPWlwLmV4ZWMobi5zbGljZShlLGUrMSkpO3JldHVybiByP2UrclswXS5sZW5ndGg6LTF9ZnVuY3Rpb24gU3AodCxuLGUpe3ZhciByPXJwLmV4ZWMobi5zbGljZShlKSk7cmV0dXJuIHI/KHQuUT0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBrcCh0LG4sZSl7dmFyIHI9cnAuZXhlYyhuLnNsaWNlKGUpKTtyZXR1cm4gcj8odC5RPTFlMyorclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBFcCh0LG4pe3JldHVybiBhcCh0LmdldERhdGUoKSxuLDIpfWZ1bmN0aW9uIENwKHQsbil7cmV0dXJuIGFwKHQuZ2V0SG91cnMoKSxuLDIpfWZ1bmN0aW9uIFBwKHQsbil7cmV0dXJuIGFwKHQuZ2V0SG91cnMoKSUxMnx8MTIsbiwyKX1mdW5jdGlvbiB6cCh0LG4pe3JldHVybiBhcCgxK29kLmNvdW50KE5kKHQpLHQpLG4sMyl9ZnVuY3Rpb24gUnAodCxuKXtyZXR1cm4gYXAodC5nZXRNaWxsaXNlY29uZHMoKSxuLDMpfWZ1bmN0aW9uIERwKHQsbil7cmV0dXJuIFJwKHQsbikrIjAwMCJ9ZnVuY3Rpb24gcXAodCxuKXtyZXR1cm4gYXAodC5nZXRNb250aCgpKzEsbiwyKX1mdW5jdGlvbiBMcCh0LG4pe3JldHVybiBhcCh0LmdldE1pbnV0ZXMoKSxuLDIpfWZ1bmN0aW9uIFVwKHQsbil7cmV0dXJuIGFwKHQuZ2V0U2Vjb25kcygpLG4sMil9ZnVuY3Rpb24gT3AodCl7dmFyIG49dC5nZXREYXkoKTtyZXR1cm4gMD09PW4/NzpufWZ1bmN0aW9uIEJwKHQsbil7cmV0dXJuIGFwKGNkLmNvdW50KE5kKHQpLHQpLG4sMil9ZnVuY3Rpb24gWXAodCxuKXt2YXIgZT10LmdldERheSgpO3JldHVybiB0PWU+PTR8fDA9PT1lP2hkKHQpOmhkLmNlaWwodCksYXAoaGQuY291bnQoTmQodCksdCkrKDQ9PT1OZCh0KS5nZXREYXkoKSksbiwyKX1mdW5jdGlvbiBGcCh0KXtyZXR1cm4gdC5nZXREYXkoKX1mdW5jdGlvbiBJcCh0LG4pe3JldHVybiBhcChmZC5jb3VudChOZCh0KSx0KSxuLDIpfWZ1bmN0aW9uIGpwKHQsbil7cmV0dXJuIGFwKHQuZ2V0RnVsbFllYXIoKSUxMDAsbiwyKX1mdW5jdGlvbiBIcCh0LG4pe3JldHVybiBhcCh0LmdldEZ1bGxZZWFyKCklMWU0LG4sNCl9ZnVuY3Rpb24gWHAodCl7dmFyIG49dC5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybihuPjA/Ii0iOihuKj0tMSwiKyIpKSthcChuLzYwfDAsIjAiLDIpK2FwKG4lNjAsIjAiLDIpfWZ1bmN0aW9uIEdwKHQsbil7cmV0dXJuIGFwKHQuZ2V0VVRDRGF0ZSgpLG4sMil9ZnVuY3Rpb24gVnAodCxuKXtyZXR1cm4gYXAodC5nZXRVVENIb3VycygpLG4sMil9ZnVuY3Rpb24gJHAodCxuKXtyZXR1cm4gYXAodC5nZXRVVENIb3VycygpJTEyfHwxMixuLDIpfWZ1bmN0aW9uIFdwKHQsbil7cmV0dXJuIGFwKDErQ2QuY291bnQoV2QodCksdCksbiwzKX1mdW5jdGlvbiBacCh0LG4pe3JldHVybiBhcCh0LmdldFVUQ01pbGxpc2Vjb25kcygpLG4sMyl9ZnVuY3Rpb24gUXAodCxuKXtyZXR1cm4gWnAodCxuKSsiMDAwIn1mdW5jdGlvbiBKcCh0LG4pe3JldHVybiBhcCh0LmdldFVUQ01vbnRoKCkrMSxuLDIpfWZ1bmN0aW9uIEtwKHQsbil7cmV0dXJuIGFwKHQuZ2V0VVRDTWludXRlcygpLG4sMil9ZnVuY3Rpb24gdHYodCxuKXtyZXR1cm4gYXAodC5nZXRVVENTZWNvbmRzKCksbiwyKX1mdW5jdGlvbiBudih0KXt2YXIgbj10LmdldFVUQ0RheSgpO3JldHVybiAwPT09bj83Om59ZnVuY3Rpb24gZXYodCxuKXtyZXR1cm4gYXAoUmQuY291bnQoV2QodCksdCksbiwyKX1mdW5jdGlvbiBydih0LG4pe3ZhciBlPXQuZ2V0VVRDRGF5KCk7cmV0dXJuIHQ9ZT49NHx8MD09PWU/VWQodCk6VWQuY2VpbCh0KSxhcChVZC5jb3VudChXZCh0KSx0KSsoND09PVdkKHQpLmdldFVUQ0RheSgpKSxuLDIpfWZ1bmN0aW9uIGl2KHQpe3JldHVybiB0LmdldFVUQ0RheSgpfWZ1bmN0aW9uIG92KHQsbil7cmV0dXJuIGFwKERkLmNvdW50KFdkKHQpLHQpLG4sMil9ZnVuY3Rpb24gYXYodCxuKXtyZXR1cm4gYXAodC5nZXRVVENGdWxsWWVhcigpJTEwMCxuLDIpfWZ1bmN0aW9uIHV2KHQsbil7cmV0dXJuIGFwKHQuZ2V0VVRDRnVsbFllYXIoKSUxZTQsbiw0KX1mdW5jdGlvbiBjdigpe3JldHVybiIrMDAwMCJ9ZnVuY3Rpb24gZnYoKXtyZXR1cm4iJSJ9ZnVuY3Rpb24gc3YodCl7cmV0dXJuK3R9ZnVuY3Rpb24gbHYodCl7cmV0dXJuIE1hdGguZmxvb3IoK3QvMWUzKX1mdW5jdGlvbiBodihuKXtyZXR1cm4gbnA9dHAobiksdC50aW1lRm9ybWF0PW5wLmZvcm1hdCx0LnRpbWVQYXJzZT1ucC5wYXJzZSx0LnV0Y0Zvcm1hdD1ucC51dGNGb3JtYXQsdC51dGNQYXJzZT1ucC51dGNQYXJzZSxucH1odih7ZGF0ZVRpbWU6IiV4LCAlWCIsZGF0ZToiJS1tLyUtZC8lWSIsdGltZToiJS1JOiVNOiVTICVwIixwZXJpb2RzOlsiQU0iLCJQTSJdLGRheXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLHNob3J0RGF5czpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLG1vbnRoczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sc2hvcnRNb250aHM6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXX0pO3ZhciBkdj1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZz9mdW5jdGlvbih0KXtyZXR1cm4gdC50b0lTT1N0cmluZygpfTp0LnV0Y0Zvcm1hdCgiJVktJW0tJWRUJUg6JU06JVMuJUxaIik7dmFyIHB2PStuZXcgRGF0ZSgiMjAwMC0wMS0wMVQwMDowMDowMC4wMDBaIik/ZnVuY3Rpb24odCl7dmFyIG49bmV3IERhdGUodCk7cmV0dXJuIGlzTmFOKG4pP251bGw6bn06dC51dGNQYXJzZSgiJVktJW0tJWRUJUg6JU06JVMuJUxaIiksdnY9MWUzLGd2PTYwKnZ2LHl2PTYwKmd2LF92PTI0Knl2LGJ2PTcqX3YsbXY9MzAqX3YseHY9MzY1Kl92O2Z1bmN0aW9uIHd2KHQpe3JldHVybiBuZXcgRGF0ZSh0KX1mdW5jdGlvbiBNdih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERhdGU/K3Q6K25ldyBEYXRlKCt0KX1mdW5jdGlvbiBOdih0LG4scixpLG8sYSx1LGMsZil7dmFyIHM9U2gobWgsbWgpLGw9cy5pbnZlcnQsaD1zLmRvbWFpbixkPWYoIi4lTCIpLHA9ZigiOiVTIiksdj1mKCIlSTolTSIpLGc9ZigiJUkgJXAiKSx5PWYoIiVhICVkIiksXz1mKCIlYiAlZCIpLGI9ZigiJUIiKSxtPWYoIiVZIikseD1bW3UsMSx2dl0sW3UsNSw1KnZ2XSxbdSwxNSwxNSp2dl0sW3UsMzAsMzAqdnZdLFthLDEsZ3ZdLFthLDUsNSpndl0sW2EsMTUsMTUqZ3ZdLFthLDMwLDMwKmd2XSxbbywxLHl2XSxbbywzLDMqeXZdLFtvLDYsNip5dl0sW28sMTIsMTIqeXZdLFtpLDEsX3ZdLFtpLDIsMipfdl0sW3IsMSxidl0sW24sMSxtdl0sW24sMywzKm12XSxbdCwxLHh2XV07ZnVuY3Rpb24gTShlKXtyZXR1cm4odShlKTxlP2Q6YShlKTxlP3A6byhlKTxlP3Y6aShlKTxlP2c6bihlKTxlP3IoZSk8ZT95Ol86dChlKTxlP2I6bSkoZSl9ZnVuY3Rpb24gTihuLHIsaSxvKXtpZihudWxsPT1uJiYobj0xMCksIm51bWJlciI9PXR5cGVvZiBuKXt2YXIgYT1NYXRoLmFicyhpLXIpL24sdT1lKGZ1bmN0aW9uKHQpe3JldHVybiB0WzJdfSkucmlnaHQoeCxhKTt1PT09eC5sZW5ndGg/KG89dyhyL3h2LGkveHYsbiksbj10KTp1PyhvPSh1PXhbYS94W3UtMV1bMl08eFt1XVsyXS9hP3UtMTp1XSlbMV0sbj11WzBdKToobz1NYXRoLm1heCh3KHIsaSxuKSwxKSxuPWMpfXJldHVybiBudWxsPT1vP246bi5ldmVyeShvKX1yZXR1cm4gcy5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEYXRlKGwodCkpfSxzLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9oKGRoLmNhbGwodCxNdikpOmgoKS5tYXAod3YpfSxzLnRpY2tzPWZ1bmN0aW9uKHQsbil7dmFyIGUscj1oKCksaT1yWzBdLG89cltyLmxlbmd0aC0xXSxhPW88aTtyZXR1cm4gYSYmKGU9aSxpPW8sbz1lKSxlPShlPU4odCxpLG8sbikpP2UucmFuZ2UoaSxvKzEpOltdLGE/ZS5yZXZlcnNlKCk6ZX0scy50aWNrRm9ybWF0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGw9PW4/TTpmKG4pfSxzLm5pY2U9ZnVuY3Rpb24odCxuKXt2YXIgZT1oKCk7cmV0dXJuKHQ9Tih0LGVbMF0sZVtlLmxlbmd0aC0xXSxuKSk/aChDaChlLHQpKTpzfSxzLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gQWgocyxOdih0LG4scixpLG8sYSx1LGMsZikpfSxzfWZ1bmN0aW9uIEF2KCl7dmFyIHQsbixlLHIsaSxvPTAsYT0xLHU9bWgsYz0hMTtmdW5jdGlvbiBmKG4pe3JldHVybiBpc05hTihuPStuKT9pOnUoMD09PWU/LjU6KG49KHIobiktdCkqZSxjP01hdGgubWF4KDAsTWF0aC5taW4oMSxuKSk6bikpfXJldHVybiBmLmRvbWFpbj1mdW5jdGlvbihpKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1yKG89K2lbMF0pLG49cihhPStpWzFdKSxlPXQ9PT1uPzA6MS8obi10KSxmKTpbbyxhXX0sZi5jbGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0hIXQsZik6Y30sZi5pbnRlcnBvbGF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxmKTp1fSxmLnVua25vd249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dCxmKTppfSxmdW5jdGlvbihpKXtyZXR1cm4gcj1pLHQ9aShvKSxuPWkoYSksZT10PT09bj8wOjEvKG4tdCksZn19ZnVuY3Rpb24gVHYodCxuKXtyZXR1cm4gbi5kb21haW4odC5kb21haW4oKSkuaW50ZXJwb2xhdG9yKHQuaW50ZXJwb2xhdG9yKCkpLmNsYW1wKHQuY2xhbXAoKSkudW5rbm93bih0LnVua25vd24oKSl9ZnVuY3Rpb24gU3YoKXt2YXIgdD1IaChBdigpKTtyZXR1cm4gdC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIFR2KHQsU3YoKSkuZXhwb25lbnQodC5leHBvbmVudCgpKX0sbGguYXBwbHkodCxhcmd1bWVudHMpfWZ1bmN0aW9uIGt2KCl7dmFyIHQsbixlLHIsaSxvLGEsdT0wLGM9LjUsZj0xLHM9bWgsbD0hMTtmdW5jdGlvbiBoKHQpe3JldHVybiBpc05hTih0PSt0KT9hOih0PS41KygodD0rbyh0KSktbikqKHQ8bj9yOmkpLHMobD9NYXRoLm1heCgwLE1hdGgubWluKDEsdCkpOnQpKX1yZXR1cm4gaC5kb21haW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9byh1PSthWzBdKSxuPW8oYz0rYVsxXSksZT1vKGY9K2FbMl0pLHI9dD09PW4/MDouNS8obi10KSxpPW49PT1lPzA6LjUvKGUtbiksaCk6W3UsYyxmXX0saC5jbGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD0hIXQsaCk6bH0saC5pbnRlcnBvbGF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHM9dCxoKTpzfSxoLnVua25vd249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9dCxoKTphfSxmdW5jdGlvbihhKXtyZXR1cm4gbz1hLHQ9YSh1KSxuPWEoYyksZT1hKGYpLHI9dD09PW4/MDouNS8obi10KSxpPW49PT1lPzA6LjUvKGUtbiksaH19ZnVuY3Rpb24gRXYoKXt2YXIgdD1IaChrdigpKTtyZXR1cm4gdC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIFR2KHQsRXYoKSkuZXhwb25lbnQodC5leHBvbmVudCgpKX0sbGguYXBwbHkodCxhcmd1bWVudHMpfWZ1bmN0aW9uIEN2KHQpe2Zvcih2YXIgbj10Lmxlbmd0aC82fDAsZT1uZXcgQXJyYXkobikscj0wO3I8bjspZVtyXT0iIyIrdC5zbGljZSg2KnIsNiorK3IpO3JldHVybiBlfXZhciBQdj1DdigiMWY3N2I0ZmY3ZjBlMmNhMDJjZDYyNzI4OTQ2N2JkOGM1NjRiZTM3N2MyN2Y3ZjdmYmNiZDIyMTdiZWNmIiksenY9Q3YoIjdmYzk3ZmJlYWVkNGZkYzA4NmZmZmY5OTM4NmNiMGYwMDI3ZmJmNWIxNzY2NjY2NiIpLFJ2PUN2KCIxYjllNzdkOTVmMDI3NTcwYjNlNzI5OGE2NmE2MWVlNmFiMDJhNjc2MWQ2NjY2NjYiKSxEdj1DdigiYTZjZWUzMWY3OGI0YjJkZjhhMzNhMDJjZmI5YTk5ZTMxYTFjZmRiZjZmZmY3ZjAwY2FiMmQ2NmEzZDlhZmZmZjk5YjE1OTI4IikscXY9Q3YoImZiYjRhZWIzY2RlM2NjZWJjNWRlY2JlNGZlZDlhNmZmZmZjY2U1ZDhiZGZkZGFlY2YyZjJmMiIpLEx2PUN2KCJiM2UyY2RmZGNkYWNjYmQ1ZThmNGNhZTRlNmY1YzlmZmYyYWVmMWUyY2NjY2NjY2MiKSxVdj1DdigiZTQxYTFjMzc3ZWI4NGRhZjRhOTg0ZWEzZmY3ZjAwZmZmZjMzYTY1NjI4Zjc4MWJmOTk5OTk5IiksT3Y9Q3YoIjY2YzJhNWZjOGQ2MjhkYTBjYmU3OGFjM2E2ZDg1NGZmZDkyZmU1YzQ5NGIzYjNiMyIpLEJ2PUN2KCI4ZGQzYzdmZmZmYjNiZWJhZGFmYjgwNzI4MGIxZDNmZGI0NjJiM2RlNjlmY2NkZTVkOWQ5ZDliYzgwYmRjY2ViYzVmZmVkNmYiKTtmdW5jdGlvbiBZdih0KXtyZXR1cm4gY2UodFt0Lmxlbmd0aC0xXSl9dmFyIEZ2PW5ldyBBcnJheSgzKS5jb25jYXQoImQ4YjM2NWY1ZjVmNTVhYjRhYyIsImE2NjExYWRmYzI3ZDgwY2RjMTAxODU3MSIsImE2NjExYWRmYzI3ZGY1ZjVmNTgwY2RjMTAxODU3MSIsIjhjNTEwYWQ4YjM2NWY2ZThjM2M3ZWFlNTVhYjRhYzAxNjY1ZSIsIjhjNTEwYWQ4YjM2NWY2ZThjM2Y1ZjVmNWM3ZWFlNTVhYjRhYzAxNjY1ZSIsIjhjNTEwYWJmODEyZGRmYzI3ZGY2ZThjM2M3ZWFlNTgwY2RjMTM1OTc4ZjAxNjY1ZSIsIjhjNTEwYWJmODEyZGRmYzI3ZGY2ZThjM2Y1ZjVmNWM3ZWFlNTgwY2RjMTM1OTc4ZjAxNjY1ZSIsIjU0MzAwNThjNTEwYWJmODEyZGRmYzI3ZGY2ZThjM2M3ZWFlNTgwY2RjMTM1OTc4ZjAxNjY1ZTAwM2MzMCIsIjU0MzAwNThjNTEwYWJmODEyZGRmYzI3ZGY2ZThjM2Y1ZjVmNWM3ZWFlNTgwY2RjMTM1OTc4ZjAxNjY1ZTAwM2MzMCIpLm1hcChDdiksSXY9WXYoRnYpLGp2PW5ldyBBcnJheSgzKS5jb25jYXQoImFmOGRjM2Y3ZjdmNzdmYmY3YiIsIjdiMzI5NGMyYTVjZmE2ZGJhMDAwODgzNyIsIjdiMzI5NGMyYTVjZmY3ZjdmN2E2ZGJhMDAwODgzNyIsIjc2MmE4M2FmOGRjM2U3ZDRlOGQ5ZjBkMzdmYmY3YjFiNzgzNyIsIjc2MmE4M2FmOGRjM2U3ZDRlOGY3ZjdmN2Q5ZjBkMzdmYmY3YjFiNzgzNyIsIjc2MmE4Mzk5NzBhYmMyYTVjZmU3ZDRlOGQ5ZjBkM2E2ZGJhMDVhYWU2MTFiNzgzNyIsIjc2MmE4Mzk5NzBhYmMyYTVjZmU3ZDRlOGY3ZjdmN2Q5ZjBkM2E2ZGJhMDVhYWU2MTFiNzgzNyIsIjQwMDA0Yjc2MmE4Mzk5NzBhYmMyYTVjZmU3ZDRlOGQ5ZjBkM2E2ZGJhMDVhYWU2MTFiNzgzNzAwNDQxYiIsIjQwMDA0Yjc2MmE4Mzk5NzBhYmMyYTVjZmU3ZDRlOGY3ZjdmN2Q5ZjBkM2E2ZGJhMDVhYWU2MTFiNzgzNzAwNDQxYiIpLm1hcChDdiksSHY9WXYoanYpLFh2PW5ldyBBcnJheSgzKS5jb25jYXQoImU5YTNjOWY3ZjdmN2ExZDc2YSIsImQwMWM4YmYxYjZkYWI4ZTE4NjRkYWMyNiIsImQwMWM4YmYxYjZkYWY3ZjdmN2I4ZTE4NjRkYWMyNiIsImM1MWI3ZGU5YTNjOWZkZTBlZmU2ZjVkMGExZDc2YTRkOTIyMSIsImM1MWI3ZGU5YTNjOWZkZTBlZmY3ZjdmN2U2ZjVkMGExZDc2YTRkOTIyMSIsImM1MWI3ZGRlNzdhZWYxYjZkYWZkZTBlZmU2ZjVkMGI4ZTE4NjdmYmM0MTRkOTIyMSIsImM1MWI3ZGRlNzdhZWYxYjZkYWZkZTBlZmY3ZjdmN2U2ZjVkMGI4ZTE4NjdmYmM0MTRkOTIyMSIsIjhlMDE1MmM1MWI3ZGRlNzdhZWYxYjZkYWZkZTBlZmU2ZjVkMGI4ZTE4NjdmYmM0MTRkOTIyMTI3NjQxOSIsIjhlMDE1MmM1MWI3ZGRlNzdhZWYxYjZkYWZkZTBlZmY3ZjdmN2U2ZjVkMGI4ZTE4NjdmYmM0MTRkOTIyMTI3NjQxOSIpLm1hcChDdiksR3Y9WXYoWHYpLFZ2PW5ldyBBcnJheSgzKS5jb25jYXQoIjk5OGVjM2Y3ZjdmN2YxYTM0MCIsIjVlM2M5OWIyYWJkMmZkYjg2M2U2NjEwMSIsIjVlM2M5OWIyYWJkMmY3ZjdmN2ZkYjg2M2U2NjEwMSIsIjU0Mjc4ODk5OGVjM2Q4ZGFlYmZlZTBiNmYxYTM0MGIzNTgwNiIsIjU0Mjc4ODk5OGVjM2Q4ZGFlYmY3ZjdmN2ZlZTBiNmYxYTM0MGIzNTgwNiIsIjU0Mjc4ODgwNzNhY2IyYWJkMmQ4ZGFlYmZlZTBiNmZkYjg2M2UwODIxNGIzNTgwNiIsIjU0Mjc4ODgwNzNhY2IyYWJkMmQ4ZGFlYmY3ZjdmN2ZlZTBiNmZkYjg2M2UwODIxNGIzNTgwNiIsIjJkMDA0YjU0Mjc4ODgwNzNhY2IyYWJkMmQ4ZGFlYmZlZTBiNmZkYjg2M2UwODIxNGIzNTgwNjdmM2IwOCIsIjJkMDA0YjU0Mjc4ODgwNzNhY2IyYWJkMmQ4ZGFlYmY3ZjdmN2ZlZTBiNmZkYjg2M2UwODIxNGIzNTgwNjdmM2IwOCIpLm1hcChDdiksJHY9WXYoVnYpLFd2PW5ldyBBcnJheSgzKS5jb25jYXQoImVmOGE2MmY3ZjdmNzY3YTljZiIsImNhMDAyMGY0YTU4MjkyYzVkZTA1NzFiMCIsImNhMDAyMGY0YTU4MmY3ZjdmNzkyYzVkZTA1NzFiMCIsImIyMTgyYmVmOGE2MmZkZGJjN2QxZTVmMDY3YTljZjIxNjZhYyIsImIyMTgyYmVmOGE2MmZkZGJjN2Y3ZjdmN2QxZTVmMDY3YTljZjIxNjZhYyIsImIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2QxZTVmMDkyYzVkZTQzOTNjMzIxNjZhYyIsImIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2Y3ZjdmN2QxZTVmMDkyYzVkZTQzOTNjMzIxNjZhYyIsIjY3MDAxZmIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2QxZTVmMDkyYzVkZTQzOTNjMzIxNjZhYzA1MzA2MSIsIjY3MDAxZmIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2Y3ZjdmN2QxZTVmMDkyYzVkZTQzOTNjMzIxNjZhYzA1MzA2MSIpLm1hcChDdiksWnY9WXYoV3YpLFF2PW5ldyBBcnJheSgzKS5jb25jYXQoImVmOGE2MmZmZmZmZjk5OTk5OSIsImNhMDAyMGY0YTU4MmJhYmFiYTQwNDA0MCIsImNhMDAyMGY0YTU4MmZmZmZmZmJhYmFiYTQwNDA0MCIsImIyMTgyYmVmOGE2MmZkZGJjN2UwZTBlMDk5OTk5OTRkNGQ0ZCIsImIyMTgyYmVmOGE2MmZkZGJjN2ZmZmZmZmUwZTBlMDk5OTk5OTRkNGQ0ZCIsImIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2UwZTBlMGJhYmFiYTg3ODc4NzRkNGQ0ZCIsImIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2ZmZmZmZmUwZTBlMGJhYmFiYTg3ODc4NzRkNGQ0ZCIsIjY3MDAxZmIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2UwZTBlMGJhYmFiYTg3ODc4NzRkNGQ0ZDFhMWExYSIsIjY3MDAxZmIyMTgyYmQ2NjA0ZGY0YTU4MmZkZGJjN2ZmZmZmZmUwZTBlMGJhYmFiYTg3ODc4NzRkNGQ0ZDFhMWExYSIpLm1hcChDdiksSnY9WXYoUXYpLEt2PW5ldyBBcnJheSgzKS5jb25jYXQoImZjOGQ1OWZmZmZiZjkxYmZkYiIsImQ3MTkxY2ZkYWU2MWFiZDllOTJjN2JiNiIsImQ3MTkxY2ZkYWU2MWZmZmZiZmFiZDllOTJjN2JiNiIsImQ3MzAyN2ZjOGQ1OWZlZTA5MGUwZjNmODkxYmZkYjQ1NzViNCIsImQ3MzAyN2ZjOGQ1OWZlZTA5MGZmZmZiZmUwZjNmODkxYmZkYjQ1NzViNCIsImQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA5MGUwZjNmOGFiZDllOTc0YWRkMTQ1NzViNCIsImQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA5MGZmZmZiZmUwZjNmOGFiZDllOTc0YWRkMTQ1NzViNCIsImE1MDAyNmQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA5MGUwZjNmOGFiZDllOTc0YWRkMTQ1NzViNDMxMzY5NSIsImE1MDAyNmQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA5MGZmZmZiZmUwZjNmOGFiZDllOTc0YWRkMTQ1NzViNDMxMzY5NSIpLm1hcChDdiksdGc9WXYoS3YpLG5nPW5ldyBBcnJheSgzKS5jb25jYXQoImZjOGQ1OWZmZmZiZjkxY2Y2MCIsImQ3MTkxY2ZkYWU2MWE2ZDk2YTFhOTY0MSIsImQ3MTkxY2ZkYWU2MWZmZmZiZmE2ZDk2YTFhOTY0MSIsImQ3MzAyN2ZjOGQ1OWZlZTA4YmQ5ZWY4YjkxY2Y2MDFhOTg1MCIsImQ3MzAyN2ZjOGQ1OWZlZTA4YmZmZmZiZmQ5ZWY4YjkxY2Y2MDFhOTg1MCIsImQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA4YmQ5ZWY4YmE2ZDk2YTY2YmQ2MzFhOTg1MCIsImQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA4YmZmZmZiZmQ5ZWY4YmE2ZDk2YTY2YmQ2MzFhOTg1MCIsImE1MDAyNmQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA4YmQ5ZWY4YmE2ZDk2YTY2YmQ2MzFhOTg1MDAwNjgzNyIsImE1MDAyNmQ3MzAyN2Y0NmQ0M2ZkYWU2MWZlZTA4YmZmZmZiZmQ5ZWY4YmE2ZDk2YTY2YmQ2MzFhOTg1MDAwNjgzNyIpLm1hcChDdiksZWc9WXYobmcpLHJnPW5ldyBBcnJheSgzKS5jb25jYXQoImZjOGQ1OWZmZmZiZjk5ZDU5NCIsImQ3MTkxY2ZkYWU2MWFiZGRhNDJiODNiYSIsImQ3MTkxY2ZkYWU2MWZmZmZiZmFiZGRhNDJiODNiYSIsImQ1M2U0ZmZjOGQ1OWZlZTA4YmU2ZjU5ODk5ZDU5NDMyODhiZCIsImQ1M2U0ZmZjOGQ1OWZlZTA4YmZmZmZiZmU2ZjU5ODk5ZDU5NDMyODhiZCIsImQ1M2U0ZmY0NmQ0M2ZkYWU2MWZlZTA4YmU2ZjU5OGFiZGRhNDY2YzJhNTMyODhiZCIsImQ1M2U0ZmY0NmQ0M2ZkYWU2MWZlZTA4YmZmZmZiZmU2ZjU5OGFiZGRhNDY2YzJhNTMyODhiZCIsIjllMDE0MmQ1M2U0ZmY0NmQ0M2ZkYWU2MWZlZTA4YmU2ZjU5OGFiZGRhNDY2YzJhNTMyODhiZDVlNGZhMiIsIjllMDE0MmQ1M2U0ZmY0NmQ0M2ZkYWU2MWZlZTA4YmZmZmZiZmU2ZjU5OGFiZGRhNDY2YzJhNTMyODhiZDVlNGZhMiIpLm1hcChDdiksaWc9WXYocmcpLG9nPW5ldyBBcnJheSgzKS5jb25jYXQoImU1ZjVmOTk5ZDhjOTJjYTI1ZiIsImVkZjhmYmIyZTJlMjY2YzJhNDIzOGI0NSIsImVkZjhmYmIyZTJlMjY2YzJhNDJjYTI1ZjAwNmQyYyIsImVkZjhmYmNjZWNlNjk5ZDhjOTY2YzJhNDJjYTI1ZjAwNmQyYyIsImVkZjhmYmNjZWNlNjk5ZDhjOTY2YzJhNDQxYWU3NjIzOGI0NTAwNTgyNCIsImY3ZmNmZGU1ZjVmOWNjZWNlNjk5ZDhjOTY2YzJhNDQxYWU3NjIzOGI0NTAwNTgyNCIsImY3ZmNmZGU1ZjVmOWNjZWNlNjk5ZDhjOTY2YzJhNDQxYWU3NjIzOGI0NTAwNmQyYzAwNDQxYiIpLm1hcChDdiksYWc9WXYob2cpLHVnPW5ldyBBcnJheSgzKS5jb25jYXQoImUwZWNmNDllYmNkYTg4NTZhNyIsImVkZjhmYmIzY2RlMzhjOTZjNjg4NDE5ZCIsImVkZjhmYmIzY2RlMzhjOTZjNjg4NTZhNzgxMGY3YyIsImVkZjhmYmJmZDNlNjllYmNkYThjOTZjNjg4NTZhNzgxMGY3YyIsImVkZjhmYmJmZDNlNjllYmNkYThjOTZjNjhjNmJiMTg4NDE5ZDZlMDE2YiIsImY3ZmNmZGUwZWNmNGJmZDNlNjllYmNkYThjOTZjNjhjNmJiMTg4NDE5ZDZlMDE2YiIsImY3ZmNmZGUwZWNmNGJmZDNlNjllYmNkYThjOTZjNjhjNmJiMTg4NDE5ZDgxMGY3YzRkMDA0YiIpLm1hcChDdiksY2c9WXYodWcpLGZnPW5ldyBBcnJheSgzKS5jb25jYXQoImUwZjNkYmE4ZGRiNTQzYTJjYSIsImYwZjllOGJhZTRiYzdiY2NjNDJiOGNiZSIsImYwZjllOGJhZTRiYzdiY2NjNDQzYTJjYTA4NjhhYyIsImYwZjllOGNjZWJjNWE4ZGRiNTdiY2NjNDQzYTJjYTA4NjhhYyIsImYwZjllOGNjZWJjNWE4ZGRiNTdiY2NjNDRlYjNkMzJiOGNiZTA4NTg5ZSIsImY3ZmNmMGUwZjNkYmNjZWJjNWE4ZGRiNTdiY2NjNDRlYjNkMzJiOGNiZTA4NTg5ZSIsImY3ZmNmMGUwZjNkYmNjZWJjNWE4ZGRiNTdiY2NjNDRlYjNkMzJiOGNiZTA4NjhhYzA4NDA4MSIpLm1hcChDdiksc2c9WXYoZmcpLGxnPW5ldyBBcnJheSgzKS5jb25jYXQoImZlZThjOGZkYmI4NGUzNGEzMyIsImZlZjBkOWZkY2M4YWZjOGQ1OWQ3MzAxZiIsImZlZjBkOWZkY2M4YWZjOGQ1OWUzNGEzM2IzMDAwMCIsImZlZjBkOWZkZDQ5ZWZkYmI4NGZjOGQ1OWUzNGEzM2IzMDAwMCIsImZlZjBkOWZkZDQ5ZWZkYmI4NGZjOGQ1OWVmNjU0OGQ3MzAxZjk5MDAwMCIsImZmZjdlY2ZlZThjOGZkZDQ5ZWZkYmI4NGZjOGQ1OWVmNjU0OGQ3MzAxZjk5MDAwMCIsImZmZjdlY2ZlZThjOGZkZDQ5ZWZkYmI4NGZjOGQ1OWVmNjU0OGQ3MzAxZmIzMDAwMDdmMDAwMCIpLm1hcChDdiksaGc9WXYobGcpLGRnPW5ldyBBcnJheSgzKS5jb25jYXQoImVjZTJmMGE2YmRkYjFjOTA5OSIsImY2ZWZmN2JkYzllMTY3YTljZjAyODE4YSIsImY2ZWZmN2JkYzllMTY3YTljZjFjOTA5OTAxNmM1OSIsImY2ZWZmN2QwZDFlNmE2YmRkYjY3YTljZjFjOTA5OTAxNmM1OSIsImY2ZWZmN2QwZDFlNmE2YmRkYjY3YTljZjM2OTBjMDAyODE4YTAxNjQ1MCIsImZmZjdmYmVjZTJmMGQwZDFlNmE2YmRkYjY3YTljZjM2OTBjMDAyODE4YTAxNjQ1MCIsImZmZjdmYmVjZTJmMGQwZDFlNmE2YmRkYjY3YTljZjM2OTBjMDAyODE4YTAxNmM1OTAxNDYzNiIpLm1hcChDdikscGc9WXYoZGcpLHZnPW5ldyBBcnJheSgzKS5jb25jYXQoImVjZTdmMmE2YmRkYjJiOGNiZSIsImYxZWVmNmJkYzllMTc0YTljZjA1NzBiMCIsImYxZWVmNmJkYzllMTc0YTljZjJiOGNiZTA0NWE4ZCIsImYxZWVmNmQwZDFlNmE2YmRkYjc0YTljZjJiOGNiZTA0NWE4ZCIsImYxZWVmNmQwZDFlNmE2YmRkYjc0YTljZjM2OTBjMDA1NzBiMDAzNGU3YiIsImZmZjdmYmVjZTdmMmQwZDFlNmE2YmRkYjc0YTljZjM2OTBjMDA1NzBiMDAzNGU3YiIsImZmZjdmYmVjZTdmMmQwZDFlNmE2YmRkYjc0YTljZjM2OTBjMDA1NzBiMDA0NWE4ZDAyMzg1OCIpLm1hcChDdiksZ2c9WXYodmcpLHlnPW5ldyBBcnJheSgzKS5jb25jYXQoImU3ZTFlZmM5OTRjN2RkMWM3NyIsImYxZWVmNmQ3YjVkOGRmNjViMGNlMTI1NiIsImYxZWVmNmQ3YjVkOGRmNjViMGRkMWM3Nzk4MDA0MyIsImYxZWVmNmQ0YjlkYWM5OTRjN2RmNjViMGRkMWM3Nzk4MDA0MyIsImYxZWVmNmQ0YjlkYWM5OTRjN2RmNjViMGU3Mjk4YWNlMTI1NjkxMDAzZiIsImY3ZjRmOWU3ZTFlZmQ0YjlkYWM5OTRjN2RmNjViMGU3Mjk4YWNlMTI1NjkxMDAzZiIsImY3ZjRmOWU3ZTFlZmQ0YjlkYWM5OTRjN2RmNjViMGU3Mjk4YWNlMTI1Njk4MDA0MzY3MDAxZiIpLm1hcChDdiksX2c9WXYoeWcpLGJnPW5ldyBBcnJheSgzKS5jb25jYXQoImZkZTBkZGZhOWZiNWM1MWI4YSIsImZlZWJlMmZiYjRiOWY3NjhhMWFlMDE3ZSIsImZlZWJlMmZiYjRiOWY3NjhhMWM1MWI4YTdhMDE3NyIsImZlZWJlMmZjYzVjMGZhOWZiNWY3NjhhMWM1MWI4YTdhMDE3NyIsImZlZWJlMmZjYzVjMGZhOWZiNWY3NjhhMWRkMzQ5N2FlMDE3ZTdhMDE3NyIsImZmZjdmM2ZkZTBkZGZjYzVjMGZhOWZiNWY3NjhhMWRkMzQ5N2FlMDE3ZTdhMDE3NyIsImZmZjdmM2ZkZTBkZGZjYzVjMGZhOWZiNWY3NjhhMWRkMzQ5N2FlMDE3ZTdhMDE3NzQ5MDA2YSIpLm1hcChDdiksbWc9WXYoYmcpLHhnPW5ldyBBcnJheSgzKS5jb25jYXQoImVkZjhiMTdmY2RiYjJjN2ZiOCIsImZmZmZjY2ExZGFiNDQxYjZjNDIyNWVhOCIsImZmZmZjY2ExZGFiNDQxYjZjNDJjN2ZiODI1MzQ5NCIsImZmZmZjY2M3ZTliNDdmY2RiYjQxYjZjNDJjN2ZiODI1MzQ5NCIsImZmZmZjY2M3ZTliNDdmY2RiYjQxYjZjNDFkOTFjMDIyNWVhODBjMmM4NCIsImZmZmZkOWVkZjhiMWM3ZTliNDdmY2RiYjQxYjZjNDFkOTFjMDIyNWVhODBjMmM4NCIsImZmZmZkOWVkZjhiMWM3ZTliNDdmY2RiYjQxYjZjNDFkOTFjMDIyNWVhODI1MzQ5NDA4MWQ1OCIpLm1hcChDdiksd2c9WXYoeGcpLE1nPW5ldyBBcnJheSgzKS5jb25jYXQoImY3ZmNiOWFkZGQ4ZTMxYTM1NCIsImZmZmZjY2MyZTY5OTc4YzY3OTIzODQ0MyIsImZmZmZjY2MyZTY5OTc4YzY3OTMxYTM1NDAwNjgzNyIsImZmZmZjY2Q5ZjBhM2FkZGQ4ZTc4YzY3OTMxYTM1NDAwNjgzNyIsImZmZmZjY2Q5ZjBhM2FkZGQ4ZTc4YzY3OTQxYWI1ZDIzODQ0MzAwNWEzMiIsImZmZmZlNWY3ZmNiOWQ5ZjBhM2FkZGQ4ZTc4YzY3OTQxYWI1ZDIzODQ0MzAwNWEzMiIsImZmZmZlNWY3ZmNiOWQ5ZjBhM2FkZGQ4ZTc4YzY3OTQxYWI1ZDIzODQ0MzAwNjgzNzAwNDUyOSIpLm1hcChDdiksTmc9WXYoTWcpLEFnPW5ldyBBcnJheSgzKS5jb25jYXQoImZmZjdiY2ZlYzQ0ZmQ5NWYwZSIsImZmZmZkNGZlZDk4ZWZlOTkyOWNjNGMwMiIsImZmZmZkNGZlZDk4ZWZlOTkyOWQ5NWYwZTk5MzQwNCIsImZmZmZkNGZlZTM5MWZlYzQ0ZmZlOTkyOWQ5NWYwZTk5MzQwNCIsImZmZmZkNGZlZTM5MWZlYzQ0ZmZlOTkyOWVjNzAxNGNjNGMwMjhjMmQwNCIsImZmZmZlNWZmZjdiY2ZlZTM5MWZlYzQ0ZmZlOTkyOWVjNzAxNGNjNGMwMjhjMmQwNCIsImZmZmZlNWZmZjdiY2ZlZTM5MWZlYzQ0ZmZlOTkyOWVjNzAxNGNjNGMwMjk5MzQwNDY2MjUwNiIpLm1hcChDdiksVGc9WXYoQWcpLFNnPW5ldyBBcnJheSgzKS5jb25jYXQoImZmZWRhMGZlYjI0Y2YwM2IyMCIsImZmZmZiMmZlY2M1Y2ZkOGQzY2UzMWExYyIsImZmZmZiMmZlY2M1Y2ZkOGQzY2YwM2IyMGJkMDAyNiIsImZmZmZiMmZlZDk3NmZlYjI0Y2ZkOGQzY2YwM2IyMGJkMDAyNiIsImZmZmZiMmZlZDk3NmZlYjI0Y2ZkOGQzY2ZjNGUyYWUzMWExY2IxMDAyNiIsImZmZmZjY2ZmZWRhMGZlZDk3NmZlYjI0Y2ZkOGQzY2ZjNGUyYWUzMWExY2IxMDAyNiIsImZmZmZjY2ZmZWRhMGZlZDk3NmZlYjI0Y2ZkOGQzY2ZjNGUyYWUzMWExY2JkMDAyNjgwMDAyNiIpLm1hcChDdiksa2c9WXYoU2cpLEVnPW5ldyBBcnJheSgzKS5jb25jYXQoImRlZWJmNzllY2FlMTMxODJiZCIsImVmZjNmZmJkZDdlNzZiYWVkNjIxNzFiNSIsImVmZjNmZmJkZDdlNzZiYWVkNjMxODJiZDA4NTE5YyIsImVmZjNmZmM2ZGJlZjllY2FlMTZiYWVkNjMxODJiZDA4NTE5YyIsImVmZjNmZmM2ZGJlZjllY2FlMTZiYWVkNjQyOTJjNjIxNzFiNTA4NDU5NCIsImY3ZmJmZmRlZWJmN2M2ZGJlZjllY2FlMTZiYWVkNjQyOTJjNjIxNzFiNTA4NDU5NCIsImY3ZmJmZmRlZWJmN2M2ZGJlZjllY2FlMTZiYWVkNjQyOTJjNjIxNzFiNTA4NTE5YzA4MzA2YiIpLm1hcChDdiksQ2c9WXYoRWcpLFBnPW5ldyBBcnJheSgzKS5jb25jYXQoImU1ZjVlMGExZDk5YjMxYTM1NCIsImVkZjhlOWJhZTRiMzc0YzQ3NjIzOGI0NSIsImVkZjhlOWJhZTRiMzc0YzQ3NjMxYTM1NDAwNmQyYyIsImVkZjhlOWM3ZTljMGExZDk5Yjc0YzQ3NjMxYTM1NDAwNmQyYyIsImVkZjhlOWM3ZTljMGExZDk5Yjc0YzQ3NjQxYWI1ZDIzOGI0NTAwNWEzMiIsImY3ZmNmNWU1ZjVlMGM3ZTljMGExZDk5Yjc0YzQ3NjQxYWI1ZDIzOGI0NTAwNWEzMiIsImY3ZmNmNWU1ZjVlMGM3ZTljMGExZDk5Yjc0YzQ3NjQxYWI1ZDIzOGI0NTAwNmQyYzAwNDQxYiIpLm1hcChDdiksemc9WXYoUGcpLFJnPW5ldyBBcnJheSgzKS5jb25jYXQoImYwZjBmMGJkYmRiZDYzNjM2MyIsImY3ZjdmN2NjY2NjYzk2OTY5NjUyNTI1MiIsImY3ZjdmN2NjY2NjYzk2OTY5NjYzNjM2MzI1MjUyNSIsImY3ZjdmN2Q5ZDlkOWJkYmRiZDk2OTY5NjYzNjM2MzI1MjUyNSIsImY3ZjdmN2Q5ZDlkOWJkYmRiZDk2OTY5NjczNzM3MzUyNTI1MjI1MjUyNSIsImZmZmZmZmYwZjBmMGQ5ZDlkOWJkYmRiZDk2OTY5NjczNzM3MzUyNTI1MjI1MjUyNSIsImZmZmZmZmYwZjBmMGQ5ZDlkOWJkYmRiZDk2OTY5NjczNzM3MzUyNTI1MjI1MjUyNTAwMDAwMCIpLm1hcChDdiksRGc9WXYoUmcpLHFnPW5ldyBBcnJheSgzKS5jb25jYXQoImVmZWRmNWJjYmRkYzc1NmJiMSIsImYyZjBmN2NiYzllMjllOWFjODZhNTFhMyIsImYyZjBmN2NiYzllMjllOWFjODc1NmJiMTU0Mjc4ZiIsImYyZjBmN2RhZGFlYmJjYmRkYzllOWFjODc1NmJiMTU0Mjc4ZiIsImYyZjBmN2RhZGFlYmJjYmRkYzllOWFjODgwN2RiYTZhNTFhMzRhMTQ4NiIsImZjZmJmZGVmZWRmNWRhZGFlYmJjYmRkYzllOWFjODgwN2RiYTZhNTFhMzRhMTQ4NiIsImZjZmJmZGVmZWRmNWRhZGFlYmJjYmRkYzllOWFjODgwN2RiYTZhNTFhMzU0Mjc4ZjNmMDA3ZCIpLm1hcChDdiksTGc9WXYocWcpLFVnPW5ldyBBcnJheSgzKS5jb25jYXQoImZlZTBkMmZjOTI3MmRlMmQyNiIsImZlZTVkOWZjYWU5MWZiNmE0YWNiMTgxZCIsImZlZTVkOWZjYWU5MWZiNmE0YWRlMmQyNmE1MGYxNSIsImZlZTVkOWZjYmJhMWZjOTI3MmZiNmE0YWRlMmQyNmE1MGYxNSIsImZlZTVkOWZjYmJhMWZjOTI3MmZiNmE0YWVmM2IyY2NiMTgxZDk5MDAwZCIsImZmZjVmMGZlZTBkMmZjYmJhMWZjOTI3MmZiNmE0YWVmM2IyY2NiMTgxZDk5MDAwZCIsImZmZjVmMGZlZTBkMmZjYmJhMWZjOTI3MmZiNmE0YWVmM2IyY2NiMTgxZGE1MGYxNTY3MDAwZCIpLm1hcChDdiksT2c9WXYoVWcpLEJnPW5ldyBBcnJheSgzKS5jb25jYXQoImZlZTZjZWZkYWU2YmU2NTUwZCIsImZlZWRkZWZkYmU4NWZkOGQzY2Q5NDcwMSIsImZlZWRkZWZkYmU4NWZkOGQzY2U2NTUwZGE2MzYwMyIsImZlZWRkZWZkZDBhMmZkYWU2YmZkOGQzY2U2NTUwZGE2MzYwMyIsImZlZWRkZWZkZDBhMmZkYWU2YmZkOGQzY2YxNjkxM2Q5NDgwMThjMmQwNCIsImZmZjVlYmZlZTZjZWZkZDBhMmZkYWU2YmZkOGQzY2YxNjkxM2Q5NDgwMThjMmQwNCIsImZmZjVlYmZlZTZjZWZkZDBhMmZkYWU2YmZkOGQzY2YxNjkxM2Q5NDgwMWE2MzYwMzdmMjcwNCIpLm1hcChDdiksWWc9WXYoQmcpLEZnPWplKFpuKDMwMCwuNSwwKSxabigtMjQwLC41LDEpKSxJZz1qZShabigtMTAwLC43NSwuMzUpLFpuKDgwLDEuNSwuOCkpLGpnPWplKFpuKDI2MCwuNzUsLjM1KSxabig4MCwxLjUsLjgpKSxIZz1abigpO3ZhciBYZz1nbigpLEdnPU1hdGguUEkvMyxWZz0yKk1hdGguUEkvMztmdW5jdGlvbiAkZyh0KXt2YXIgbj10Lmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRbTWF0aC5tYXgoMCxNYXRoLm1pbihuLTEsTWF0aC5mbG9vcihlKm4pKSldfX12YXIgV2c9JGcoQ3YoIjQ0MDE1NDQ0MDI1NjQ1MDQ1NzQ1MDU1OTQ2MDc1YTQ2MDg1YzQ2MGE1ZDQ2MGI1ZTQ3MGQ2MDQ3MGU2MTQ3MTA2MzQ3MTE2NDQ3MTM2NTQ4MTQ2NzQ4MTY2ODQ4MTc2OTQ4MTg2YTQ4MWE2YzQ4MWI2ZDQ4MWM2ZTQ4MWQ2ZjQ4MWY3MDQ4MjA3MTQ4MjE3MzQ4MjM3NDQ4MjQ3NTQ4MjU3NjQ4MjY3NzQ4Mjg3ODQ4Mjk3OTQ3MmE3YTQ3MmM3YTQ3MmQ3YjQ3MmU3YzQ3MmY3ZDQ2MzA3ZTQ2MzI3ZTQ2MzM3ZjQ2MzQ4MDQ1MzU4MTQ1Mzc4MTQ1Mzg4MjQ0Mzk4MzQ0M2E4MzQ0M2I4NDQzM2Q4NDQzM2U4NTQyM2Y4NTQyNDA4NjQyNDE4NjQxNDI4NzQxNDQ4NzQwNDU4ODQwNDY4ODNmNDc4ODNmNDg4OTNlNDk4OTNlNGE4OTNlNGM4YTNkNGQ4YTNkNGU4YTNjNGY4YTNjNTA4YjNiNTE4YjNiNTI4YjNhNTM4YjNhNTQ4YzM5NTU4YzM5NTY4YzM4NTg4YzM4NTk4YzM3NWE4YzM3NWI4ZDM2NWM4ZDM2NWQ4ZDM1NWU4ZDM1NWY4ZDM0NjA4ZDM0NjE4ZDMzNjI4ZDMzNjM4ZDMyNjQ4ZTMyNjU4ZTMxNjY4ZTMxNjc4ZTMxNjg4ZTMwNjk4ZTMwNmE4ZTJmNmI4ZTJmNmM4ZTJlNmQ4ZTJlNmU4ZTJlNmY4ZTJkNzA4ZTJkNzE4ZTJjNzE4ZTJjNzI4ZTJjNzM4ZTJiNzQ4ZTJiNzU4ZTJhNzY4ZTJhNzc4ZTJhNzg4ZTI5Nzk4ZTI5N2E4ZTI5N2I4ZTI4N2M4ZTI4N2Q4ZTI3N2U4ZTI3N2Y4ZTI3ODA4ZTI2ODE4ZTI2ODI4ZTI2ODI4ZTI1ODM4ZTI1ODQ4ZTI1ODU4ZTI0ODY4ZTI0ODc4ZTIzODg4ZTIzODk4ZTIzOGE4ZDIyOGI4ZDIyOGM4ZDIyOGQ4ZDIxOGU4ZDIxOGY4ZDIxOTA4ZDIxOTE4YzIwOTI4YzIwOTI4YzIwOTM4YzFmOTQ4YzFmOTU4YjFmOTY4YjFmOTc4YjFmOTg4YjFmOTk4YTFmOWE4YTFlOWI4YTFlOWM4OTFlOWQ4OTFmOWU4OTFmOWY4ODFmYTA4ODFmYTE4ODFmYTE4NzFmYTI4NzIwYTM4NjIwYTQ4NjIxYTU4NTIxYTY4NTIyYTc4NTIyYTg4NDIzYTk4MzI0YWE4MzI1YWI4MjI1YWM4MjI2YWQ4MTI3YWQ4MTI4YWU4MDI5YWY3ZjJhYjA3ZjJjYjE3ZTJkYjI3ZDJlYjM3YzJmYjQ3YzMxYjU3YjMyYjY3YTM0YjY3OTM1Yjc3OTM3Yjg3ODM4Yjk3NzNhYmE3NjNiYmI3NTNkYmM3NDNmYmM3MzQwYmQ3MjQyYmU3MTQ0YmY3MDQ2YzA2ZjQ4YzE2ZTRhYzE2ZDRjYzI2YzRlYzM2YjUwYzQ2YTUyYzU2OTU0YzU2ODU2YzY2NzU4Yzc2NTVhYzg2NDVjYzg2MzVlYzk2MjYwY2E2MDYzY2I1ZjY1Y2I1ZTY3Y2M1YzY5Y2Q1YjZjY2Q1YTZlY2U1ODcwY2Y1NzczZDA1Njc1ZDA1NDc3ZDE1MzdhZDE1MTdjZDI1MDdmZDM0ZTgxZDM0ZDg0ZDQ0Yjg2ZDU0OTg5ZDU0ODhiZDY0NjhlZDY0NTkwZDc0MzkzZDc0MTk1ZDg0MDk4ZDgzZTliZDkzYzlkZDkzYmEwZGEzOWEyZGEzN2E1ZGIzNmE4ZGIzNGFhZGMzMmFkZGMzMGIwZGQyZmIyZGQyZGI1ZGUyYmI4ZGUyOWJhZGUyOGJkZGYyNmMwZGYyNWMyZGYyM2M1ZTAyMWM4ZTAyMGNhZTExZmNkZTExZGQwZTExY2QyZTIxYmQ1ZTIxYWQ4ZTIxOWRhZTMxOWRkZTMxOGRmZTMxOGUyZTQxOGU1ZTQxOWU3ZTQxOWVhZTUxYWVjZTUxYmVmZTUxY2YxZTUxZGY0ZTYxZWY2ZTYyMGY4ZTYyMWZiZTcyM2ZkZTcyNSIpKSxaZz0kZyhDdigiMDAwMDA0MDEwMDA1MDEwMTA2MDEwMTA4MDIwMTA5MDIwMjBiMDIwMjBkMDMwMzBmMDMwMzEyMDQwNDE0MDUwNDE2MDYwNTE4MDYwNTFhMDcwNjFjMDgwNzFlMDkwNzIwMGEwODIyMGIwOTI0MGMwOTI2MGQwYTI5MGUwYjJiMTAwYjJkMTEwYzJmMTIwZDMxMTMwZDM0MTQwZTM2MTUwZTM4MTYwZjNiMTgwZjNkMTkxMDNmMWExMDQyMWMxMDQ0MWQxMTQ3MWUxMTQ5MjAxMTRiMjExMTRlMjIxMTUwMjQxMjUzMjUxMjU1MjcxMjU4MjkxMTVhMmExMTVjMmMxMTVmMmQxMTYxMmYxMTYzMzExMTY1MzMxMDY3MzQxMDY5MzYxMDZiMzgxMDZjMzkwZjZlM2IwZjcwM2QwZjcxM2YwZjcyNDAwZjc0NDIwZjc1NDQwZjc2NDUxMDc3NDcxMDc4NDkxMDc4NGExMDc5NGMxMTdhNGUxMTdiNGYxMjdiNTExMjdjNTIxMzdjNTQxMzdkNTYxNDdkNTcxNTdlNTkxNTdlNWExNjdlNWMxNjdmNWQxNzdmNWYxODdmNjAxODgwNjIxOTgwNjQxYTgwNjUxYTgwNjcxYjgwNjgxYzgxNmExYzgxNmIxZDgxNmQxZDgxNmUxZTgxNzAxZjgxNzIxZjgxNzMyMDgxNzUyMTgxNzYyMTgxNzgyMjgxNzkyMjgyN2IyMzgyN2MyMzgyN2UyNDgyODAyNTgyODEyNTgxODMyNjgxODQyNjgxODYyNzgxODgyNzgxODkyODgxOGIyOTgxOGMyOTgxOGUyYTgxOTAyYTgxOTEyYjgxOTMyYjgwOTQyYzgwOTYyYzgwOTgyZDgwOTkyZDgwOWIyZTdmOWMyZTdmOWUyZjdmYTAyZjdmYTEzMDdlYTMzMDdlYTUzMTdlYTYzMTdkYTgzMjdkYWEzMzdkYWIzMzdjYWQzNDdjYWUzNDdiYjAzNTdiYjIzNTdiYjMzNjdhYjUzNjdhYjczNzc5YjgzNzc5YmEzODc4YmMzOTc4YmQzOTc3YmYzYTc3YzAzYTc2YzIzYjc1YzQzYzc1YzUzYzc0YzczZDczYzgzZTczY2EzZTcyY2MzZjcxY2Q0MDcxY2Y0MDcwZDA0MTZmZDI0MjZmZDM0MzZlZDU0NDZkZDY0NTZjZDg0NTZjZDk0NjZiZGI0NzZhZGM0ODY5ZGU0OTY4ZGY0YTY4ZTA0YzY3ZTI0ZDY2ZTM0ZTY1ZTQ0ZjY0ZTU1MDY0ZTc1MjYzZTg1MzYyZTk1NDYyZWE1NjYxZWI1NzYwZWM1ODYwZWQ1YTVmZWU1YjVlZWY1ZDVlZjA1ZjVlZjE2MDVkZjI2MjVkZjI2NDVjZjM2NTVjZjQ2NzVjZjQ2OTVjZjU2YjVjZjY2YzVjZjY2ZTVjZjc3MDVjZjc3MjVjZjg3NDVjZjg3NjVjZjk3ODVkZjk3OTVkZjk3YjVkZmE3ZDVlZmE3ZjVlZmE4MTVmZmI4MzVmZmI4NTYwZmI4NzYxZmM4OTYxZmM4YTYyZmM4YzYzZmM4ZTY0ZmM5MDY1ZmQ5MjY2ZmQ5NDY3ZmQ5NjY4ZmQ5ODY5ZmQ5YTZhZmQ5YjZiZmU5ZDZjZmU5ZjZkZmVhMTZlZmVhMzZmZmVhNTcxZmVhNzcyZmVhOTczZmVhYTc0ZmVhYzc2ZmVhZTc3ZmViMDc4ZmViMjdhZmViNDdiZmViNjdjZmViNzdlZmViOTdmZmViYjgxZmViZDgyZmViZjg0ZmVjMTg1ZmVjMjg3ZmVjNDg4ZmVjNjhhZmVjODhjZmVjYThkZmVjYzhmZmVjZDkwZmVjZjkyZmVkMTk0ZmVkMzk1ZmVkNTk3ZmVkNzk5ZmVkODlhZmRkYTljZmRkYzllZmRkZWEwZmRlMGExZmRlMmEzZmRlM2E1ZmRlNWE3ZmRlN2E5ZmRlOWFhZmRlYmFjZmNlY2FlZmNlZWIwZmNmMGIyZmNmMmI0ZmNmNGI2ZmNmNmI4ZmNmN2I5ZmNmOWJiZmNmYmJkZmNmZGJmIikpLFFnPSRnKEN2KCIwMDAwMDQwMTAwMDUwMTAxMDYwMTAxMDgwMjAxMGEwMjAyMGMwMjAyMGUwMzAyMTAwNDAzMTIwNDAzMTQwNTA0MTcwNjA0MTkwNzA1MWIwODA1MWQwOTA2MWYwYTA3MjIwYjA3MjQwYzA4MjYwZDA4MjkwZTA5MmIxMDA5MmQxMTBhMzAxMjBhMzIxNDBiMzQxNTBiMzcxNjBiMzkxODBjM2MxOTBjM2UxYjBjNDExYzBjNDMxZTBjNDUxZjBjNDgyMTBjNGEyMzBjNGMyNDBjNGYyNjBjNTEyODBiNTMyOTBiNTUyYjBiNTcyZDBiNTkyZjBhNWIzMTBhNWMzMjBhNWUzNDBhNWYzNjA5NjEzODA5NjIzOTA5NjMzYjA5NjQzZDA5NjUzZTA5NjY0MDBhNjc0MjBhNjg0NDBhNjg0NTBhNjk0NzBiNmE0OTBiNmE0YTBjNmI0YzBjNmI0ZDBkNmM0ZjBkNmM1MTBlNmM1MjBlNmQ1NDBmNmQ1NTBmNmQ1NzEwNmU1OTEwNmU1YTExNmU1YzEyNmU1ZDEyNmU1ZjEzNmU2MTEzNmU2MjE0NmU2NDE1NmU2NTE1NmU2NzE2NmU2OTE2NmU2YTE3NmU2YzE4NmU2ZDE4NmU2ZjE5NmU3MTE5NmU3MjFhNmU3NDFhNmU3NTFiNmU3NzFjNmQ3ODFjNmQ3YTFkNmQ3YzFkNmQ3ZDFlNmQ3ZjFlNmM4MDFmNmM4MjIwNmM4NDIwNmI4NTIxNmI4NzIxNmI4ODIyNmE4YTIyNmE4YzIzNjk4ZDIzNjk4ZjI0Njk5MDI1Njg5MjI1Njg5MzI2Njc5NTI2Njc5NzI3NjY5ODI3NjY5YTI4NjU5YjI5NjQ5ZDI5NjQ5ZjJhNjNhMDJhNjNhMjJiNjJhMzJjNjFhNTJjNjBhNjJkNjBhODJlNWZhOTJlNWVhYjJmNWVhZDMwNWRhZTMwNWNiMDMxNWJiMTMyNWFiMzMyNWFiNDMzNTliNjM0NThiNzM1NTdiOTM1NTZiYTM2NTViYzM3NTRiZDM4NTNiZjM5NTJjMDNhNTFjMTNhNTBjMzNiNGZjNDNjNGVjNjNkNGRjNzNlNGNjODNmNGJjYTQwNGFjYjQxNDljYzQyNDhjZTQzNDdjZjQ0NDZkMDQ1NDVkMjQ2NDRkMzQ3NDNkNDQ4NDJkNTRhNDFkNzRiM2ZkODRjM2VkOTRkM2RkYTRlM2NkYjUwM2JkZDUxM2FkZTUyMzhkZjUzMzdlMDU1MzZlMTU2MzVlMjU3MzRlMzU5MzNlNDVhMzFlNTVjMzBlNjVkMmZlNzVlMmVlODYwMmRlOTYxMmJlYTYzMmFlYjY0MjllYjY2MjhlYzY3MjZlZDY5MjVlZTZhMjRlZjZjMjNlZjZlMjFmMDZmMjBmMTcxMWZmMTczMWRmMjc0MWNmMzc2MWJmMzc4MTlmNDc5MThmNTdiMTdmNTdkMTVmNjdlMTRmNjgwMTNmNzgyMTJmNzg0MTBmODg1MGZmODg3MGVmODg5MGNmOThiMGJmOThjMGFmOThlMDlmYTkwMDhmYTkyMDdmYTk0MDdmYjk2MDZmYjk3MDZmYjk5MDZmYjliMDZmYjlkMDdmYzlmMDdmY2ExMDhmY2EzMDlmY2E1MGFmY2E2MGNmY2E4MGRmY2FhMGZmY2FjMTFmY2FlMTJmY2IwMTRmY2IyMTZmY2I0MThmYmI2MWFmYmI4MWRmYmJhMWZmYmJjMjFmYmJlMjNmYWMwMjZmYWMyMjhmYWM0MmFmYWM2MmRmOWM3MmZmOWM5MzJmOWNiMzVmOGNkMzdmOGNmM2FmN2QxM2RmN2QzNDBmNmQ1NDNmNmQ3NDZmNWQ5NDlmNWRiNGNmNGRkNGZmNGRmNTNmNGUxNTZmM2UzNWFmM2U1NWRmMmU2NjFmMmU4NjVmMmVhNjlmMWVjNmRmMWVkNzFmMWVmNzVmMWYxNzlmMmYyN2RmMmY0ODJmM2Y1ODZmM2Y2OGFmNGY4OGVmNWY5OTJmNmZhOTZmOGZiOWFmOWZjOWRmYWZkYTFmY2ZmYTQiKSksSmc9JGcoQ3YoIjBkMDg4NzEwMDc4ODEzMDc4OTE2MDc4YTE5MDY4YzFiMDY4ZDFkMDY4ZTIwMDY4ZjIyMDY5MDI0MDY5MTI2MDU5MTI4MDU5MjJhMDU5MzJjMDU5NDJlMDU5NTJmMDU5NjMxMDU5NzMzMDU5NzM1MDQ5ODM3MDQ5OTM4MDQ5YTNhMDQ5YTNjMDQ5YjNlMDQ5YzNmMDQ5YzQxMDQ5ZDQzMDM5ZTQ0MDM5ZTQ2MDM5ZjQ4MDM5ZjQ5MDNhMDRiMDNhMTRjMDJhMTRlMDJhMjUwMDJhMjUxMDJhMzUzMDJhMzU1MDJhNDU2MDFhNDU4MDFhNDU5MDFhNTViMDFhNTVjMDFhNjVlMDFhNjYwMDFhNjYxMDBhNzYzMDBhNzY0MDBhNzY2MDBhNzY3MDBhODY5MDBhODZhMDBhODZjMDBhODZlMDBhODZmMDBhODcxMDBhODcyMDFhODc0MDFhODc1MDFhODc3MDFhODc4MDFhODdhMDJhODdiMDJhODdkMDNhODdlMDNhODgwMDRhODgxMDRhNzgzMDVhNzg0MDVhNzg2MDZhNjg3MDdhNjg4MDhhNjhhMDlhNThiMGFhNThkMGJhNThlMGNhNDhmMGRhNDkxMGVhMzkyMGZhMzk0MTBhMjk1MTFhMTk2MTNhMTk4MTRhMDk5MTU5ZjlhMTY5ZjljMTc5ZTlkMTg5ZDllMTk5ZGEwMWE5Y2ExMWI5YmEyMWQ5YWEzMWU5YWE1MWY5OWE2MjA5OGE3MjE5N2E4MjI5NmFhMjM5NWFiMjQ5NGFjMjY5NGFkMjc5M2FlMjg5MmIwMjk5MWIxMmE5MGIyMmI4ZmIzMmM4ZWI0MmU4ZGI1MmY4Y2I2MzA4YmI3MzE4YWI4MzI4OWJhMzM4OGJiMzQ4OGJjMzU4N2JkMzc4NmJlMzg4NWJmMzk4NGMwM2E4M2MxM2I4MmMyM2M4MWMzM2Q4MGM0M2U3ZmM1NDA3ZWM2NDE3ZGM3NDI3Y2M4NDM3YmM5NDQ3YWNhNDU3YWNiNDY3OWNjNDc3OGNjNDk3N2NkNGE3NmNlNGI3NWNmNGM3NGQwNGQ3M2QxNGU3MmQyNGY3MWQzNTE3MWQ0NTI3MGQ1NTM2ZmQ1NTQ2ZWQ2NTU2ZGQ3NTY2Y2Q4NTc2YmQ5NTg2YWRhNWE2YWRhNWI2OWRiNWM2OGRjNWQ2N2RkNWU2NmRlNWY2NWRlNjE2NGRmNjI2M2UwNjM2M2UxNjQ2MmUyNjU2MWUyNjY2MGUzNjg1ZmU0Njk1ZWU1NmE1ZGU1NmI1ZGU2NmM1Y2U3NmU1YmU3NmY1YWU4NzA1OWU5NzE1OGU5NzI1N2VhNzQ1N2ViNzU1NmViNzY1NWVjNzc1NGVkNzk1M2VkN2E1MmVlN2I1MWVmN2M1MWVmN2U1MGYwN2Y0ZmYwODA0ZWYxODE0ZGYxODM0Y2YyODQ0YmYzODU0YmYzODc0YWY0ODg0OWY0ODk0OGY1OGI0N2Y1OGM0NmY2OGQ0NWY2OGY0NGY3OTA0NGY3OTE0M2Y3OTM0MmY4OTQ0MWY4OTU0MGY5OTczZmY5OTgzZWY5OWEzZWZhOWIzZGZhOWMzY2ZhOWUzYmZiOWYzYWZiYTEzOWZiYTIzOGZjYTMzOGZjYTUzN2ZjYTYzNmZjYTgzNWZjYTkzNGZkYWIzM2ZkYWMzM2ZkYWUzMmZkYWYzMWZkYjEzMGZkYjIyZmZkYjQyZmZkYjUyZWZlYjcyZGZlYjgyY2ZlYmEyY2ZlYmIyYmZlYmQyYWZlYmUyYWZlYzAyOWZkYzIyOWZkYzMyOGZkYzUyN2ZkYzYyN2ZkYzgyN2ZkY2EyNmZkY2IyNmZjY2QyNWZjY2UyNWZjZDAyNWZjZDIyNWZiZDMyNGZiZDUyNGZiZDcyNGZhZDgyNGZhZGEyNGY5ZGMyNGY5ZGQyNWY4ZGYyNWY4ZTEyNWY3ZTIyNWY3ZTQyNWY2ZTYyNmY2ZTgyNmY1ZTkyNmY1ZWIyN2Y0ZWQyN2YzZWUyN2YzZjAyN2YyZjIyN2YxZjQyNmYxZjUyNWYwZjcyNGYwZjkyMSIpKTtmdW5jdGlvbiBLZyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19dmFyIHR5PU1hdGguYWJzLG55PU1hdGguYXRhbjIsZXk9TWF0aC5jb3Mscnk9TWF0aC5tYXgsaXk9TWF0aC5taW4sb3k9TWF0aC5zaW4sYXk9TWF0aC5zcXJ0LHV5PTFlLTEyLGN5PU1hdGguUEksZnk9Y3kvMixzeT0yKmN5O2Z1bmN0aW9uIGx5KHQpe3JldHVybiB0Pj0xP2Z5OnQ8PS0xPy1meTpNYXRoLmFzaW4odCl9ZnVuY3Rpb24gaHkodCl7cmV0dXJuIHQuaW5uZXJSYWRpdXN9ZnVuY3Rpb24gZHkodCl7cmV0dXJuIHQub3V0ZXJSYWRpdXN9ZnVuY3Rpb24gcHkodCl7cmV0dXJuIHQuc3RhcnRBbmdsZX1mdW5jdGlvbiB2eSh0KXtyZXR1cm4gdC5lbmRBbmdsZX1mdW5jdGlvbiBneSh0KXtyZXR1cm4gdCYmdC5wYWRBbmdsZX1mdW5jdGlvbiB5eSh0LG4sZSxyLGksbyxhKXt2YXIgdT10LWUsYz1uLXIsZj0oYT9vOi1vKS9heSh1KnUrYypjKSxzPWYqYyxsPS1mKnUsaD10K3MsZD1uK2wscD1lK3Msdj1yK2wsZz0oaCtwKS8yLHk9KGQrdikvMixfPXAtaCxiPXYtZCxtPV8qXytiKmIseD1pLW8sdz1oKnYtcCpkLE09KGI8MD8tMToxKSpheShyeSgwLHgqeCptLXcqdykpLE49KHcqYi1fKk0pL20sQT0oLXcqXy1iKk0pL20sVD0odypiK18qTSkvbSxTPSgtdypfK2IqTSkvbSxrPU4tZyxFPUEteSxDPVQtZyxQPVMteTtyZXR1cm4gayprK0UqRT5DKkMrUCpQJiYoTj1ULEE9Uykse2N4Ok4sY3k6QSx4MDE6LXMseTAxOi1sLHgxMTpOKihpL3gtMSkseTExOkEqKGkveC0xKX19ZnVuY3Rpb24gX3kodCl7dGhpcy5fY29udGV4dD10fWZ1bmN0aW9uIGJ5KHQpe3JldHVybiBuZXcgX3kodCl9ZnVuY3Rpb24gbXkodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24geHkodCl7cmV0dXJuIHRbMV19ZnVuY3Rpb24gd3koKXt2YXIgdD1teSxuPXh5LGU9S2coITApLHI9bnVsbCxpPWJ5LG89bnVsbDtmdW5jdGlvbiBhKGEpe3ZhciB1LGMsZixzPWEubGVuZ3RoLGw9ITE7Zm9yKG51bGw9PXImJihvPWkoZj1IaSgpKSksdT0wO3U8PXM7Kyt1KSEodTxzJiZlKGM9YVt1XSx1LGEpKT09PWwmJigobD0hbCk/by5saW5lU3RhcnQoKTpvLmxpbmVFbmQoKSksbCYmby5wb2ludCgrdChjLHUsYSksK24oYyx1LGEpKTtpZihmKXJldHVybiBvPW51bGwsZisiInx8bnVsbH1yZXR1cm4gYS54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246S2coK24pLGEpOnR9LGEueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OktnKCt0KSxhKTpufSxhLmRlZmluZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZyghIXQpLGEpOmV9LGEuY3VydmU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dCxudWxsIT1yJiYobz1pKHIpKSxhKTppfSxhLmNvbnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG51bGw9PXQ/cj1vPW51bGw6bz1pKHI9dCksYSk6cn0sYX1mdW5jdGlvbiBNeSgpe3ZhciB0PW15LG49bnVsbCxlPUtnKDApLHI9eHksaT1LZyghMCksbz1udWxsLGE9YnksdT1udWxsO2Z1bmN0aW9uIGMoYyl7dmFyIGYscyxsLGgsZCxwPWMubGVuZ3RoLHY9ITEsZz1uZXcgQXJyYXkocCkseT1uZXcgQXJyYXkocCk7Zm9yKG51bGw9PW8mJih1PWEoZD1IaSgpKSksZj0wO2Y8PXA7KytmKXtpZighKGY8cCYmaShoPWNbZl0sZixjKSk9PT12KWlmKHY9IXYpcz1mLHUuYXJlYVN0YXJ0KCksdS5saW5lU3RhcnQoKTtlbHNle2Zvcih1LmxpbmVFbmQoKSx1LmxpbmVTdGFydCgpLGw9Zi0xO2w+PXM7LS1sKXUucG9pbnQoZ1tsXSx5W2xdKTt1LmxpbmVFbmQoKSx1LmFyZWFFbmQoKX12JiYoZ1tmXT0rdChoLGYsYykseVtmXT0rZShoLGYsYyksdS5wb2ludChuPytuKGgsZixjKTpnW2ZdLHI/K3IoaCxmLGMpOnlbZl0pKX1pZihkKXJldHVybiB1PW51bGwsZCsiInx8bnVsbH1mdW5jdGlvbiBmKCl7cmV0dXJuIHd5KCkuZGVmaW5lZChpKS5jdXJ2ZShhKS5jb250ZXh0KG8pfXJldHVybiBjLng9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpLZygrZSksbj1udWxsLGMpOnR9LGMueDA9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpLZygrbiksYyk6dH0sYy54MT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1udWxsPT10P251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYyk6bn0sYy55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLHI9bnVsbCxjKTplfSxjLnkwPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLGMpOmV9LGMueTE9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bnVsbD09dD9udWxsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLGMpOnJ9LGMubGluZVgwPWMubGluZVkwPWZ1bmN0aW9uKCl7cmV0dXJuIGYoKS54KHQpLnkoZSl9LGMubGluZVkxPWZ1bmN0aW9uKCl7cmV0dXJuIGYoKS54KHQpLnkocil9LGMubGluZVgxPWZ1bmN0aW9uKCl7cmV0dXJuIGYoKS54KG4pLnkoZSl9LGMuZGVmaW5lZD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OktnKCEhdCksYyk6aX0sYy5jdXJ2ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT10LG51bGwhPW8mJih1PWEobykpLGMpOmF9LGMuY29udGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obnVsbD09dD9vPXU9bnVsbDp1PWEobz10KSxjKTpvfSxjfWZ1bmN0aW9uIE55KHQsbil7cmV0dXJuIG48dD8tMTpuPnQ/MTpuPj10PzA6TmFOfWZ1bmN0aW9uIEF5KHQpe3JldHVybiB0fV95LnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3BvaW50PTB9LGxpbmVFbmQ6ZnVuY3Rpb24oKXsodGhpcy5fbGluZXx8MCE9PXRoaXMuX2xpbmUmJjE9PT10aGlzLl9wb2ludCkmJnRoaXMuX2NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5fbGluZT0xLXRoaXMuX2xpbmV9LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTEsdGhpcy5fbGluZT90aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pOnRoaXMuX2NvbnRleHQubW92ZVRvKHQsbik7YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTI7ZGVmYXVsdDp0aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pfX19O3ZhciBUeT1reShieSk7ZnVuY3Rpb24gU3kodCl7dGhpcy5fY3VydmU9dH1mdW5jdGlvbiBreSh0KXtmdW5jdGlvbiBuKG4pe3JldHVybiBuZXcgU3kodChuKSl9cmV0dXJuIG4uX2N1cnZlPXQsbn1mdW5jdGlvbiBFeSh0KXt2YXIgbj10LmN1cnZlO3JldHVybiB0LmFuZ2xlPXQueCxkZWxldGUgdC54LHQucmFkaXVzPXQueSxkZWxldGUgdC55LHQuY3VydmU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bihreSh0KSk6bigpLl9jdXJ2ZX0sdH1mdW5jdGlvbiBDeSgpe3JldHVybiBFeSh3eSgpLmN1cnZlKFR5KSl9ZnVuY3Rpb24gUHkoKXt2YXIgdD1NeSgpLmN1cnZlKFR5KSxuPXQuY3VydmUsZT10LmxpbmVYMCxyPXQubGluZVgxLGk9dC5saW5lWTAsbz10LmxpbmVZMTtyZXR1cm4gdC5hbmdsZT10LngsZGVsZXRlIHQueCx0LnN0YXJ0QW5nbGU9dC54MCxkZWxldGUgdC54MCx0LmVuZEFuZ2xlPXQueDEsZGVsZXRlIHQueDEsdC5yYWRpdXM9dC55LGRlbGV0ZSB0LnksdC5pbm5lclJhZGl1cz10LnkwLGRlbGV0ZSB0LnkwLHQub3V0ZXJSYWRpdXM9dC55MSxkZWxldGUgdC55MSx0LmxpbmVTdGFydEFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIEV5KGUoKSl9LGRlbGV0ZSB0LmxpbmVYMCx0LmxpbmVFbmRBbmdsZT1mdW5jdGlvbigpe3JldHVybiBFeShyKCkpfSxkZWxldGUgdC5saW5lWDEsdC5saW5lSW5uZXJSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gRXkoaSgpKX0sZGVsZXRlIHQubGluZVkwLHQubGluZU91dGVyUmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIEV5KG8oKSl9LGRlbGV0ZSB0LmxpbmVZMSx0LmN1cnZlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP24oa3kodCkpOm4oKS5fY3VydmV9LHR9ZnVuY3Rpb24genkodCxuKXtyZXR1cm5bKG49K24pKk1hdGguY29zKHQtPU1hdGguUEkvMiksbipNYXRoLnNpbih0KV19U3kucHJvdG90eXBlPXthcmVhU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl9jdXJ2ZS5hcmVhU3RhcnQoKX0sYXJlYUVuZDpmdW5jdGlvbigpe3RoaXMuX2N1cnZlLmFyZWFFbmQoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fY3VydmUubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt0aGlzLl9jdXJ2ZS5saW5lRW5kKCl9LHBvaW50OmZ1bmN0aW9uKHQsbil7dGhpcy5fY3VydmUucG9pbnQobipNYXRoLnNpbih0KSxuKi1NYXRoLmNvcyh0KSl9fTt2YXIgUnk9QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIER5KHQpe3JldHVybiB0LnNvdXJjZX1mdW5jdGlvbiBxeSh0KXtyZXR1cm4gdC50YXJnZXR9ZnVuY3Rpb24gTHkodCl7dmFyIG49RHksZT1xeSxyPW15LGk9eHksbz1udWxsO2Z1bmN0aW9uIGEoKXt2YXIgYSx1PVJ5LmNhbGwoYXJndW1lbnRzKSxjPW4uYXBwbHkodGhpcyx1KSxmPWUuYXBwbHkodGhpcyx1KTtpZihvfHwobz1hPUhpKCkpLHQobywrci5hcHBseSh0aGlzLCh1WzBdPWMsdSkpLCtpLmFwcGx5KHRoaXMsdSksK3IuYXBwbHkodGhpcywodVswXT1mLHUpKSwraS5hcHBseSh0aGlzLHUpKSxhKXJldHVybiBvPW51bGwsYSsiInx8bnVsbH1yZXR1cm4gYS5zb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dCxhKTpufSxhLnRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LGEpOmV9LGEueD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OktnKCt0KSxhKTpyfSxhLnk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYSk6aX0sYS5jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPW51bGw9PXQ/bnVsbDp0LGEpOm99LGF9ZnVuY3Rpb24gVXkodCxuLGUscixpKXt0Lm1vdmVUbyhuLGUpLHQuYmV6aWVyQ3VydmVUbyhuPShuK3IpLzIsZSxuLGkscixpKX1mdW5jdGlvbiBPeSh0LG4sZSxyLGkpe3QubW92ZVRvKG4sZSksdC5iZXppZXJDdXJ2ZVRvKG4sZT0oZStpKS8yLHIsZSxyLGkpfWZ1bmN0aW9uIEJ5KHQsbixlLHIsaSl7dmFyIG89enkobixlKSxhPXp5KG4sZT0oZStpKS8yKSx1PXp5KHIsZSksYz16eShyLGkpO3QubW92ZVRvKG9bMF0sb1sxXSksdC5iZXppZXJDdXJ2ZVRvKGFbMF0sYVsxXSx1WzBdLHVbMV0sY1swXSxjWzFdKX12YXIgWXk9e2RyYXc6ZnVuY3Rpb24odCxuKXt2YXIgZT1NYXRoLnNxcnQobi9jeSk7dC5tb3ZlVG8oZSwwKSx0LmFyYygwLDAsZSwwLHN5KX19LEZ5PXtkcmF3OmZ1bmN0aW9uKHQsbil7dmFyIGU9TWF0aC5zcXJ0KG4vNSkvMjt0Lm1vdmVUbygtMyplLC1lKSx0LmxpbmVUbygtZSwtZSksdC5saW5lVG8oLWUsLTMqZSksdC5saW5lVG8oZSwtMyplKSx0LmxpbmVUbyhlLC1lKSx0LmxpbmVUbygzKmUsLWUpLHQubGluZVRvKDMqZSxlKSx0LmxpbmVUbyhlLGUpLHQubGluZVRvKGUsMyplKSx0LmxpbmVUbygtZSwzKmUpLHQubGluZVRvKC1lLGUpLHQubGluZVRvKC0zKmUsZSksdC5jbG9zZVBhdGgoKX19LEl5PU1hdGguc3FydCgxLzMpLGp5PTIqSXksSHk9e2RyYXc6ZnVuY3Rpb24odCxuKXt2YXIgZT1NYXRoLnNxcnQobi9qeSkscj1lKkl5O3QubW92ZVRvKDAsLWUpLHQubGluZVRvKHIsMCksdC5saW5lVG8oMCxlKSx0LmxpbmVUbygtciwwKSx0LmNsb3NlUGF0aCgpfX0sWHk9TWF0aC5zaW4oY3kvMTApL01hdGguc2luKDcqY3kvMTApLEd5PU1hdGguc2luKHN5LzEwKSpYeSxWeT0tTWF0aC5jb3Moc3kvMTApKlh5LCR5PXtkcmF3OmZ1bmN0aW9uKHQsbil7dmFyIGU9TWF0aC5zcXJ0KC44OTA4MTMwOTE1MjkyODUyKm4pLHI9R3kqZSxpPVZ5KmU7dC5tb3ZlVG8oMCwtZSksdC5saW5lVG8ocixpKTtmb3IodmFyIG89MTtvPDU7KytvKXt2YXIgYT1zeSpvLzUsdT1NYXRoLmNvcyhhKSxjPU1hdGguc2luKGEpO3QubGluZVRvKGMqZSwtdSplKSx0LmxpbmVUbyh1KnItYyppLGMqcit1KmkpfXQuY2xvc2VQYXRoKCl9fSxXeT17ZHJhdzpmdW5jdGlvbih0LG4pe3ZhciBlPU1hdGguc3FydChuKSxyPS1lLzI7dC5yZWN0KHIscixlLGUpfX0sWnk9TWF0aC5zcXJ0KDMpLFF5PXtkcmF3OmZ1bmN0aW9uKHQsbil7dmFyIGU9LU1hdGguc3FydChuLygzKlp5KSk7dC5tb3ZlVG8oMCwyKmUpLHQubGluZVRvKC1aeSplLC1lKSx0LmxpbmVUbyhaeSplLC1lKSx0LmNsb3NlUGF0aCgpfX0sSnk9TWF0aC5zcXJ0KDMpLzIsS3k9MS9NYXRoLnNxcnQoMTIpLHRfPTMqKEt5LzIrMSksbl89e2RyYXc6ZnVuY3Rpb24odCxuKXt2YXIgZT1NYXRoLnNxcnQobi90Xykscj1lLzIsaT1lKkt5LG89cixhPWUqS3krZSx1PS1vLGM9YTt0Lm1vdmVUbyhyLGkpLHQubGluZVRvKG8sYSksdC5saW5lVG8odSxjKSx0LmxpbmVUbygtLjUqci1KeSppLEp5KnIrLS41KmkpLHQubGluZVRvKC0uNSpvLUp5KmEsSnkqbystLjUqYSksdC5saW5lVG8oLS41KnUtSnkqYyxKeSp1Ky0uNSpjKSx0LmxpbmVUbygtLjUqcitKeSppLC0uNSppLUp5KnIpLHQubGluZVRvKC0uNSpvK0p5KmEsLS41KmEtSnkqbyksdC5saW5lVG8oLS41KnUrSnkqYywtLjUqYy1KeSp1KSx0LmNsb3NlUGF0aCgpfX0sZV89W1l5LEZ5LEh5LFd5LCR5LFF5LG5fXTtmdW5jdGlvbiByXygpe31mdW5jdGlvbiBpXyh0LG4sZSl7dC5fY29udGV4dC5iZXppZXJDdXJ2ZVRvKCgyKnQuX3gwK3QuX3gxKS8zLCgyKnQuX3kwK3QuX3kxKS8zLCh0Ll94MCsyKnQuX3gxKS8zLCh0Ll95MCsyKnQuX3kxKS8zLCh0Ll94MCs0KnQuX3gxK24pLzYsKHQuX3kwKzQqdC5feTErZSkvNil9ZnVuY3Rpb24gb18odCl7dGhpcy5fY29udGV4dD10fWZ1bmN0aW9uIGFfKHQpe3RoaXMuX2NvbnRleHQ9dH1mdW5jdGlvbiB1Xyh0KXt0aGlzLl9jb250ZXh0PXR9ZnVuY3Rpb24gY18odCxuKXt0aGlzLl9iYXNpcz1uZXcgb18odCksdGhpcy5fYmV0YT1ufW9fLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3gwPXRoaXMuX3gxPXRoaXMuX3kwPXRoaXMuX3kxPU5hTix0aGlzLl9wb2ludD0wfSxsaW5lRW5kOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX3BvaW50KXtjYXNlIDM6aV8odGhpcyx0aGlzLl94MSx0aGlzLl95MSk7Y2FzZSAyOnRoaXMuX2NvbnRleHQubGluZVRvKHRoaXMuX3gxLHRoaXMuX3kxKX0odGhpcy5fbGluZXx8MCE9PXRoaXMuX2xpbmUmJjE9PT10aGlzLl9wb2ludCkmJnRoaXMuX2NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5fbGluZT0xLXRoaXMuX2xpbmV9LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTEsdGhpcy5fbGluZT90aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pOnRoaXMuX2NvbnRleHQubW92ZVRvKHQsbik7YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTI7YnJlYWs7Y2FzZSAyOnRoaXMuX3BvaW50PTMsdGhpcy5fY29udGV4dC5saW5lVG8oKDUqdGhpcy5feDArdGhpcy5feDEpLzYsKDUqdGhpcy5feTArdGhpcy5feTEpLzYpO2RlZmF1bHQ6aV8odGhpcyx0LG4pfXRoaXMuX3gwPXRoaXMuX3gxLHRoaXMuX3gxPXQsdGhpcy5feTA9dGhpcy5feTEsdGhpcy5feTE9bn19LGFfLnByb3RvdHlwZT17YXJlYVN0YXJ0OnJfLGFyZWFFbmQ6cl8sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5feDA9dGhpcy5feDE9dGhpcy5feDI9dGhpcy5feDM9dGhpcy5feDQ9dGhpcy5feTA9dGhpcy5feTE9dGhpcy5feTI9dGhpcy5feTM9dGhpcy5feTQ9TmFOLHRoaXMuX3BvaW50PTB9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fcG9pbnQpe2Nhc2UgMTp0aGlzLl9jb250ZXh0Lm1vdmVUbyh0aGlzLl94Mix0aGlzLl95MiksdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKTticmVhaztjYXNlIDI6dGhpcy5fY29udGV4dC5tb3ZlVG8oKHRoaXMuX3gyKzIqdGhpcy5feDMpLzMsKHRoaXMuX3kyKzIqdGhpcy5feTMpLzMpLHRoaXMuX2NvbnRleHQubGluZVRvKCh0aGlzLl94MysyKnRoaXMuX3gyKS8zLCh0aGlzLl95MysyKnRoaXMuX3kyKS8zKSx0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UgMzp0aGlzLnBvaW50KHRoaXMuX3gyLHRoaXMuX3kyKSx0aGlzLnBvaW50KHRoaXMuX3gzLHRoaXMuX3kzKSx0aGlzLnBvaW50KHRoaXMuX3g0LHRoaXMuX3k0KX19LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTEsdGhpcy5feDI9dCx0aGlzLl95Mj1uO2JyZWFrO2Nhc2UgMTp0aGlzLl9wb2ludD0yLHRoaXMuX3gzPXQsdGhpcy5feTM9bjticmVhaztjYXNlIDI6dGhpcy5fcG9pbnQ9Myx0aGlzLl94ND10LHRoaXMuX3k0PW4sdGhpcy5fY29udGV4dC5tb3ZlVG8oKHRoaXMuX3gwKzQqdGhpcy5feDErdCkvNiwodGhpcy5feTArNCp0aGlzLl95MStuKS82KTticmVhaztkZWZhdWx0OmlfKHRoaXMsdCxuKX10aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPW59fSx1Xy5wcm90b3R5cGU9e2FyZWFTdGFydDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9MH0sYXJlYUVuZDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9TmFOfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl94MD10aGlzLl94MT10aGlzLl95MD10aGlzLl95MT1OYU4sdGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpeyh0aGlzLl9saW5lfHwwIT09dGhpcy5fbGluZSYmMz09PXRoaXMuX3BvaW50KSYmdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLl9saW5lPTEtdGhpcy5fbGluZX0scG9pbnQ6ZnVuY3Rpb24odCxuKXtzd2l0Y2godD0rdCxuPStuLHRoaXMuX3BvaW50KXtjYXNlIDA6dGhpcy5fcG9pbnQ9MTticmVhaztjYXNlIDE6dGhpcy5fcG9pbnQ9MjticmVhaztjYXNlIDI6dGhpcy5fcG9pbnQ9Mzt2YXIgZT0odGhpcy5feDArNCp0aGlzLl94MSt0KS82LHI9KHRoaXMuX3kwKzQqdGhpcy5feTErbikvNjt0aGlzLl9saW5lP3RoaXMuX2NvbnRleHQubGluZVRvKGUscik6dGhpcy5fY29udGV4dC5tb3ZlVG8oZSxyKTticmVhaztjYXNlIDM6dGhpcy5fcG9pbnQ9NDtkZWZhdWx0OmlfKHRoaXMsdCxuKX10aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPW59fSxjXy5wcm90b3R5cGU9e2xpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3g9W10sdGhpcy5feT1bXSx0aGlzLl9iYXNpcy5saW5lU3RhcnQoKX0sbGluZUVuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3gsbj10aGlzLl95LGU9dC5sZW5ndGgtMTtpZihlPjApZm9yKHZhciByLGk9dFswXSxvPW5bMF0sYT10W2VdLWksdT1uW2VdLW8sYz0tMTsrK2M8PWU7KXI9Yy9lLHRoaXMuX2Jhc2lzLnBvaW50KHRoaXMuX2JldGEqdFtjXSsoMS10aGlzLl9iZXRhKSooaStyKmEpLHRoaXMuX2JldGEqbltjXSsoMS10aGlzLl9iZXRhKSoobytyKnUpKTt0aGlzLl94PXRoaXMuX3k9bnVsbCx0aGlzLl9iYXNpcy5saW5lRW5kKCl9LHBvaW50OmZ1bmN0aW9uKHQsbil7dGhpcy5feC5wdXNoKCt0KSx0aGlzLl95LnB1c2goK24pfX07dmFyIGZfPWZ1bmN0aW9uIHQobil7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gMT09PW4/bmV3IG9fKHQpOm5ldyBjXyh0LG4pfXJldHVybiBlLmJldGE9ZnVuY3Rpb24obil7cmV0dXJuIHQoK24pfSxlfSguODUpO2Z1bmN0aW9uIHNfKHQsbixlKXt0Ll9jb250ZXh0LmJlemllckN1cnZlVG8odC5feDErdC5fayoodC5feDItdC5feDApLHQuX3kxK3QuX2sqKHQuX3kyLXQuX3kwKSx0Ll94Mit0Ll9rKih0Ll94MS1uKSx0Ll95Mit0Ll9rKih0Ll95MS1lKSx0Ll94Mix0Ll95Mil9ZnVuY3Rpb24gbF8odCxuKXt0aGlzLl9jb250ZXh0PXQsdGhpcy5faz0oMS1uKS82fWxfLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3gwPXRoaXMuX3gxPXRoaXMuX3gyPXRoaXMuX3kwPXRoaXMuX3kxPXRoaXMuX3kyPU5hTix0aGlzLl9wb2ludD0wfSxsaW5lRW5kOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX3BvaW50KXtjYXNlIDI6dGhpcy5fY29udGV4dC5saW5lVG8odGhpcy5feDIsdGhpcy5feTIpO2JyZWFrO2Nhc2UgMzpzXyh0aGlzLHRoaXMuX3gxLHRoaXMuX3kxKX0odGhpcy5fbGluZXx8MCE9PXRoaXMuX2xpbmUmJjE9PT10aGlzLl9wb2ludCkmJnRoaXMuX2NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5fbGluZT0xLXRoaXMuX2xpbmV9LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTEsdGhpcy5fbGluZT90aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pOnRoaXMuX2NvbnRleHQubW92ZVRvKHQsbik7YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTIsdGhpcy5feDE9dCx0aGlzLl95MT1uO2JyZWFrO2Nhc2UgMjp0aGlzLl9wb2ludD0zO2RlZmF1bHQ6c18odGhpcyx0LG4pfXRoaXMuX3gwPXRoaXMuX3gxLHRoaXMuX3gxPXRoaXMuX3gyLHRoaXMuX3gyPXQsdGhpcy5feTA9dGhpcy5feTEsdGhpcy5feTE9dGhpcy5feTIsdGhpcy5feTI9bn19O3ZhciBoXz1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7cmV0dXJuIG5ldyBsXyh0LG4pfXJldHVybiBlLnRlbnNpb249ZnVuY3Rpb24obil7cmV0dXJuIHQoK24pfSxlfSgwKTtmdW5jdGlvbiBkXyh0LG4pe3RoaXMuX2NvbnRleHQ9dCx0aGlzLl9rPSgxLW4pLzZ9ZF8ucHJvdG90eXBlPXthcmVhU3RhcnQ6cl8sYXJlYUVuZDpyXyxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl94MD10aGlzLl94MT10aGlzLl94Mj10aGlzLl94Mz10aGlzLl94ND10aGlzLl94NT10aGlzLl95MD10aGlzLl95MT10aGlzLl95Mj10aGlzLl95Mz10aGlzLl95ND10aGlzLl95NT1OYU4sdGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLl9wb2ludCl7Y2FzZSAxOnRoaXMuX2NvbnRleHQubW92ZVRvKHRoaXMuX3gzLHRoaXMuX3kzKSx0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9jb250ZXh0LmxpbmVUbyh0aGlzLl94Myx0aGlzLl95MyksdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKTticmVhaztjYXNlIDM6dGhpcy5wb2ludCh0aGlzLl94Myx0aGlzLl95MyksdGhpcy5wb2ludCh0aGlzLl94NCx0aGlzLl95NCksdGhpcy5wb2ludCh0aGlzLl94NSx0aGlzLl95NSl9fSxwb2ludDpmdW5jdGlvbih0LG4pe3N3aXRjaCh0PSt0LG49K24sdGhpcy5fcG9pbnQpe2Nhc2UgMDp0aGlzLl9wb2ludD0xLHRoaXMuX3gzPXQsdGhpcy5feTM9bjticmVhaztjYXNlIDE6dGhpcy5fcG9pbnQ9Mix0aGlzLl9jb250ZXh0Lm1vdmVUbyh0aGlzLl94ND10LHRoaXMuX3k0PW4pO2JyZWFrO2Nhc2UgMjp0aGlzLl9wb2ludD0zLHRoaXMuX3g1PXQsdGhpcy5feTU9bjticmVhaztkZWZhdWx0OnNfKHRoaXMsdCxuKX10aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10aGlzLl94Mix0aGlzLl94Mj10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPXRoaXMuX3kyLHRoaXMuX3kyPW59fTt2YXIgcF89ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiBuZXcgZF8odCxuKX1yZXR1cm4gZS50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiB0KCtuKX0sZX0oMCk7ZnVuY3Rpb24gdl8odCxuKXt0aGlzLl9jb250ZXh0PXQsdGhpcy5faz0oMS1uKS82fXZfLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3gwPXRoaXMuX3gxPXRoaXMuX3gyPXRoaXMuX3kwPXRoaXMuX3kxPXRoaXMuX3kyPU5hTix0aGlzLl9wb2ludD0wfSxsaW5lRW5kOmZ1bmN0aW9uKCl7KHRoaXMuX2xpbmV8fDAhPT10aGlzLl9saW5lJiYzPT09dGhpcy5fcG9pbnQpJiZ0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuX2xpbmU9MS10aGlzLl9saW5lfSxwb2ludDpmdW5jdGlvbih0LG4pe3N3aXRjaCh0PSt0LG49K24sdGhpcy5fcG9pbnQpe2Nhc2UgMDp0aGlzLl9wb2ludD0xO2JyZWFrO2Nhc2UgMTp0aGlzLl9wb2ludD0yO2JyZWFrO2Nhc2UgMjp0aGlzLl9wb2ludD0zLHRoaXMuX2xpbmU/dGhpcy5fY29udGV4dC5saW5lVG8odGhpcy5feDIsdGhpcy5feTIpOnRoaXMuX2NvbnRleHQubW92ZVRvKHRoaXMuX3gyLHRoaXMuX3kyKTticmVhaztjYXNlIDM6dGhpcy5fcG9pbnQ9NDtkZWZhdWx0OnNfKHRoaXMsdCxuKX10aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10aGlzLl94Mix0aGlzLl94Mj10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPXRoaXMuX3kyLHRoaXMuX3kyPW59fTt2YXIgZ189ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiBuZXcgdl8odCxuKX1yZXR1cm4gZS50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiB0KCtuKX0sZX0oMCk7ZnVuY3Rpb24geV8odCxuLGUpe3ZhciByPXQuX3gxLGk9dC5feTEsbz10Ll94MixhPXQuX3kyO2lmKHQuX2wwMV9hPnV5KXt2YXIgdT0yKnQuX2wwMV8yYSszKnQuX2wwMV9hKnQuX2wxMl9hK3QuX2wxMl8yYSxjPTMqdC5fbDAxX2EqKHQuX2wwMV9hK3QuX2wxMl9hKTtyPShyKnUtdC5feDAqdC5fbDEyXzJhK3QuX3gyKnQuX2wwMV8yYSkvYyxpPShpKnUtdC5feTAqdC5fbDEyXzJhK3QuX3kyKnQuX2wwMV8yYSkvY31pZih0Ll9sMjNfYT51eSl7dmFyIGY9Mip0Ll9sMjNfMmErMyp0Ll9sMjNfYSp0Ll9sMTJfYSt0Ll9sMTJfMmEscz0zKnQuX2wyM19hKih0Ll9sMjNfYSt0Ll9sMTJfYSk7bz0obypmK3QuX3gxKnQuX2wyM18yYS1uKnQuX2wxMl8yYSkvcyxhPShhKmYrdC5feTEqdC5fbDIzXzJhLWUqdC5fbDEyXzJhKS9zfXQuX2NvbnRleHQuYmV6aWVyQ3VydmVUbyhyLGksbyxhLHQuX3gyLHQuX3kyKX1mdW5jdGlvbiBfXyh0LG4pe3RoaXMuX2NvbnRleHQ9dCx0aGlzLl9hbHBoYT1ufV9fLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3gwPXRoaXMuX3gxPXRoaXMuX3gyPXRoaXMuX3kwPXRoaXMuX3kxPXRoaXMuX3kyPU5hTix0aGlzLl9sMDFfYT10aGlzLl9sMTJfYT10aGlzLl9sMjNfYT10aGlzLl9sMDFfMmE9dGhpcy5fbDEyXzJhPXRoaXMuX2wyM18yYT10aGlzLl9wb2ludD0wfSxsaW5lRW5kOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX3BvaW50KXtjYXNlIDI6dGhpcy5fY29udGV4dC5saW5lVG8odGhpcy5feDIsdGhpcy5feTIpO2JyZWFrO2Nhc2UgMzp0aGlzLnBvaW50KHRoaXMuX3gyLHRoaXMuX3kyKX0odGhpcy5fbGluZXx8MCE9PXRoaXMuX2xpbmUmJjE9PT10aGlzLl9wb2ludCkmJnRoaXMuX2NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5fbGluZT0xLXRoaXMuX2xpbmV9LHBvaW50OmZ1bmN0aW9uKHQsbil7aWYodD0rdCxuPStuLHRoaXMuX3BvaW50KXt2YXIgZT10aGlzLl94Mi10LHI9dGhpcy5feTItbjt0aGlzLl9sMjNfYT1NYXRoLnNxcnQodGhpcy5fbDIzXzJhPU1hdGgucG93KGUqZStyKnIsdGhpcy5fYWxwaGEpKX1zd2l0Y2godGhpcy5fcG9pbnQpe2Nhc2UgMDp0aGlzLl9wb2ludD0xLHRoaXMuX2xpbmU/dGhpcy5fY29udGV4dC5saW5lVG8odCxuKTp0aGlzLl9jb250ZXh0Lm1vdmVUbyh0LG4pO2JyZWFrO2Nhc2UgMTp0aGlzLl9wb2ludD0yO2JyZWFrO2Nhc2UgMjp0aGlzLl9wb2ludD0zO2RlZmF1bHQ6eV8odGhpcyx0LG4pfXRoaXMuX2wwMV9hPXRoaXMuX2wxMl9hLHRoaXMuX2wxMl9hPXRoaXMuX2wyM19hLHRoaXMuX2wwMV8yYT10aGlzLl9sMTJfMmEsdGhpcy5fbDEyXzJhPXRoaXMuX2wyM18yYSx0aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10aGlzLl94Mix0aGlzLl94Mj10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPXRoaXMuX3kyLHRoaXMuX3kyPW59fTt2YXIgYl89ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiBuP25ldyBfXyh0LG4pOm5ldyBsXyh0LDApfXJldHVybiBlLmFscGhhPWZ1bmN0aW9uKG4pe3JldHVybiB0KCtuKX0sZX0oLjUpO2Z1bmN0aW9uIG1fKHQsbil7dGhpcy5fY29udGV4dD10LHRoaXMuX2FscGhhPW59bV8ucHJvdG90eXBlPXthcmVhU3RhcnQ6cl8sYXJlYUVuZDpyXyxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl94MD10aGlzLl94MT10aGlzLl94Mj10aGlzLl94Mz10aGlzLl94ND10aGlzLl94NT10aGlzLl95MD10aGlzLl95MT10aGlzLl95Mj10aGlzLl95Mz10aGlzLl95ND10aGlzLl95NT1OYU4sdGhpcy5fbDAxX2E9dGhpcy5fbDEyX2E9dGhpcy5fbDIzX2E9dGhpcy5fbDAxXzJhPXRoaXMuX2wxMl8yYT10aGlzLl9sMjNfMmE9dGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLl9wb2ludCl7Y2FzZSAxOnRoaXMuX2NvbnRleHQubW92ZVRvKHRoaXMuX3gzLHRoaXMuX3kzKSx0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9jb250ZXh0LmxpbmVUbyh0aGlzLl94Myx0aGlzLl95MyksdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKTticmVhaztjYXNlIDM6dGhpcy5wb2ludCh0aGlzLl94Myx0aGlzLl95MyksdGhpcy5wb2ludCh0aGlzLl94NCx0aGlzLl95NCksdGhpcy5wb2ludCh0aGlzLl94NSx0aGlzLl95NSl9fSxwb2ludDpmdW5jdGlvbih0LG4pe2lmKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7dmFyIGU9dGhpcy5feDItdCxyPXRoaXMuX3kyLW47dGhpcy5fbDIzX2E9TWF0aC5zcXJ0KHRoaXMuX2wyM18yYT1NYXRoLnBvdyhlKmUrcipyLHRoaXMuX2FscGhhKSl9c3dpdGNoKHRoaXMuX3BvaW50KXtjYXNlIDA6dGhpcy5fcG9pbnQ9MSx0aGlzLl94Mz10LHRoaXMuX3kzPW47YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTIsdGhpcy5fY29udGV4dC5tb3ZlVG8odGhpcy5feDQ9dCx0aGlzLl95ND1uKTticmVhaztjYXNlIDI6dGhpcy5fcG9pbnQ9Myx0aGlzLl94NT10LHRoaXMuX3k1PW47YnJlYWs7ZGVmYXVsdDp5Xyh0aGlzLHQsbil9dGhpcy5fbDAxX2E9dGhpcy5fbDEyX2EsdGhpcy5fbDEyX2E9dGhpcy5fbDIzX2EsdGhpcy5fbDAxXzJhPXRoaXMuX2wxMl8yYSx0aGlzLl9sMTJfMmE9dGhpcy5fbDIzXzJhLHRoaXMuX3gwPXRoaXMuX3gxLHRoaXMuX3gxPXRoaXMuX3gyLHRoaXMuX3gyPXQsdGhpcy5feTA9dGhpcy5feTEsdGhpcy5feTE9dGhpcy5feTIsdGhpcy5feTI9bn19O3ZhciB4Xz1mdW5jdGlvbiB0KG4pe2Z1bmN0aW9uIGUodCl7cmV0dXJuIG4/bmV3IG1fKHQsbik6bmV3IGRfKHQsMCl9cmV0dXJuIGUuYWxwaGE9ZnVuY3Rpb24obil7cmV0dXJuIHQoK24pfSxlfSguNSk7ZnVuY3Rpb24gd18odCxuKXt0aGlzLl9jb250ZXh0PXQsdGhpcy5fYWxwaGE9bn13Xy5wcm90b3R5cGU9e2FyZWFTdGFydDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9MH0sYXJlYUVuZDpmdW5jdGlvbigpe3RoaXMuX2xpbmU9TmFOfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl94MD10aGlzLl94MT10aGlzLl94Mj10aGlzLl95MD10aGlzLl95MT10aGlzLl95Mj1OYU4sdGhpcy5fbDAxX2E9dGhpcy5fbDEyX2E9dGhpcy5fbDIzX2E9dGhpcy5fbDAxXzJhPXRoaXMuX2wxMl8yYT10aGlzLl9sMjNfMmE9dGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpeyh0aGlzLl9saW5lfHwwIT09dGhpcy5fbGluZSYmMz09PXRoaXMuX3BvaW50KSYmdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLl9saW5lPTEtdGhpcy5fbGluZX0scG9pbnQ6ZnVuY3Rpb24odCxuKXtpZih0PSt0LG49K24sdGhpcy5fcG9pbnQpe3ZhciBlPXRoaXMuX3gyLXQscj10aGlzLl95Mi1uO3RoaXMuX2wyM19hPU1hdGguc3FydCh0aGlzLl9sMjNfMmE9TWF0aC5wb3coZSplK3Iqcix0aGlzLl9hbHBoYSkpfXN3aXRjaCh0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTE7YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTI7YnJlYWs7Y2FzZSAyOnRoaXMuX3BvaW50PTMsdGhpcy5fbGluZT90aGlzLl9jb250ZXh0LmxpbmVUbyh0aGlzLl94Mix0aGlzLl95Mik6dGhpcy5fY29udGV4dC5tb3ZlVG8odGhpcy5feDIsdGhpcy5feTIpO2JyZWFrO2Nhc2UgMzp0aGlzLl9wb2ludD00O2RlZmF1bHQ6eV8odGhpcyx0LG4pfXRoaXMuX2wwMV9hPXRoaXMuX2wxMl9hLHRoaXMuX2wxMl9hPXRoaXMuX2wyM19hLHRoaXMuX2wwMV8yYT10aGlzLl9sMTJfMmEsdGhpcy5fbDEyXzJhPXRoaXMuX2wyM18yYSx0aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10aGlzLl94Mix0aGlzLl94Mj10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPXRoaXMuX3kyLHRoaXMuX3kyPW59fTt2YXIgTV89ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiBlKHQpe3JldHVybiBuP25ldyB3Xyh0LG4pOm5ldyB2Xyh0LDApfXJldHVybiBlLmFscGhhPWZ1bmN0aW9uKG4pe3JldHVybiB0KCtuKX0sZX0oLjUpO2Z1bmN0aW9uIE5fKHQpe3RoaXMuX2NvbnRleHQ9dH1mdW5jdGlvbiBBXyh0KXtyZXR1cm4gdDwwPy0xOjF9ZnVuY3Rpb24gVF8odCxuLGUpe3ZhciByPXQuX3gxLXQuX3gwLGk9bi10Ll94MSxvPSh0Ll95MS10Ll95MCkvKHJ8fGk8MCYmLTApLGE9KGUtdC5feTEpLyhpfHxyPDAmJi0wKSx1PShvKmkrYSpyKS8ocitpKTtyZXR1cm4oQV8obykrQV8oYSkpKk1hdGgubWluKE1hdGguYWJzKG8pLE1hdGguYWJzKGEpLC41Kk1hdGguYWJzKHUpKXx8MH1mdW5jdGlvbiBTXyh0LG4pe3ZhciBlPXQuX3gxLXQuX3gwO3JldHVybiBlPygzKih0Ll95MS10Ll95MCkvZS1uKS8yOm59ZnVuY3Rpb24ga18odCxuLGUpe3ZhciByPXQuX3gwLGk9dC5feTAsbz10Ll94MSxhPXQuX3kxLHU9KG8tcikvMzt0Ll9jb250ZXh0LmJlemllckN1cnZlVG8ocit1LGkrdSpuLG8tdSxhLXUqZSxvLGEpfWZ1bmN0aW9uIEVfKHQpe3RoaXMuX2NvbnRleHQ9dH1mdW5jdGlvbiBDXyh0KXt0aGlzLl9jb250ZXh0PW5ldyBQXyh0KX1mdW5jdGlvbiBQXyh0KXt0aGlzLl9jb250ZXh0PXR9ZnVuY3Rpb24gel8odCl7dGhpcy5fY29udGV4dD10fWZ1bmN0aW9uIFJfKHQpe3ZhciBuLGUscj10Lmxlbmd0aC0xLGk9bmV3IEFycmF5KHIpLG89bmV3IEFycmF5KHIpLGE9bmV3IEFycmF5KHIpO2ZvcihpWzBdPTAsb1swXT0yLGFbMF09dFswXSsyKnRbMV0sbj0xO248ci0xOysrbilpW25dPTEsb1tuXT00LGFbbl09NCp0W25dKzIqdFtuKzFdO2ZvcihpW3ItMV09MixvW3ItMV09NyxhW3ItMV09OCp0W3ItMV0rdFtyXSxuPTE7bjxyOysrbillPWlbbl0vb1tuLTFdLG9bbl0tPWUsYVtuXS09ZSphW24tMV07Zm9yKGlbci0xXT1hW3ItMV0vb1tyLTFdLG49ci0yO24+PTA7LS1uKWlbbl09KGFbbl0taVtuKzFdKS9vW25dO2ZvcihvW3ItMV09KHRbcl0raVtyLTFdKS8yLG49MDtuPHItMTsrK24pb1tuXT0yKnRbbisxXS1pW24rMV07cmV0dXJuW2ksb119ZnVuY3Rpb24gRF8odCxuKXt0aGlzLl9jb250ZXh0PXQsdGhpcy5fdD1ufWZ1bmN0aW9uIHFfKHQsbil7aWYoKGk9dC5sZW5ndGgpPjEpZm9yKHZhciBlLHIsaSxvPTEsYT10W25bMF1dLHU9YS5sZW5ndGg7bzxpOysrbylmb3Iocj1hLGE9dFtuW29dXSxlPTA7ZTx1OysrZSlhW2VdWzFdKz1hW2VdWzBdPWlzTmFOKHJbZV1bMV0pP3JbZV1bMF06cltlXVsxXX1mdW5jdGlvbiBMXyh0KXtmb3IodmFyIG49dC5sZW5ndGgsZT1uZXcgQXJyYXkobik7LS1uPj0wOyllW25dPW47cmV0dXJuIGV9ZnVuY3Rpb24gVV8odCxuKXtyZXR1cm4gdFtuXX1mdW5jdGlvbiBPXyh0KXt2YXIgbj10Lm1hcChCXyk7cmV0dXJuIExfKHQpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gblt0XS1uW2VdfSl9ZnVuY3Rpb24gQl8odCl7Zm9yKHZhciBuLGU9LTEscj0wLGk9dC5sZW5ndGgsbz0tMS8wOysrZTxpOykobj0rdFtlXVsxXSk+byYmKG89bixyPWUpO3JldHVybiByfWZ1bmN0aW9uIFlfKHQpe3ZhciBuPXQubWFwKEZfKTtyZXR1cm4gTF8odCkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBuW3RdLW5bZV19KX1mdW5jdGlvbiBGXyh0KXtmb3IodmFyIG4sZT0wLHI9LTEsaT10Lmxlbmd0aDsrK3I8aTspKG49K3Rbcl1bMV0pJiYoZSs9bik7cmV0dXJuIGV9ZnVuY3Rpb24gSV8odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fWZ1bmN0aW9uIGpfKHQpe3JldHVybiB0WzBdfWZ1bmN0aW9uIEhfKHQpe3JldHVybiB0WzFdfWZ1bmN0aW9uIFhfKCl7dGhpcy5fPW51bGx9ZnVuY3Rpb24gR18odCl7dC5VPXQuQz10Lkw9dC5SPXQuUD10Lk49bnVsbH1mdW5jdGlvbiBWXyh0LG4pe3ZhciBlPW4scj1uLlIsaT1lLlU7aT9pLkw9PT1lP2kuTD1yOmkuUj1yOnQuXz1yLHIuVT1pLGUuVT1yLGUuUj1yLkwsZS5SJiYoZS5SLlU9ZSksci5MPWV9ZnVuY3Rpb24gJF8odCxuKXt2YXIgZT1uLHI9bi5MLGk9ZS5VO2k/aS5MPT09ZT9pLkw9cjppLlI9cjp0Ll89cixyLlU9aSxlLlU9cixlLkw9ci5SLGUuTCYmKGUuTC5VPWUpLHIuUj1lfWZ1bmN0aW9uIFdfKHQpe2Zvcig7dC5MOyl0PXQuTDtyZXR1cm4gdH1mdW5jdGlvbiBaXyh0LG4sZSxyKXt2YXIgaT1bbnVsbCxudWxsXSxvPW1iLnB1c2goaSktMTtyZXR1cm4gaS5sZWZ0PXQsaS5yaWdodD1uLGUmJkpfKGksdCxuLGUpLHImJkpfKGksbix0LHIpLF9iW3QuaW5kZXhdLmhhbGZlZGdlcy5wdXNoKG8pLF9iW24uaW5kZXhdLmhhbGZlZGdlcy5wdXNoKG8pLGl9ZnVuY3Rpb24gUV8odCxuLGUpe3ZhciByPVtuLGVdO3JldHVybiByLmxlZnQ9dCxyfWZ1bmN0aW9uIEpfKHQsbixlLHIpe3RbMF18fHRbMV0/dC5sZWZ0PT09ZT90WzFdPXI6dFswXT1yOih0WzBdPXIsdC5sZWZ0PW4sdC5yaWdodD1lKX1mdW5jdGlvbiBLXyh0LG4sZSxyLGkpe3ZhciBvLGE9dFswXSx1PXRbMV0sYz1hWzBdLGY9YVsxXSxzPTAsbD0xLGg9dVswXS1jLGQ9dVsxXS1mO2lmKG89bi1jLGh8fCEobz4wKSl7aWYoby89aCxoPDApe2lmKG88cylyZXR1cm47bzxsJiYobD1vKX1lbHNlIGlmKGg+MCl7aWYobz5sKXJldHVybjtvPnMmJihzPW8pfWlmKG89ci1jLGh8fCEobzwwKSl7aWYoby89aCxoPDApe2lmKG8+bClyZXR1cm47bz5zJiYocz1vKX1lbHNlIGlmKGg+MCl7aWYobzxzKXJldHVybjtvPGwmJihsPW8pfWlmKG89ZS1mLGR8fCEobz4wKSl7aWYoby89ZCxkPDApe2lmKG88cylyZXR1cm47bzxsJiYobD1vKX1lbHNlIGlmKGQ+MCl7aWYobz5sKXJldHVybjtvPnMmJihzPW8pfWlmKG89aS1mLGR8fCEobzwwKSl7aWYoby89ZCxkPDApe2lmKG8+bClyZXR1cm47bz5zJiYocz1vKX1lbHNlIGlmKGQ+MCl7aWYobzxzKXJldHVybjtvPGwmJihsPW8pfXJldHVybiEocz4wfHxsPDEpfHwocz4wJiYodFswXT1bYytzKmgsZitzKmRdKSxsPDEmJih0WzFdPVtjK2wqaCxmK2wqZF0pLCEwKX19fX19ZnVuY3Rpb24gdGIodCxuLGUscixpKXt2YXIgbz10WzFdO2lmKG8pcmV0dXJuITA7dmFyIGEsdSxjPXRbMF0sZj10LmxlZnQscz10LnJpZ2h0LGw9ZlswXSxoPWZbMV0sZD1zWzBdLHA9c1sxXSx2PShsK2QpLzIsZz0oaCtwKS8yO2lmKHA9PT1oKXtpZih2PG58fHY+PXIpcmV0dXJuO2lmKGw+ZCl7aWYoYyl7aWYoY1sxXT49aSlyZXR1cm59ZWxzZSBjPVt2LGVdO289W3YsaV19ZWxzZXtpZihjKXtpZihjWzFdPGUpcmV0dXJufWVsc2UgYz1bdixpXTtvPVt2LGVdfX1lbHNlIGlmKHU9Zy0oYT0obC1kKS8ocC1oKSkqdixhPC0xfHxhPjEpaWYobD5kKXtpZihjKXtpZihjWzFdPj1pKXJldHVybn1lbHNlIGM9WyhlLXUpL2EsZV07bz1bKGktdSkvYSxpXX1lbHNle2lmKGMpe2lmKGNbMV08ZSlyZXR1cm59ZWxzZSBjPVsoaS11KS9hLGldO289WyhlLXUpL2EsZV19ZWxzZSBpZihoPHApe2lmKGMpe2lmKGNbMF0+PXIpcmV0dXJufWVsc2UgYz1bbixhKm4rdV07bz1bcixhKnIrdV19ZWxzZXtpZihjKXtpZihjWzBdPG4pcmV0dXJufWVsc2UgYz1bcixhKnIrdV07bz1bbixhKm4rdV19cmV0dXJuIHRbMF09Yyx0WzFdPW8sITB9ZnVuY3Rpb24gbmIodCxuKXt2YXIgZT10LnNpdGUscj1uLmxlZnQsaT1uLnJpZ2h0O3JldHVybiBlPT09aSYmKGk9cixyPWUpLGk/TWF0aC5hdGFuMihpWzFdLXJbMV0saVswXS1yWzBdKTooZT09PXI/KHI9blsxXSxpPW5bMF0pOihyPW5bMF0saT1uWzFdKSxNYXRoLmF0YW4yKHJbMF0taVswXSxpWzFdLXJbMV0pKX1mdW5jdGlvbiBlYih0LG4pe3JldHVybiBuWysobi5sZWZ0IT09dC5zaXRlKV19ZnVuY3Rpb24gcmIodCxuKXtyZXR1cm4gblsrKG4ubGVmdD09PXQuc2l0ZSldfU5fLnByb3RvdHlwZT17YXJlYVN0YXJ0OnJfLGFyZWFFbmQ6cl8sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpe3RoaXMuX3BvaW50JiZ0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpfSxwb2ludDpmdW5jdGlvbih0LG4pe3Q9K3Qsbj0rbix0aGlzLl9wb2ludD90aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pOih0aGlzLl9wb2ludD0xLHRoaXMuX2NvbnRleHQubW92ZVRvKHQsbikpfX0sRV8ucHJvdG90eXBlPXthcmVhU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl9saW5lPTB9LGFyZWFFbmQ6ZnVuY3Rpb24oKXt0aGlzLl9saW5lPU5hTn0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5feDA9dGhpcy5feDE9dGhpcy5feTA9dGhpcy5feTE9dGhpcy5fdDA9TmFOLHRoaXMuX3BvaW50PTB9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5fcG9pbnQpe2Nhc2UgMjp0aGlzLl9jb250ZXh0LmxpbmVUbyh0aGlzLl94MSx0aGlzLl95MSk7YnJlYWs7Y2FzZSAzOmtfKHRoaXMsdGhpcy5fdDAsU18odGhpcyx0aGlzLl90MCkpfSh0aGlzLl9saW5lfHwwIT09dGhpcy5fbGluZSYmMT09PXRoaXMuX3BvaW50KSYmdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLl9saW5lPTEtdGhpcy5fbGluZX0scG9pbnQ6ZnVuY3Rpb24odCxuKXt2YXIgZT1OYU47aWYobj0rbiwodD0rdCkhPT10aGlzLl94MXx8biE9PXRoaXMuX3kxKXtzd2l0Y2godGhpcy5fcG9pbnQpe2Nhc2UgMDp0aGlzLl9wb2ludD0xLHRoaXMuX2xpbmU/dGhpcy5fY29udGV4dC5saW5lVG8odCxuKTp0aGlzLl9jb250ZXh0Lm1vdmVUbyh0LG4pO2JyZWFrO2Nhc2UgMTp0aGlzLl9wb2ludD0yO2JyZWFrO2Nhc2UgMjp0aGlzLl9wb2ludD0zLGtfKHRoaXMsU18odGhpcyxlPVRfKHRoaXMsdCxuKSksZSk7YnJlYWs7ZGVmYXVsdDprXyh0aGlzLHRoaXMuX3QwLGU9VF8odGhpcyx0LG4pKX10aGlzLl94MD10aGlzLl94MSx0aGlzLl94MT10LHRoaXMuX3kwPXRoaXMuX3kxLHRoaXMuX3kxPW4sdGhpcy5fdDA9ZX19fSwoQ18ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRV8ucHJvdG90eXBlKSkucG9pbnQ9ZnVuY3Rpb24odCxuKXtFXy5wcm90b3R5cGUucG9pbnQuY2FsbCh0aGlzLG4sdCl9LFBfLnByb3RvdHlwZT17bW92ZVRvOmZ1bmN0aW9uKHQsbil7dGhpcy5fY29udGV4dC5tb3ZlVG8obix0KX0sY2xvc2VQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKX0sbGluZVRvOmZ1bmN0aW9uKHQsbil7dGhpcy5fY29udGV4dC5saW5lVG8obix0KX0sYmV6aWVyQ3VydmVUbzpmdW5jdGlvbih0LG4sZSxyLGksbyl7dGhpcy5fY29udGV4dC5iZXppZXJDdXJ2ZVRvKG4sdCxyLGUsbyxpKX19LHpfLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3g9W10sdGhpcy5feT1bXX0sbGluZUVuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3gsbj10aGlzLl95LGU9dC5sZW5ndGg7aWYoZSlpZih0aGlzLl9saW5lP3RoaXMuX2NvbnRleHQubGluZVRvKHRbMF0sblswXSk6dGhpcy5fY29udGV4dC5tb3ZlVG8odFswXSxuWzBdKSwyPT09ZSl0aGlzLl9jb250ZXh0LmxpbmVUbyh0WzFdLG5bMV0pO2Vsc2UgZm9yKHZhciByPVJfKHQpLGk9Ul8obiksbz0wLGE9MTthPGU7KytvLCsrYSl0aGlzLl9jb250ZXh0LmJlemllckN1cnZlVG8oclswXVtvXSxpWzBdW29dLHJbMV1bb10saVsxXVtvXSx0W2FdLG5bYV0pOyh0aGlzLl9saW5lfHwwIT09dGhpcy5fbGluZSYmMT09PWUpJiZ0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuX2xpbmU9MS10aGlzLl9saW5lLHRoaXMuX3g9dGhpcy5feT1udWxsfSxwb2ludDpmdW5jdGlvbih0LG4pe3RoaXMuX3gucHVzaCgrdCksdGhpcy5feS5wdXNoKCtuKX19LERfLnByb3RvdHlwZT17YXJlYVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5fbGluZT0wfSxhcmVhRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbGluZT1OYU59LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuX3g9dGhpcy5feT1OYU4sdGhpcy5fcG9pbnQ9MH0sbGluZUVuZDpmdW5jdGlvbigpezA8dGhpcy5fdCYmdGhpcy5fdDwxJiYyPT09dGhpcy5fcG9pbnQmJnRoaXMuX2NvbnRleHQubGluZVRvKHRoaXMuX3gsdGhpcy5feSksKHRoaXMuX2xpbmV8fDAhPT10aGlzLl9saW5lJiYxPT09dGhpcy5fcG9pbnQpJiZ0aGlzLl9jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuX2xpbmU+PTAmJih0aGlzLl90PTEtdGhpcy5fdCx0aGlzLl9saW5lPTEtdGhpcy5fbGluZSl9LHBvaW50OmZ1bmN0aW9uKHQsbil7c3dpdGNoKHQ9K3Qsbj0rbix0aGlzLl9wb2ludCl7Y2FzZSAwOnRoaXMuX3BvaW50PTEsdGhpcy5fbGluZT90aGlzLl9jb250ZXh0LmxpbmVUbyh0LG4pOnRoaXMuX2NvbnRleHQubW92ZVRvKHQsbik7YnJlYWs7Y2FzZSAxOnRoaXMuX3BvaW50PTI7ZGVmYXVsdDppZih0aGlzLl90PD0wKXRoaXMuX2NvbnRleHQubGluZVRvKHRoaXMuX3gsbiksdGhpcy5fY29udGV4dC5saW5lVG8odCxuKTtlbHNle3ZhciBlPXRoaXMuX3gqKDEtdGhpcy5fdCkrdCp0aGlzLl90O3RoaXMuX2NvbnRleHQubGluZVRvKGUsdGhpcy5feSksdGhpcy5fY29udGV4dC5saW5lVG8oZSxuKX19dGhpcy5feD10LHRoaXMuX3k9bn19LFhfLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WF8saW5zZXJ0OmZ1bmN0aW9uKHQsbil7dmFyIGUscixpO2lmKHQpe2lmKG4uUD10LG4uTj10Lk4sdC5OJiYodC5OLlA9biksdC5OPW4sdC5SKXtmb3IodD10LlI7dC5MOyl0PXQuTDt0Lkw9bn1lbHNlIHQuUj1uO2U9dH1lbHNlIHRoaXMuXz8odD1XXyh0aGlzLl8pLG4uUD1udWxsLG4uTj10LHQuUD10Lkw9bixlPXQpOihuLlA9bi5OPW51bGwsdGhpcy5fPW4sZT1udWxsKTtmb3Iobi5MPW4uUj1udWxsLG4uVT1lLG4uQz0hMCx0PW47ZSYmZS5DOyllPT09KHI9ZS5VKS5MPyhpPXIuUikmJmkuQz8oZS5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PWUuUiYmKFZfKHRoaXMsZSksZT0odD1lKS5VKSxlLkM9ITEsci5DPSEwLCRfKHRoaXMscikpOihpPXIuTCkmJmkuQz8oZS5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PWUuTCYmKCRfKHRoaXMsZSksZT0odD1lKS5VKSxlLkM9ITEsci5DPSEwLFZfKHRoaXMscikpLGU9dC5VO3RoaXMuXy5DPSExfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5OJiYodC5OLlA9dC5QKSx0LlAmJih0LlAuTj10Lk4pLHQuTj10LlA9bnVsbDt2YXIgbixlLHIsaT10LlUsbz10LkwsYT10LlI7aWYoZT1vP2E/V18oYSk6bzphLGk/aS5MPT09dD9pLkw9ZTppLlI9ZTp0aGlzLl89ZSxvJiZhPyhyPWUuQyxlLkM9dC5DLGUuTD1vLG8uVT1lLGUhPT1hPyhpPWUuVSxlLlU9dC5VLHQ9ZS5SLGkuTD10LGUuUj1hLGEuVT1lKTooZS5VPWksaT1lLHQ9ZS5SKSk6KHI9dC5DLHQ9ZSksdCYmKHQuVT1pKSwhcilpZih0JiZ0LkMpdC5DPSExO2Vsc2V7ZG97aWYodD09PXRoaXMuXylicmVhaztpZih0PT09aS5MKXtpZigobj1pLlIpLkMmJihuLkM9ITEsaS5DPSEwLFZfKHRoaXMsaSksbj1pLlIpLG4uTCYmbi5MLkN8fG4uUiYmbi5SLkMpe24uUiYmbi5SLkN8fChuLkwuQz0hMSxuLkM9ITAsJF8odGhpcyxuKSxuPWkuUiksbi5DPWkuQyxpLkM9bi5SLkM9ITEsVl8odGhpcyxpKSx0PXRoaXMuXzticmVha319ZWxzZSBpZigobj1pLkwpLkMmJihuLkM9ITEsaS5DPSEwLCRfKHRoaXMsaSksbj1pLkwpLG4uTCYmbi5MLkN8fG4uUiYmbi5SLkMpe24uTCYmbi5MLkN8fChuLlIuQz0hMSxuLkM9ITAsVl8odGhpcyxuKSxuPWkuTCksbi5DPWkuQyxpLkM9bi5MLkM9ITEsJF8odGhpcyxpKSx0PXRoaXMuXzticmVha31uLkM9ITAsdD1pLGk9aS5VfXdoaWxlKCF0LkMpO3QmJih0LkM9ITEpfX19O3ZhciBpYixvYj1bXTtmdW5jdGlvbiBhYigpe0dfKHRoaXMpLHRoaXMueD10aGlzLnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiB1Yih0KXt2YXIgbj10LlAsZT10Lk47aWYobiYmZSl7dmFyIHI9bi5zaXRlLGk9dC5zaXRlLG89ZS5zaXRlO2lmKHIhPT1vKXt2YXIgYT1pWzBdLHU9aVsxXSxjPXJbMF0tYSxmPXJbMV0tdSxzPW9bMF0tYSxsPW9bMV0tdSxoPTIqKGMqbC1mKnMpO2lmKCEoaD49LXdiKSl7dmFyIGQ9YypjK2YqZixwPXMqcytsKmwsdj0obCpkLWYqcCkvaCxnPShjKnAtcypkKS9oLHk9b2IucG9wKCl8fG5ldyBhYjt5LmFyYz10LHkuc2l0ZT1pLHkueD12K2EseS55PSh5LmN5PWcrdSkrTWF0aC5zcXJ0KHYqditnKmcpLHQuY2lyY2xlPXk7Zm9yKHZhciBfPW51bGwsYj1iYi5fO2I7KWlmKHkueTxiLnl8fHkueT09PWIueSYmeS54PD1iLngpe2lmKCFiLkwpe189Yi5QO2JyZWFrfWI9Yi5MfWVsc2V7aWYoIWIuUil7Xz1iO2JyZWFrfWI9Yi5SfWJiLmluc2VydChfLHkpLF98fChpYj15KX19fX1mdW5jdGlvbiBjYih0KXt2YXIgbj10LmNpcmNsZTtuJiYobi5QfHwoaWI9bi5OKSxiYi5yZW1vdmUobiksb2IucHVzaChuKSxHXyhuKSx0LmNpcmNsZT1udWxsKX12YXIgZmI9W107ZnVuY3Rpb24gc2IoKXtHXyh0aGlzKSx0aGlzLmVkZ2U9dGhpcy5zaXRlPXRoaXMuY2lyY2xlPW51bGx9ZnVuY3Rpb24gbGIodCl7dmFyIG49ZmIucG9wKCl8fG5ldyBzYjtyZXR1cm4gbi5zaXRlPXQsbn1mdW5jdGlvbiBoYih0KXtjYih0KSx5Yi5yZW1vdmUodCksZmIucHVzaCh0KSxHXyh0KX1mdW5jdGlvbiBkYih0KXt2YXIgbj10LmNpcmNsZSxlPW4ueCxyPW4uY3ksaT1bZSxyXSxvPXQuUCxhPXQuTix1PVt0XTtoYih0KTtmb3IodmFyIGM9bztjLmNpcmNsZSYmTWF0aC5hYnMoZS1jLmNpcmNsZS54KTx4YiYmTWF0aC5hYnMoci1jLmNpcmNsZS5jeSk8eGI7KW89Yy5QLHUudW5zaGlmdChjKSxoYihjKSxjPW87dS51bnNoaWZ0KGMpLGNiKGMpO2Zvcih2YXIgZj1hO2YuY2lyY2xlJiZNYXRoLmFicyhlLWYuY2lyY2xlLngpPHhiJiZNYXRoLmFicyhyLWYuY2lyY2xlLmN5KTx4YjspYT1mLk4sdS5wdXNoKGYpLGhiKGYpLGY9YTt1LnB1c2goZiksY2IoZik7dmFyIHMsbD11Lmxlbmd0aDtmb3Iocz0xO3M8bDsrK3MpZj11W3NdLGM9dVtzLTFdLEpfKGYuZWRnZSxjLnNpdGUsZi5zaXRlLGkpO2M9dVswXSwoZj11W2wtMV0pLmVkZ2U9Wl8oYy5zaXRlLGYuc2l0ZSxudWxsLGkpLHViKGMpLHViKGYpfWZ1bmN0aW9uIHBiKHQpe2Zvcih2YXIgbixlLHIsaSxvPXRbMF0sYT10WzFdLHU9eWIuXzt1OylpZigocj12Yih1LGEpLW8pPnhiKXU9dS5MO2Vsc2V7aWYoISgoaT1vLWdiKHUsYSkpPnhiKSl7cj4teGI/KG49dS5QLGU9dSk6aT4teGI/KG49dSxlPXUuTik6bj1lPXU7YnJlYWt9aWYoIXUuUil7bj11O2JyZWFrfXU9dS5SfSFmdW5jdGlvbih0KXtfYlt0LmluZGV4XT17c2l0ZTp0LGhhbGZlZGdlczpbXX19KHQpO3ZhciBjPWxiKHQpO2lmKHliLmluc2VydChuLGMpLG58fGUpe2lmKG49PT1lKXJldHVybiBjYihuKSxlPWxiKG4uc2l0ZSkseWIuaW5zZXJ0KGMsZSksYy5lZGdlPWUuZWRnZT1aXyhuLnNpdGUsYy5zaXRlKSx1YihuKSx2b2lkIHViKGUpO2lmKGUpe2NiKG4pLGNiKGUpO3ZhciBmPW4uc2l0ZSxzPWZbMF0sbD1mWzFdLGg9dFswXS1zLGQ9dFsxXS1sLHA9ZS5zaXRlLHY9cFswXS1zLGc9cFsxXS1sLHk9MiooaCpnLWQqdiksXz1oKmgrZCpkLGI9dip2K2cqZyxtPVsoZypfLWQqYikveStzLChoKmItdipfKS95K2xdO0pfKGUuZWRnZSxmLHAsbSksYy5lZGdlPVpfKGYsdCxudWxsLG0pLGUuZWRnZT1aXyh0LHAsbnVsbCxtKSx1YihuKSx1YihlKX1lbHNlIGMuZWRnZT1aXyhuLnNpdGUsYy5zaXRlKX19ZnVuY3Rpb24gdmIodCxuKXt2YXIgZT10LnNpdGUscj1lWzBdLGk9ZVsxXSxvPWktbjtpZighbylyZXR1cm4gcjt2YXIgYT10LlA7aWYoIWEpcmV0dXJuLTEvMDt2YXIgdT0oZT1hLnNpdGUpWzBdLGM9ZVsxXSxmPWMtbjtpZighZilyZXR1cm4gdTt2YXIgcz11LXIsbD0xL28tMS9mLGg9cy9mO3JldHVybiBsPygtaCtNYXRoLnNxcnQoaCpoLTIqbCoocypzLygtMipmKS1jK2YvMitpLW8vMikpKS9sK3I6KHIrdSkvMn1mdW5jdGlvbiBnYih0LG4pe3ZhciBlPXQuTjtpZihlKXJldHVybiB2YihlLG4pO3ZhciByPXQuc2l0ZTtyZXR1cm4gclsxXT09PW4/clswXToxLzB9dmFyIHliLF9iLGJiLG1iLHhiPTFlLTYsd2I9MWUtMTI7ZnVuY3Rpb24gTWIodCxuKXtyZXR1cm4gblsxXS10WzFdfHxuWzBdLXRbMF19ZnVuY3Rpb24gTmIodCxuKXt2YXIgZSxyLGksbz10LnNvcnQoTWIpLnBvcCgpO2ZvcihtYj1bXSxfYj1uZXcgQXJyYXkodC5sZW5ndGgpLHliPW5ldyBYXyxiYj1uZXcgWF87OylpZihpPWliLG8mJighaXx8b1sxXTxpLnl8fG9bMV09PT1pLnkmJm9bMF08aS54KSlvWzBdPT09ZSYmb1sxXT09PXJ8fChwYihvKSxlPW9bMF0scj1vWzFdKSxvPXQucG9wKCk7ZWxzZXtpZighaSlicmVhaztkYihpLmFyYyl9aWYoZnVuY3Rpb24oKXtmb3IodmFyIHQsbixlLHIsaT0wLG89X2IubGVuZ3RoO2k8bzsrK2kpaWYoKHQ9X2JbaV0pJiYocj0obj10LmhhbGZlZGdlcykubGVuZ3RoKSl7dmFyIGE9bmV3IEFycmF5KHIpLHU9bmV3IEFycmF5KHIpO2ZvcihlPTA7ZTxyOysrZSlhW2VdPWUsdVtlXT1uYih0LG1iW25bZV1dKTtmb3IoYS5zb3J0KGZ1bmN0aW9uKHQsbil7cmV0dXJuIHVbbl0tdVt0XX0pLGU9MDtlPHI7KytlKXVbZV09blthW2VdXTtmb3IoZT0wO2U8cjsrK2UpbltlXT11W2VdfX0oKSxuKXt2YXIgYT0rblswXVswXSx1PStuWzBdWzFdLGM9K25bMV1bMF0sZj0rblsxXVsxXTshZnVuY3Rpb24odCxuLGUscil7Zm9yKHZhciBpLG89bWIubGVuZ3RoO28tLTspdGIoaT1tYltvXSx0LG4sZSxyKSYmS18oaSx0LG4sZSxyKSYmKE1hdGguYWJzKGlbMF1bMF0taVsxXVswXSk+eGJ8fE1hdGguYWJzKGlbMF1bMV0taVsxXVsxXSk+eGIpfHxkZWxldGUgbWJbb119KGEsdSxjLGYpLGZ1bmN0aW9uKHQsbixlLHIpe3ZhciBpLG8sYSx1LGMsZixzLGwsaCxkLHAsdixnPV9iLmxlbmd0aCx5PSEwO2ZvcihpPTA7aTxnOysraSlpZihvPV9iW2ldKXtmb3IoYT1vLnNpdGUsdT0oYz1vLmhhbGZlZGdlcykubGVuZ3RoO3UtLTspbWJbY1t1XV18fGMuc3BsaWNlKHUsMSk7Zm9yKHU9MCxmPWMubGVuZ3RoO3U8ZjspcD0oZD1yYihvLG1iW2NbdV1dKSlbMF0sdj1kWzFdLGw9KHM9ZWIobyxtYltjWysrdSVmXV0pKVswXSxoPXNbMV0sKE1hdGguYWJzKHAtbCk+eGJ8fE1hdGguYWJzKHYtaCk+eGIpJiYoYy5zcGxpY2UodSwwLG1iLnB1c2goUV8oYSxkLE1hdGguYWJzKHAtdCk8eGImJnItdj54Yj9bdCxNYXRoLmFicyhsLXQpPHhiP2g6cl06TWF0aC5hYnModi1yKTx4YiYmZS1wPnhiP1tNYXRoLmFicyhoLXIpPHhiP2w6ZSxyXTpNYXRoLmFicyhwLWUpPHhiJiZ2LW4+eGI/W2UsTWF0aC5hYnMobC1lKTx4Yj9oOm5dOk1hdGguYWJzKHYtbik8eGImJnAtdD54Yj9bTWF0aC5hYnMoaC1uKTx4Yj9sOnQsbl06bnVsbCkpLTEpLCsrZik7ZiYmKHk9ITEpfWlmKHkpe3ZhciBfLGIsbSx4PTEvMDtmb3IoaT0wLHk9bnVsbDtpPGc7KytpKShvPV9iW2ldKSYmKG09KF89KGE9by5zaXRlKVswXS10KSpfKyhiPWFbMV0tbikqYik8eCYmKHg9bSx5PW8pO2lmKHkpe3ZhciB3PVt0LG5dLE09W3Qscl0sTj1bZSxyXSxBPVtlLG5dO3kuaGFsZmVkZ2VzLnB1c2gobWIucHVzaChRXyhhPXkuc2l0ZSx3LE0pKS0xLG1iLnB1c2goUV8oYSxNLE4pKS0xLG1iLnB1c2goUV8oYSxOLEEpKS0xLG1iLnB1c2goUV8oYSxBLHcpKS0xKX19Zm9yKGk9MDtpPGc7KytpKShvPV9iW2ldKSYmKG8uaGFsZmVkZ2VzLmxlbmd0aHx8ZGVsZXRlIF9iW2ldKX0oYSx1LGMsZil9dGhpcy5lZGdlcz1tYix0aGlzLmNlbGxzPV9iLHliPWJiPW1iPV9iPW51bGx9ZnVuY3Rpb24gQWIodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fWZ1bmN0aW9uIFRiKHQsbixlKXt0aGlzLnRhcmdldD10LHRoaXMudHlwZT1uLHRoaXMudHJhbnNmb3JtPWV9ZnVuY3Rpb24gU2IodCxuLGUpe3RoaXMuaz10LHRoaXMueD1uLHRoaXMueT1lfU5iLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TmIscG9seWdvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVkZ2VzO3JldHVybiB0aGlzLmNlbGxzLm1hcChmdW5jdGlvbihuKXt2YXIgZT1uLmhhbGZlZGdlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGViKG4sdFtlXSl9KTtyZXR1cm4gZS5kYXRhPW4uc2l0ZS5kYXRhLGV9KX0sdHJpYW5nbGVzOmZ1bmN0aW9uKCl7dmFyIHQ9W10sbj10aGlzLmVkZ2VzO3JldHVybiB0aGlzLmNlbGxzLmZvckVhY2goZnVuY3Rpb24oZSxyKXtpZihvPShpPWUuaGFsZmVkZ2VzKS5sZW5ndGgpZm9yKHZhciBpLG8sYSx1LGMsZixzPWUuc2l0ZSxsPS0xLGg9bltpW28tMV1dLGQ9aC5sZWZ0PT09cz9oLnJpZ2h0OmgubGVmdDsrK2w8bzspYT1kLGQ9KGg9bltpW2xdXSkubGVmdD09PXM/aC5yaWdodDpoLmxlZnQsYSYmZCYmcjxhLmluZGV4JiZyPGQuaW5kZXgmJihjPWEsZj1kLCgodT1zKVswXS1mWzBdKSooY1sxXS11WzFdKS0odVswXS1jWzBdKSooZlsxXS11WzFdKTwwKSYmdC5wdXNoKFtzLmRhdGEsYS5kYXRhLGQuZGF0YV0pfSksdH0sbGlua3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQucmlnaHR9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue3NvdXJjZTp0LmxlZnQuZGF0YSx0YXJnZXQ6dC5yaWdodC5kYXRhfX0pfSxmaW5kOmZ1bmN0aW9uKHQsbixlKXtmb3IodmFyIHIsaSxvPXRoaXMsYT1vLl9mb3VuZHx8MCx1PW8uY2VsbHMubGVuZ3RoOyEoaT1vLmNlbGxzW2FdKTspaWYoKythPj11KXJldHVybiBudWxsO3ZhciBjPXQtaS5zaXRlWzBdLGY9bi1pLnNpdGVbMV0scz1jKmMrZipmO2Rve2k9by5jZWxsc1tyPWFdLGE9bnVsbCxpLmhhbGZlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPW8uZWRnZXNbZV0sdT1yLmxlZnQ7aWYodSE9PWkuc2l0ZSYmdXx8KHU9ci5yaWdodCkpe3ZhciBjPXQtdVswXSxmPW4tdVsxXSxsPWMqYytmKmY7bDxzJiYocz1sLGE9dS5pbmRleCl9fSl9d2hpbGUobnVsbCE9PWEpO3JldHVybiBvLl9mb3VuZD1yLG51bGw9PWV8fHM8PWUqZT9pLnNpdGU6bnVsbH19LFNiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6U2Isc2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10P3RoaXM6bmV3IFNiKHRoaXMuayp0LHRoaXMueCx0aGlzLnkpfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gMD09PXQmMD09PW4/dGhpczpuZXcgU2IodGhpcy5rLHRoaXMueCt0aGlzLmsqdCx0aGlzLnkrdGhpcy5rKm4pfSxhcHBseTpmdW5jdGlvbih0KXtyZXR1cm5bdFswXSp0aGlzLmsrdGhpcy54LHRbMV0qdGhpcy5rK3RoaXMueV19LGFwcGx5WDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0aGlzLmsrdGhpcy54fSxhcHBseVk6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdGhpcy5rK3RoaXMueX0saW52ZXJ0OmZ1bmN0aW9uKHQpe3JldHVyblsodFswXS10aGlzLngpL3RoaXMuaywodFsxXS10aGlzLnkpL3RoaXMua119LGludmVydFg6ZnVuY3Rpb24odCl7cmV0dXJuKHQtdGhpcy54KS90aGlzLmt9LGludmVydFk6ZnVuY3Rpb24odCl7cmV0dXJuKHQtdGhpcy55KS90aGlzLmt9LHJlc2NhbGVYOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHkoKS5kb21haW4odC5yYW5nZSgpLm1hcCh0aGlzLmludmVydFgsdGhpcykubWFwKHQuaW52ZXJ0LHQpKX0scmVzY2FsZVk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weSgpLmRvbWFpbih0LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSx0aGlzKS5tYXAodC5pbnZlcnQsdCkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJ0cmFuc2xhdGUoIit0aGlzLngrIiwiK3RoaXMueSsiKSBzY2FsZSgiK3RoaXMuaysiKSJ9fTt2YXIga2I9bmV3IFNiKDEsMCwwKTtmdW5jdGlvbiBFYih0KXtyZXR1cm4gdC5fX3pvb218fGtifWZ1bmN0aW9uIENiKCl7dC5ldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBQYigpe3QuZXZlbnQucHJldmVudERlZmF1bHQoKSx0LmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIHpiKCl7cmV0dXJuIXQuZXZlbnQuYnV0dG9ufWZ1bmN0aW9uIFJiKCl7dmFyIHQsbixlPXRoaXM7cmV0dXJuIGUgaW5zdGFuY2VvZiBTVkdFbGVtZW50Pyh0PShlPWUub3duZXJTVkdFbGVtZW50fHxlKS53aWR0aC5iYXNlVmFsLnZhbHVlLG49ZS5oZWlnaHQuYmFzZVZhbC52YWx1ZSk6KHQ9ZS5jbGllbnRXaWR0aCxuPWUuY2xpZW50SGVpZ2h0KSxbWzAsMF0sW3Qsbl1dfWZ1bmN0aW9uIERiKCl7cmV0dXJuIHRoaXMuX196b29tfHxrYn1mdW5jdGlvbiBxYigpe3JldHVybi10LmV2ZW50LmRlbHRhWSoodC5ldmVudC5kZWx0YU1vZGU/MTIwOjEpLzUwMH1mdW5jdGlvbiBMYigpe3JldHVybiJvbnRvdWNoc3RhcnQiaW4gdGhpc31mdW5jdGlvbiBVYih0LG4sZSl7dmFyIHI9dC5pbnZlcnRYKG5bMF1bMF0pLWVbMF1bMF0saT10LmludmVydFgoblsxXVswXSktZVsxXVswXSxvPXQuaW52ZXJ0WShuWzBdWzFdKS1lWzBdWzFdLGE9dC5pbnZlcnRZKG5bMV1bMV0pLWVbMV1bMV07cmV0dXJuIHQudHJhbnNsYXRlKGk+cj8ocitpKS8yOk1hdGgubWluKDAscil8fE1hdGgubWF4KDAsaSksYT5vPyhvK2EpLzI6TWF0aC5taW4oMCxvKXx8TWF0aC5tYXgoMCxhKSl9RWIucHJvdG90eXBlPVNiLnByb3RvdHlwZSx0LnZlcnNpb249IjUuOS4yIix0LmJpc2VjdD1pLHQuYmlzZWN0UmlnaHQ9aSx0LmJpc2VjdExlZnQ9byx0LmFzY2VuZGluZz1uLHQuYmlzZWN0b3I9ZSx0LmNyb3NzPWZ1bmN0aW9uKHQsbixlKXt2YXIgcixpLG8sdSxjPXQubGVuZ3RoLGY9bi5sZW5ndGgscz1uZXcgQXJyYXkoYypmKTtmb3IobnVsbD09ZSYmKGU9YSkscj1vPTA7cjxjOysrcilmb3IodT10W3JdLGk9MDtpPGY7KytpLCsrbylzW29dPWUodSxuW2ldKTtyZXR1cm4gc30sdC5kZXNjZW5kaW5nPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG48dD8tMTpuPnQ/MTpuPj10PzA6TmFOfSx0LmRldmlhdGlvbj1mLHQuZXh0ZW50PXMsdC5oaXN0b2dyYW09ZnVuY3Rpb24oKXt2YXIgdD12LG49cyxlPU07ZnVuY3Rpb24gcihyKXt2YXIgbyxhLHU9ci5sZW5ndGgsYz1uZXcgQXJyYXkodSk7Zm9yKG89MDtvPHU7KytvKWNbb109dChyW29dLG8scik7dmFyIGY9bihjKSxzPWZbMF0sbD1mWzFdLGg9ZShjLHMsbCk7QXJyYXkuaXNBcnJheShoKXx8KGg9dyhzLGwsaCksaD1nKE1hdGguY2VpbChzL2gpKmgsbCxoKSk7Zm9yKHZhciBkPWgubGVuZ3RoO2hbMF08PXM7KWguc2hpZnQoKSwtLWQ7Zm9yKDtoW2QtMV0+bDspaC5wb3AoKSwtLWQ7dmFyIHAsdj1uZXcgQXJyYXkoZCsxKTtmb3Iobz0wO288PWQ7KytvKShwPXZbb109W10pLngwPW8+MD9oW28tMV06cyxwLngxPW88ZD9oW29dOmw7Zm9yKG89MDtvPHU7KytvKXM8PShhPWNbb10pJiZhPD1sJiZ2W2koaCxhLDAsZCldLnB1c2gocltvXSk7cmV0dXJuIHZ9cmV0dXJuIHIudmFsdWU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpwKG4pLHIpOnR9LHIuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6cChbdFswXSx0WzFdXSkscik6bn0sci50aHJlc2hvbGRzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6QXJyYXkuaXNBcnJheSh0KT9wKGguY2FsbCh0KSk6cCh0KSxyKTplfSxyfSx0LnRocmVzaG9sZEZyZWVkbWFuRGlhY29uaXM9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PWQuY2FsbCh0LHUpLnNvcnQobiksTWF0aC5jZWlsKChyLWUpLygyKihOKHQsLjc1KS1OKHQsLjI1KSkqTWF0aC5wb3codC5sZW5ndGgsLTEvMykpKX0sdC50aHJlc2hvbGRTY290dD1mdW5jdGlvbih0LG4sZSl7cmV0dXJuIE1hdGguY2VpbCgoZS1uKS8oMy41KmYodCkqTWF0aC5wb3codC5sZW5ndGgsLTEvMykpKX0sdC50aHJlc2hvbGRTdHVyZ2VzPU0sdC5tYXg9QSx0Lm1lYW49ZnVuY3Rpb24odCxuKXt2YXIgZSxyPXQubGVuZ3RoLGk9cixvPS0xLGE9MDtpZihudWxsPT1uKWZvcig7KytvPHI7KWlzTmFOKGU9dSh0W29dKSk/LS1pOmErPWU7ZWxzZSBmb3IoOysrbzxyOylpc05hTihlPXUobih0W29dLG8sdCkpKT8tLWk6YSs9ZTtpZihpKXJldHVybiBhL2l9LHQubWVkaWFuPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaT10Lmxlbmd0aCxvPS0xLGE9W107aWYobnVsbD09ZSlmb3IoOysrbzxpOylpc05hTihyPXUodFtvXSkpfHxhLnB1c2gocik7ZWxzZSBmb3IoOysrbzxpOylpc05hTihyPXUoZSh0W29dLG8sdCkpKXx8YS5wdXNoKHIpO3JldHVybiBOKGEuc29ydChuKSwuNSl9LHQubWVyZ2U9VCx0Lm1pbj1TLHQucGFpcnM9ZnVuY3Rpb24odCxuKXtudWxsPT1uJiYobj1hKTtmb3IodmFyIGU9MCxyPXQubGVuZ3RoLTEsaT10WzBdLG89bmV3IEFycmF5KHI8MD8wOnIpO2U8cjspb1tlXT1uKGksaT10WysrZV0pO3JldHVybiBvfSx0LnBlcm11dGU9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9bi5sZW5ndGgscj1uZXcgQXJyYXkoZSk7ZS0tOylyW2VdPXRbbltlXV07cmV0dXJuIHJ9LHQucXVhbnRpbGU9Tix0LnJhbmdlPWcsdC5zY2FuPWZ1bmN0aW9uKHQsZSl7aWYocj10Lmxlbmd0aCl7dmFyIHIsaSxvPTAsYT0wLHU9dFthXTtmb3IobnVsbD09ZSYmKGU9bik7KytvPHI7KShlKGk9dFtvXSx1KTwwfHwwIT09ZSh1LHUpKSYmKHU9aSxhPW8pO3JldHVybiAwPT09ZSh1LHUpP2E6dm9pZCAwfX0sdC5zaHVmZmxlPWZ1bmN0aW9uKHQsbixlKXtmb3IodmFyIHIsaSxvPShudWxsPT1lP3QubGVuZ3RoOmUpLShuPW51bGw9PW4/MDorbik7bzspaT1NYXRoLnJhbmRvbSgpKm8tLXwwLHI9dFtvK25dLHRbbytuXT10W2krbl0sdFtpK25dPXI7cmV0dXJuIHR9LHQuc3VtPWZ1bmN0aW9uKHQsbil7dmFyIGUscj10Lmxlbmd0aCxpPS0xLG89MDtpZihudWxsPT1uKWZvcig7KytpPHI7KShlPSt0W2ldKSYmKG8rPWUpO2Vsc2UgZm9yKDsrK2k8cjspKGU9K24odFtpXSxpLHQpKSYmKG8rPWUpO3JldHVybiBvfSx0LnRpY2tzPW0sdC50aWNrSW5jcmVtZW50PXgsdC50aWNrU3RlcD13LHQudHJhbnNwb3NlPWssdC52YXJpYW5jZT1jLHQuemlwPWZ1bmN0aW9uKCl7cmV0dXJuIGsoYXJndW1lbnRzKX0sdC5heGlzVG9wPWZ1bmN0aW9uKHQpe3JldHVybiBZKHosdCl9LHQuYXhpc1JpZ2h0PWZ1bmN0aW9uKHQpe3JldHVybiBZKFIsdCl9LHQuYXhpc0JvdHRvbT1mdW5jdGlvbih0KXtyZXR1cm4gWShELHQpfSx0LmF4aXNMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBZKHEsdCl9LHQuYnJ1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gUGkobWkpfSx0LmJydXNoWD1mdW5jdGlvbigpe3JldHVybiBQaShfaSl9LHQuYnJ1c2hZPWZ1bmN0aW9uKCl7cmV0dXJuIFBpKGJpKX0sdC5icnVzaFNlbGVjdGlvbj1mdW5jdGlvbih0KXt2YXIgbj10Ll9fYnJ1c2g7cmV0dXJuIG4/bi5kaW0ub3V0cHV0KG4uc2VsZWN0aW9uKTpudWxsfSx0LmNob3JkPWZ1bmN0aW9uKCl7dmFyIHQ9MCxuPW51bGwsZT1udWxsLHI9bnVsbDtmdW5jdGlvbiBpKGkpe3ZhciBvLGEsdSxjLGYscyxsPWkubGVuZ3RoLGg9W10sZD1nKGwpLHA9W10sdj1bXSx5PXYuZ3JvdXBzPW5ldyBBcnJheShsKSxfPW5ldyBBcnJheShsKmwpO2ZvcihvPTAsZj0tMTsrK2Y8bDspe2ZvcihhPTAscz0tMTsrK3M8bDspYSs9aVtmXVtzXTtoLnB1c2goYSkscC5wdXNoKGcobCkpLG8rPWF9Zm9yKG4mJmQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBuKGhbdF0saFtlXSl9KSxlJiZwLmZvckVhY2goZnVuY3Rpb24odCxuKXt0LnNvcnQoZnVuY3Rpb24odCxyKXtyZXR1cm4gZShpW25dW3RdLGlbbl1bcl0pfSl9KSxjPShvPVVpKDAsTGktdCpsKS9vKT90OkxpL2wsYT0wLGY9LTE7KytmPGw7KXtmb3IodT1hLHM9LTE7KytzPGw7KXt2YXIgYj1kW2ZdLG09cFtiXVtzXSx4PWlbYl1bbV0sdz1hLE09YSs9eCpvO19bbSpsK2JdPXtpbmRleDpiLHN1YmluZGV4Om0sc3RhcnRBbmdsZTp3LGVuZEFuZ2xlOk0sdmFsdWU6eH19eVtiXT17aW5kZXg6YixzdGFydEFuZ2xlOnUsZW5kQW5nbGU6YSx2YWx1ZTpoW2JdfSxhKz1jfWZvcihmPS0xOysrZjxsOylmb3Iocz1mLTE7KytzPGw7KXt2YXIgTj1fW3MqbCtmXSxBPV9bZipsK3NdOyhOLnZhbHVlfHxBLnZhbHVlKSYmdi5wdXNoKE4udmFsdWU8QS52YWx1ZT97c291cmNlOkEsdGFyZ2V0Ok59Ontzb3VyY2U6Tix0YXJnZXQ6QX0pfXJldHVybiByP3Yuc29ydChyKTp2fXJldHVybiBpLnBhZEFuZ2xlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PVVpKDAsbiksaSk6dH0saS5zb3J0R3JvdXBzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPXQsaSk6bn0saS5zb3J0U3ViZ3JvdXBzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsaSk6ZX0saS5zb3J0Q2hvcmRzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhudWxsPT10P3I9bnVsbDoobj10LHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0LnNvdXJjZS52YWx1ZSt0LnRhcmdldC52YWx1ZSxlLnNvdXJjZS52YWx1ZStlLnRhcmdldC52YWx1ZSl9KS5fPXQsaSk6ciYmci5fO3ZhciBufSxpfSx0LnJpYmJvbj1mdW5jdGlvbigpe3ZhciB0PVhpLG49R2ksZT1WaSxyPSRpLGk9V2ksbz1udWxsO2Z1bmN0aW9uIGEoKXt2YXIgYSx1PU9pLmNhbGwoYXJndW1lbnRzKSxjPXQuYXBwbHkodGhpcyx1KSxmPW4uYXBwbHkodGhpcyx1KSxzPStlLmFwcGx5KHRoaXMsKHVbMF09Yyx1KSksbD1yLmFwcGx5KHRoaXMsdSktcWksaD1pLmFwcGx5KHRoaXMsdSktcWksZD1zKnppKGwpLHA9cypSaShsKSx2PStlLmFwcGx5KHRoaXMsKHVbMF09Zix1KSksZz1yLmFwcGx5KHRoaXMsdSktcWkseT1pLmFwcGx5KHRoaXMsdSktcWk7aWYob3x8KG89YT1IaSgpKSxvLm1vdmVUbyhkLHApLG8uYXJjKDAsMCxzLGwsaCksbD09PWcmJmg9PT15fHwoby5xdWFkcmF0aWNDdXJ2ZVRvKDAsMCx2KnppKGcpLHYqUmkoZykpLG8uYXJjKDAsMCx2LGcseSkpLG8ucXVhZHJhdGljQ3VydmVUbygwLDAsZCxwKSxvLmNsb3NlUGF0aCgpLGEpcmV0dXJuIG89bnVsbCxhKyIifHxudWxsfXJldHVybiBhLnJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OkJpKCt0KSxhKTplfSxhLnN0YXJ0QW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpCaSgrdCksYSk6cn0sYS5lbmRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OkJpKCt0KSxhKTppfSxhLnNvdXJjZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1uLGEpOnR9LGEudGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPXQsYSk6bn0sYS5jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPW51bGw9PXQ/bnVsbDp0LGEpOm99LGF9LHQubmVzdD1mdW5jdGlvbigpe3ZhciB0LG4sZSxyPVtdLGk9W107ZnVuY3Rpb24gbyhlLGksYSx1KXtpZihpPj1yLmxlbmd0aClyZXR1cm4gbnVsbCE9dCYmZS5zb3J0KHQpLG51bGwhPW4/bihlKTplO2Zvcih2YXIgYyxmLHMsbD0tMSxoPWUubGVuZ3RoLGQ9cltpKytdLHA9UWkoKSx2PWEoKTsrK2w8aDspKHM9cC5nZXQoYz1kKGY9ZVtsXSkrIiIpKT9zLnB1c2goZik6cC5zZXQoYyxbZl0pO3JldHVybiBwLmVhY2goZnVuY3Rpb24odCxuKXt1KHYsbixvKHQsaSxhLHUpKX0pLHZ9cmV0dXJuIGU9e29iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbyh0LDAsSmksS2kpfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCwwLHRvLG5vKX0sZW50cmllczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24gdChlLG8pe2lmKCsrbz5yLmxlbmd0aClyZXR1cm4gZTt2YXIgYSx1PWlbby0xXTtyZXR1cm4gbnVsbCE9biYmbz49ci5sZW5ndGg/YT1lLmVudHJpZXMoKTooYT1bXSxlLmVhY2goZnVuY3Rpb24obixlKXthLnB1c2goe2tleTplLHZhbHVlczp0KG4sbyl9KX0pKSxudWxsIT11P2Euc29ydChmdW5jdGlvbih0LG4pe3JldHVybiB1KHQua2V5LG4ua2V5KX0pOmF9KG8odCwwLHRvLG5vKSwwKX0sa2V5OmZ1bmN0aW9uKHQpe3JldHVybiByLnB1c2godCksZX0sc29ydEtleXM6ZnVuY3Rpb24odCl7cmV0dXJuIGlbci5sZW5ndGgtMV09dCxlfSxzb3J0VmFsdWVzOmZ1bmN0aW9uKG4pe3JldHVybiB0PW4sZX0scm9sbHVwOmZ1bmN0aW9uKHQpe3JldHVybiBuPXQsZX19fSx0LnNldD1pbyx0Lm1hcD1RaSx0LmtleXM9ZnVuY3Rpb24odCl7dmFyIG49W107Zm9yKHZhciBlIGluIHQpbi5wdXNoKGUpO3JldHVybiBufSx0LnZhbHVlcz1mdW5jdGlvbih0KXt2YXIgbj1bXTtmb3IodmFyIGUgaW4gdCluLnB1c2godFtlXSk7cmV0dXJuIG59LHQuZW50cmllcz1mdW5jdGlvbih0KXt2YXIgbj1bXTtmb3IodmFyIGUgaW4gdCluLnB1c2goe2tleTplLHZhbHVlOnRbZV19KTtyZXR1cm4gbn0sdC5jb2xvcj1obix0LnJnYj1nbix0LmhzbD1tbix0LmxhYj1Sbix0LmhjbD1Zbix0LmxjaD1mdW5jdGlvbih0LG4sZSxyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/Qm4odCk6bmV3IEZuKGUsbix0LG51bGw9PXI/MTpyKX0sdC5ncmF5PWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBEbih0LDAsMCxudWxsPT1uPzE6bil9LHQuY3ViZWhlbGl4PVpuLHQuY29udG91cnM9cG8sdC5jb250b3VyRGVuc2l0eT1mdW5jdGlvbigpe3ZhciB0PXlvLG49X28sZT1ibyxyPTk2MCxpPTUwMCxvPTIwLGE9Mix1PTMqbyxjPXIrMip1Pj5hLGY9aSsyKnU+PmEscz11bygyMCk7ZnVuY3Rpb24gbChyKXt2YXIgaT1uZXcgRmxvYXQzMkFycmF5KGMqZiksbD1uZXcgRmxvYXQzMkFycmF5KGMqZik7ci5mb3JFYWNoKGZ1bmN0aW9uKHIsbyxzKXt2YXIgbD0rdChyLG8scykrdT4+YSxoPStuKHIsbyxzKSt1Pj5hLGQ9K2UocixvLHMpO2w+PTAmJmw8YyYmaD49MCYmaDxmJiYoaVtsK2gqY10rPWQpfSksdm8oe3dpZHRoOmMsaGVpZ2h0OmYsZGF0YTppfSx7d2lkdGg6YyxoZWlnaHQ6ZixkYXRhOmx9LG8+PmEpLGdvKHt3aWR0aDpjLGhlaWdodDpmLGRhdGE6bH0se3dpZHRoOmMsaGVpZ2h0OmYsZGF0YTppfSxvPj5hKSx2byh7d2lkdGg6YyxoZWlnaHQ6ZixkYXRhOml9LHt3aWR0aDpjLGhlaWdodDpmLGRhdGE6bH0sbz4+YSksZ28oe3dpZHRoOmMsaGVpZ2h0OmYsZGF0YTpsfSx7d2lkdGg6YyxoZWlnaHQ6ZixkYXRhOml9LG8+PmEpLHZvKHt3aWR0aDpjLGhlaWdodDpmLGRhdGE6aX0se3dpZHRoOmMsaGVpZ2h0OmYsZGF0YTpsfSxvPj5hKSxnbyh7d2lkdGg6YyxoZWlnaHQ6ZixkYXRhOmx9LHt3aWR0aDpjLGhlaWdodDpmLGRhdGE6aX0sbz4+YSk7dmFyIGQ9cyhpKTtpZighQXJyYXkuaXNBcnJheShkKSl7dmFyIHA9QShpKTtkPXcoMCxwLGQpLChkPWcoMCxNYXRoLmZsb29yKHAvZCkqZCxkKSkuc2hpZnQoKX1yZXR1cm4gcG8oKS50aHJlc2hvbGRzKGQpLnNpemUoW2MsZl0pKGkpLm1hcChoKX1mdW5jdGlvbiBoKHQpe3JldHVybiB0LnZhbHVlKj1NYXRoLnBvdygyLC0yKmEpLHQuY29vcmRpbmF0ZXMuZm9yRWFjaChkKSx0fWZ1bmN0aW9uIGQodCl7dC5mb3JFYWNoKHApfWZ1bmN0aW9uIHAodCl7dC5mb3JFYWNoKHYpfWZ1bmN0aW9uIHYodCl7dFswXT10WzBdKk1hdGgucG93KDIsYSktdSx0WzFdPXRbMV0qTWF0aC5wb3coMixhKS11fWZ1bmN0aW9uIHkoKXtyZXR1cm4gYz1yKzIqKHU9MypvKT4+YSxmPWkrMip1Pj5hLGx9cmV0dXJuIGwueD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOnVvKCtuKSxsKTp0fSxsLnk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp1bygrdCksbCk6bn0sbC53ZWlnaHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp1bygrdCksbCk6ZX0sbC5zaXplPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybltyLGldO3ZhciBuPU1hdGguY2VpbCh0WzBdKSxlPU1hdGguY2VpbCh0WzFdKTtpZighKG4+PTB8fG4+PTApKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzaXplIik7cmV0dXJuIHI9bixpPWUseSgpfSxsLmNlbGxTaXplPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiAxPDxhO2lmKCEoKHQ9K3QpPj0xKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2VsbCBzaXplIik7cmV0dXJuIGE9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMikseSgpfSxsLnRocmVzaG9sZHM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHM9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpBcnJheS5pc0FycmF5KHQpP3VvKG9vLmNhbGwodCkpOnVvKHQpLGwpOnN9LGwuYmFuZHdpZHRoPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBNYXRoLnNxcnQobyoobysxKSk7aWYoISgodD0rdCk+PTApKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBiYW5kd2lkdGgiKTtyZXR1cm4gbz1NYXRoLnJvdW5kKChNYXRoLnNxcnQoNCp0KnQrMSktMSkvMikseSgpfSxsfSx0LmRpc3BhdGNoPUksdC5kcmFnPWZ1bmN0aW9uKCl7dmFyIG4sZSxyLGksbz1HdCxhPVZ0LHU9JHQsYz1XdCxmPXt9LHM9SSgic3RhcnQiLCJkcmFnIiwiZW5kIiksbD0wLGg9MDtmdW5jdGlvbiBkKHQpe3Qub24oIm1vdXNlZG93bi5kcmFnIixwKS5maWx0ZXIoYykub24oInRvdWNoc3RhcnQuZHJhZyIseSkub24oInRvdWNobW92ZS5kcmFnIixfKS5vbigidG91Y2hlbmQuZHJhZyB0b3VjaGNhbmNlbC5kcmFnIixiKS5zdHlsZSgidG91Y2gtYWN0aW9uIiwibm9uZSIpLnN0eWxlKCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiLCJyZ2JhKDAsMCwwLDApIil9ZnVuY3Rpb24gcCgpe2lmKCFpJiZvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIHU9bSgibW91c2UiLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpLE90LHRoaXMsYXJndW1lbnRzKTt1JiYoenQodC5ldmVudC52aWV3KS5vbigibW91c2Vtb3ZlLmRyYWciLHYsITApLm9uKCJtb3VzZXVwLmRyYWciLGcsITApLEl0KHQuZXZlbnQudmlldyksWXQoKSxyPSExLG49dC5ldmVudC5jbGllbnRYLGU9dC5ldmVudC5jbGllbnRZLHUoInN0YXJ0IikpfX1mdW5jdGlvbiB2KCl7aWYoRnQoKSwhcil7dmFyIGk9dC5ldmVudC5jbGllbnRYLW4sbz10LmV2ZW50LmNsaWVudFktZTtyPWkqaStvKm8+aH1mLm1vdXNlKCJkcmFnIil9ZnVuY3Rpb24gZygpe3p0KHQuZXZlbnQudmlldykub24oIm1vdXNlbW92ZS5kcmFnIG1vdXNldXAuZHJhZyIsbnVsbCksanQodC5ldmVudC52aWV3LHIpLEZ0KCksZi5tb3VzZSgiZW5kIil9ZnVuY3Rpb24geSgpe2lmKG8uYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgbixlLHI9dC5ldmVudC5jaGFuZ2VkVG91Y2hlcyxpPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpLHU9ci5sZW5ndGg7Zm9yKG49MDtuPHU7KytuKShlPW0ocltuXS5pZGVudGlmaWVyLGksQnQsdGhpcyxhcmd1bWVudHMpKSYmKFl0KCksZSgic3RhcnQiKSl9fWZ1bmN0aW9uIF8oKXt2YXIgbixlLHI9dC5ldmVudC5jaGFuZ2VkVG91Y2hlcyxpPXIubGVuZ3RoO2ZvcihuPTA7bjxpOysrbikoZT1mW3Jbbl0uaWRlbnRpZmllcl0pJiYoRnQoKSxlKCJkcmFnIikpfWZ1bmN0aW9uIGIoKXt2YXIgbixlLHI9dC5ldmVudC5jaGFuZ2VkVG91Y2hlcyxvPXIubGVuZ3RoO2ZvcihpJiZjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT1udWxsfSw1MDApLG49MDtuPG87KytuKShlPWZbcltuXS5pZGVudGlmaWVyXSkmJihZdCgpLGUoImVuZCIpKX1mdW5jdGlvbiBtKG4sZSxyLGksbyl7dmFyIGEsYyxoLHA9cihlLG4pLHY9cy5jb3B5KCk7aWYoU3QobmV3IFh0KGQsImJlZm9yZXN0YXJ0IixhLG4sbCxwWzBdLHBbMV0sMCwwLHYpLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPSh0LmV2ZW50LnN1YmplY3Q9YT11LmFwcGx5KGksbykpJiYoYz1hLngtcFswXXx8MCxoPWEueS1wWzFdfHwwLCEwKX0pKXJldHVybiBmdW5jdGlvbiB0KHUpe3ZhciBzLGc9cDtzd2l0Y2godSl7Y2FzZSJzdGFydCI6ZltuXT10LHM9bCsrO2JyZWFrO2Nhc2UiZW5kIjpkZWxldGUgZltuXSwtLWw7Y2FzZSJkcmFnIjpwPXIoZSxuKSxzPWx9U3QobmV3IFh0KGQsdSxhLG4scyxwWzBdK2MscFsxXStoLHBbMF0tZ1swXSxwWzFdLWdbMV0sdiksdi5hcHBseSx2LFt1LGksb10pfX1yZXR1cm4gZC5maWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpIdCghIXQpLGQpOm99LGQuY29udGFpbmVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6SHQodCksZCk6YX0sZC5zdWJqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6SHQodCksZCk6dX0sZC50b3VjaGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpIdCghIXQpLGQpOmN9LGQub249ZnVuY3Rpb24oKXt2YXIgdD1zLm9uLmFwcGx5KHMsYXJndW1lbnRzKTtyZXR1cm4gdD09PXM/ZDp0fSxkLmNsaWNrRGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9KHQ9K3QpKnQsZCk6TWF0aC5zcXJ0KGgpfSxkfSx0LmRyYWdEaXNhYmxlPUl0LHQuZHJhZ0VuYWJsZT1qdCx0LmRzdkZvcm1hdD1Fbyx0LmNzdlBhcnNlPVBvLHQuY3N2UGFyc2VSb3dzPXpvLHQuY3N2Rm9ybWF0PVJvLHQuY3N2Rm9ybWF0Qm9keT1Ebyx0LmNzdkZvcm1hdFJvd3M9cW8sdC50c3ZQYXJzZT1Vbyx0LnRzdlBhcnNlUm93cz1Pbyx0LnRzdkZvcm1hdD1Cbyx0LnRzdkZvcm1hdEJvZHk9WW8sdC50c3ZGb3JtYXRSb3dzPUZvLHQuYXV0b1R5cGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpe3ZhciBlLHI9dFtuXS50cmltKCk7aWYocilpZigidHJ1ZSI9PT1yKXI9ITA7ZWxzZSBpZigiZmFsc2UiPT09cilyPSExO2Vsc2UgaWYoIk5hTiI9PT1yKXI9TmFOO2Vsc2UgaWYoaXNOYU4oZT0rcikpe2lmKCEvXihbLStdXGR7Mn0pP1xkezR9KC1cZHsyfSgtXGR7Mn0pPyk/KFRcZHsyfTpcZHsyfSg6XGR7Mn0oXC5cZHszfSk/KT8oWnxbLStdXGR7Mn06XGR7Mn0pPyk/JC8udGVzdChyKSljb250aW51ZTtyPW5ldyBEYXRlKHIpfWVsc2Ugcj1lO2Vsc2Ugcj1udWxsO3Rbbl09cn1yZXR1cm4gdH0sdC5lYXNlTGluZWFyPWZ1bmN0aW9uKHQpe3JldHVybit0fSx0LmVhc2VRdWFkPVJyLHQuZWFzZVF1YWRJbj1mdW5jdGlvbih0KXtyZXR1cm4gdCp0fSx0LmVhc2VRdWFkT3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSx0LmVhc2VRdWFkSW5PdXQ9UnIsdC5lYXNlQ3ViaWM9RHIsdC5lYXNlQ3ViaWNJbj1mdW5jdGlvbih0KXtyZXR1cm4gdCp0KnR9LHQuZWFzZUN1YmljT3V0PWZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sdC5lYXNlQ3ViaWNJbk91dD1Ecix0LmVhc2VQb2x5PVVyLHQuZWFzZVBvbHlJbj1xcix0LmVhc2VQb2x5T3V0PUxyLHQuZWFzZVBvbHlJbk91dD1Vcix0LmVhc2VTaW49WXIsdC5lYXNlU2luSW49ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpCcil9LHQuZWFzZVNpbk91dD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpCcil9LHQuZWFzZVNpbkluT3V0PVlyLHQuZWFzZUV4cD1Gcix0LmVhc2VFeHBJbj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMiwxMCp0LTEwKX0sdC5lYXNlRXhwT3V0PWZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGgucG93KDIsLTEwKnQpfSx0LmVhc2VFeHBJbk91dD1Gcix0LmVhc2VDaXJjbGU9SXIsdC5lYXNlQ2lyY2xlSW49ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sdC5lYXNlQ2lyY2xlT3V0PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSx0LmVhc2VDaXJjbGVJbk91dD1Jcix0LmVhc2VCb3VuY2U9S3IsdC5lYXNlQm91bmNlSW49ZnVuY3Rpb24odCl7cmV0dXJuIDEtS3IoMS10KX0sdC5lYXNlQm91bmNlT3V0PUtyLHQuZWFzZUJvdW5jZUluT3V0PWZ1bmN0aW9uKHQpe3JldHVybigodCo9Mik8PTE/MS1LcigxLXQpOktyKHQtMSkrMSkvMn0sdC5lYXNlQmFjaz1laSx0LmVhc2VCYWNrSW49dGksdC5lYXNlQmFja091dD1uaSx0LmVhc2VCYWNrSW5PdXQ9ZWksdC5lYXNlRWxhc3RpYz1vaSx0LmVhc2VFbGFzdGljSW49aWksdC5lYXNlRWxhc3RpY091dD1vaSx0LmVhc2VFbGFzdGljSW5PdXQ9YWksdC5ibG9iPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZldGNoKHQsbikudGhlbihJbyl9LHQuYnVmZmVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZldGNoKHQsbikudGhlbihqbyl9LHQuZHN2PWZ1bmN0aW9uKHQsbixlLHIpezM9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9ZSxlPXZvaWQgMCk7dmFyIGk9RW8odCk7cmV0dXJuIFhvKG4sZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5wYXJzZSh0LHIpfSl9LHQuY3N2PVZvLHQudHN2PSRvLHQuaW1hZ2U9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxyKXt2YXIgaT1uZXcgSW1hZ2U7Zm9yKHZhciBvIGluIG4paVtvXT1uW29dO2kub25lcnJvcj1yLGkub25sb2FkPWZ1bmN0aW9uKCl7ZShpKX0saS5zcmM9dH0pfSx0Lmpzb249ZnVuY3Rpb24odCxuKXtyZXR1cm4gZmV0Y2godCxuKS50aGVuKFdvKX0sdC50ZXh0PVhvLHQueG1sPVFvLHQuaHRtbD1Kbyx0LnN2Zz1Lbyx0LmZvcmNlQ2VudGVyPWZ1bmN0aW9uKHQsbil7dmFyIGU7ZnVuY3Rpb24gcigpe3ZhciByLGksbz1lLmxlbmd0aCxhPTAsdT0wO2ZvcihyPTA7cjxvOysrcilhKz0oaT1lW3JdKS54LHUrPWkueTtmb3IoYT1hL28tdCx1PXUvby1uLHI9MDtyPG87KytyKShpPWVbcl0pLngtPWEsaS55LT11fXJldHVybiBudWxsPT10JiYodD0wKSxudWxsPT1uJiYobj0wKSxyLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7ZT10fSxyLng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9K24scik6dH0sci55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPSt0LHIpOm59LHJ9LHQuZm9yY2VDb2xsaWRlPWZ1bmN0aW9uKHQpe3ZhciBuLGUscj0xLGk9MTtmdW5jdGlvbiBvKCl7Zm9yKHZhciB0LG8sdSxjLGYscyxsLGg9bi5sZW5ndGgsZD0wO2Q8aTsrK2QpZm9yKG89YWEobixzYSxsYSkudmlzaXRBZnRlcihhKSx0PTA7dDxoOysrdCl1PW5bdF0scz1lW3UuaW5kZXhdLGw9cypzLGM9dS54K3UudngsZj11LnkrdS52eSxvLnZpc2l0KHApO2Z1bmN0aW9uIHAodCxuLGUsaSxvKXt2YXIgYT10LmRhdGEsaD10LnIsZD1zK2g7aWYoIWEpcmV0dXJuIG4+YytkfHxpPGMtZHx8ZT5mK2R8fG88Zi1kO2lmKGEuaW5kZXg+dS5pbmRleCl7dmFyIHA9Yy1hLngtYS52eCx2PWYtYS55LWEudnksZz1wKnArdip2O2c8ZCpkJiYoMD09PXAmJihnKz0ocD1uYSgpKSpwKSwwPT09diYmKGcrPSh2PW5hKCkpKnYpLGc9KGQtKGc9TWF0aC5zcXJ0KGcpKSkvZypyLHUudngrPShwKj1nKSooZD0oaCo9aCkvKGwraCkpLHUudnkrPSh2Kj1nKSpkLGEudngtPXAqKGQ9MS1kKSxhLnZ5LT12KmQpfX19ZnVuY3Rpb24gYSh0KXtpZih0LmRhdGEpcmV0dXJuIHQucj1lW3QuZGF0YS5pbmRleF07Zm9yKHZhciBuPXQucj0wO248NDsrK24pdFtuXSYmdFtuXS5yPnQuciYmKHQucj10W25dLnIpfWZ1bmN0aW9uIHUoKXtpZihuKXt2YXIgcixpLG89bi5sZW5ndGg7Zm9yKGU9bmV3IEFycmF5KG8pLHI9MDtyPG87KytyKWk9bltyXSxlW2kuaW5kZXhdPSt0KGkscixuKX19cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PXRhKG51bGw9PXQ/MTordCkpLG8uaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtuPXQsdSgpfSxvLml0ZXJhdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9K3Qsbyk6aX0sby5zdHJlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0rdCxvKTpyfSxvLnJhZGl1cz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOnRhKCtuKSx1KCksbyk6dH0sb30sdC5mb3JjZUxpbms9ZnVuY3Rpb24odCl7dmFyIG4sZSxyLGksbyxhPWhhLHU9ZnVuY3Rpb24odCl7cmV0dXJuIDEvTWF0aC5taW4oaVt0LnNvdXJjZS5pbmRleF0saVt0LnRhcmdldC5pbmRleF0pfSxjPXRhKDMwKSxmPTE7ZnVuY3Rpb24gcyhyKXtmb3IodmFyIGk9MCxhPXQubGVuZ3RoO2k8ZjsrK2kpZm9yKHZhciB1LGMscyxsLGgsZCxwLHY9MDt2PGE7Kyt2KWM9KHU9dFt2XSkuc291cmNlLGw9KHM9dS50YXJnZXQpLngrcy52eC1jLngtYy52eHx8bmEoKSxoPXMueStzLnZ5LWMueS1jLnZ5fHxuYSgpLGwqPWQ9KChkPU1hdGguc3FydChsKmwraCpoKSktZVt2XSkvZCpyKm5bdl0saCo9ZCxzLnZ4LT1sKihwPW9bdl0pLHMudnktPWgqcCxjLnZ4Kz1sKihwPTEtcCksYy52eSs9aCpwfWZ1bmN0aW9uIGwoKXtpZihyKXt2YXIgdSxjLGY9ci5sZW5ndGgscz10Lmxlbmd0aCxsPVFpKHIsYSk7Zm9yKHU9MCxpPW5ldyBBcnJheShmKTt1PHM7Kyt1KShjPXRbdV0pLmluZGV4PXUsIm9iamVjdCIhPXR5cGVvZiBjLnNvdXJjZSYmKGMuc291cmNlPWRhKGwsYy5zb3VyY2UpKSwib2JqZWN0IiE9dHlwZW9mIGMudGFyZ2V0JiYoYy50YXJnZXQ9ZGEobCxjLnRhcmdldCkpLGlbYy5zb3VyY2UuaW5kZXhdPShpW2Muc291cmNlLmluZGV4XXx8MCkrMSxpW2MudGFyZ2V0LmluZGV4XT0oaVtjLnRhcmdldC5pbmRleF18fDApKzE7Zm9yKHU9MCxvPW5ldyBBcnJheShzKTt1PHM7Kyt1KWM9dFt1XSxvW3VdPWlbYy5zb3VyY2UuaW5kZXhdLyhpW2Muc291cmNlLmluZGV4XStpW2MudGFyZ2V0LmluZGV4XSk7bj1uZXcgQXJyYXkocyksaCgpLGU9bmV3IEFycmF5KHMpLGQoKX19ZnVuY3Rpb24gaCgpe2lmKHIpZm9yKHZhciBlPTAsaT10Lmxlbmd0aDtlPGk7KytlKW5bZV09K3UodFtlXSxlLHQpfWZ1bmN0aW9uIGQoKXtpZihyKWZvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpOysrbillW25dPStjKHRbbl0sbix0KX1yZXR1cm4gbnVsbD09dCYmKHQ9W10pLHMuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyPXQsbCgpfSxzLmxpbmtzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW4sbCgpLHMpOnR9LHMuaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9dCxzKTphfSxzLml0ZXJhdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9K3Qscyk6Zn0scy5zdHJlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OnRhKCt0KSxoKCkscyk6dX0scy5kaXN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0iZnVuY3Rpb24iPT10eXBlb2YgdD90OnRhKCt0KSxkKCkscyk6Y30sc30sdC5mb3JjZU1hbnlCb2R5PWZ1bmN0aW9uKCl7dmFyIHQsbixlLHIsaT10YSgtMzApLG89MSxhPTEvMCx1PS44MTtmdW5jdGlvbiBjKHIpe3ZhciBpLG89dC5sZW5ndGgsYT1hYSh0LHBhLHZhKS52aXNpdEFmdGVyKHMpO2ZvcihlPXIsaT0wO2k8bzsrK2kpbj10W2ldLGEudmlzaXQobCl9ZnVuY3Rpb24gZigpe2lmKHQpe3ZhciBuLGUsbz10Lmxlbmd0aDtmb3Iocj1uZXcgQXJyYXkobyksbj0wO248bzsrK24pZT10W25dLHJbZS5pbmRleF09K2koZSxuLHQpfX1mdW5jdGlvbiBzKHQpe3ZhciBuLGUsaSxvLGEsdT0wLGM9MDtpZih0Lmxlbmd0aCl7Zm9yKGk9bz1hPTA7YTw0OysrYSkobj10W2FdKSYmKGU9TWF0aC5hYnMobi52YWx1ZSkpJiYodSs9bi52YWx1ZSxjKz1lLGkrPWUqbi54LG8rPWUqbi55KTt0Lng9aS9jLHQueT1vL2N9ZWxzZXsobj10KS54PW4uZGF0YS54LG4ueT1uLmRhdGEueTtkb3t1Kz1yW24uZGF0YS5pbmRleF19d2hpbGUobj1uLm5leHQpfXQudmFsdWU9dX1mdW5jdGlvbiBsKHQsaSxjLGYpe2lmKCF0LnZhbHVlKXJldHVybiEwO3ZhciBzPXQueC1uLngsbD10Lnktbi55LGg9Zi1pLGQ9cypzK2wqbDtpZihoKmgvdTxkKXJldHVybiBkPGEmJigwPT09cyYmKGQrPShzPW5hKCkpKnMpLDA9PT1sJiYoZCs9KGw9bmEoKSkqbCksZDxvJiYoZD1NYXRoLnNxcnQobypkKSksbi52eCs9cyp0LnZhbHVlKmUvZCxuLnZ5Kz1sKnQudmFsdWUqZS9kKSwhMDtpZighKHQubGVuZ3RofHxkPj1hKSl7KHQuZGF0YSE9PW58fHQubmV4dCkmJigwPT09cyYmKGQrPShzPW5hKCkpKnMpLDA9PT1sJiYoZCs9KGw9bmEoKSkqbCksZDxvJiYoZD1NYXRoLnNxcnQobypkKSkpO2Rve3QuZGF0YSE9PW4mJihoPXJbdC5kYXRhLmluZGV4XSplL2Qsbi52eCs9cypoLG4udnkrPWwqaCl9d2hpbGUodD10Lm5leHQpfX1yZXR1cm4gYy5pbml0aWFsaXplPWZ1bmN0aW9uKG4pe3Q9bixmKCl9LGMuc3RyZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp0YSgrdCksZigpLGMpOml9LGMuZGlzdGFuY2VNaW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89dCp0LGMpOk1hdGguc3FydChvKX0sYy5kaXN0YW5jZU1heD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT10KnQsYyk6TWF0aC5zcXJ0KGEpfSxjLnRoZXRhPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQqdCxjKTpNYXRoLnNxcnQodSl9LGN9LHQuZm9yY2VSYWRpYWw9ZnVuY3Rpb24odCxuLGUpe3ZhciByLGksbyxhPXRhKC4xKTtmdW5jdGlvbiB1KHQpe2Zvcih2YXIgYT0wLHU9ci5sZW5ndGg7YTx1OysrYSl7dmFyIGM9clthXSxmPWMueC1ufHwxZS02LHM9Yy55LWV8fDFlLTYsbD1NYXRoLnNxcnQoZipmK3MqcyksaD0ob1thXS1sKSppW2FdKnQvbDtjLnZ4Kz1mKmgsYy52eSs9cypofX1mdW5jdGlvbiBjKCl7aWYocil7dmFyIG4sZT1yLmxlbmd0aDtmb3IoaT1uZXcgQXJyYXkoZSksbz1uZXcgQXJyYXkoZSksbj0wO248ZTsrK24pb1tuXT0rdChyW25dLG4sciksaVtuXT1pc05hTihvW25dKT8wOithKHJbbl0sbixyKX19cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PXRhKCt0KSksbnVsbD09biYmKG49MCksbnVsbD09ZSYmKGU9MCksdS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3I9dCxjKCl9LHUuc3RyZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp0YSgrdCksYygpLHUpOmF9LHUucmFkaXVzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246dGEoK24pLGMoKSx1KTp0fSx1Lng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K3QsdSk6bn0sdS55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPSt0LHUpOmV9LHV9LHQuZm9yY2VTaW11bGF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuLGU9MSxyPS4wMDEsaT0xLU1hdGgucG93KHIsMS8zMDApLG89MCxhPS42LHU9UWkoKSxjPWlyKHMpLGY9SSgidGljayIsImVuZCIpO2Z1bmN0aW9uIHMoKXtsKCksZi5jYWxsKCJ0aWNrIixuKSxlPHImJihjLnN0b3AoKSxmLmNhbGwoImVuZCIsbikpfWZ1bmN0aW9uIGwocil7dmFyIGMsZixzPXQubGVuZ3RoO3ZvaWQgMD09PXImJihyPTEpO2Zvcih2YXIgbD0wO2w8cjsrK2wpZm9yKGUrPShvLWUpKmksdS5lYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KSxjPTA7YzxzOysrYyludWxsPT0oZj10W2NdKS5meD9mLngrPWYudngqPWE6KGYueD1mLmZ4LGYudng9MCksbnVsbD09Zi5meT9mLnkrPWYudnkqPWE6KGYueT1mLmZ5LGYudnk9MCk7cmV0dXJuIG59ZnVuY3Rpb24gaCgpe2Zvcih2YXIgbixlPTAscj10Lmxlbmd0aDtlPHI7KytlKXtpZigobj10W2VdKS5pbmRleD1lLG51bGwhPW4uZngmJihuLng9bi5meCksbnVsbCE9bi5meSYmKG4ueT1uLmZ5KSxpc05hTihuLngpfHxpc05hTihuLnkpKXt2YXIgaT1nYSpNYXRoLnNxcnQoZSksbz1lKnlhO24ueD1pKk1hdGguY29zKG8pLG4ueT1pKk1hdGguc2luKG8pfShpc05hTihuLnZ4KXx8aXNOYU4obi52eSkpJiYobi52eD1uLnZ5PTApfX1mdW5jdGlvbiBkKG4pe3JldHVybiBuLmluaXRpYWxpemUmJm4uaW5pdGlhbGl6ZSh0KSxufXJldHVybiBudWxsPT10JiYodD1bXSksaCgpLG49e3RpY2s6bCxyZXN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIGMucmVzdGFydChzKSxufSxzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGMuc3RvcCgpLG59LG5vZGVzOmZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsaCgpLHUuZWFjaChkKSxuKTp0fSxhbHBoYTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0rdCxuKTplfSxhbHBoYU1pbjpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0rdCxuKTpyfSxhbHBoYURlY2F5OmZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSt0LG4pOitpfSxhbHBoYVRhcmdldDpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz0rdCxuKTpvfSx2ZWxvY2l0eURlY2F5OmZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPTEtdCxuKToxLWF9LGZvcmNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT8obnVsbD09ZT91LnJlbW92ZSh0KTp1LnNldCh0LGQoZSkpLG4pOnUuZ2V0KHQpfSxmaW5kOmZ1bmN0aW9uKG4sZSxyKXt2YXIgaSxvLGEsdSxjLGY9MCxzPXQubGVuZ3RoO2ZvcihudWxsPT1yP3I9MS8wOnIqPXIsZj0wO2Y8czsrK2YpKGE9KGk9bi0odT10W2ZdKS54KSppKyhvPWUtdS55KSpvKTxyJiYoYz11LHI9YSk7cmV0dXJuIGN9LG9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT8oZi5vbih0LGUpLG4pOmYub24odCl9fX0sdC5mb3JjZVg9ZnVuY3Rpb24odCl7dmFyIG4sZSxyLGk9dGEoLjEpO2Z1bmN0aW9uIG8odCl7Zm9yKHZhciBpLG89MCxhPW4ubGVuZ3RoO288YTsrK28pKGk9bltvXSkudngrPShyW29dLWkueCkqZVtvXSp0fWZ1bmN0aW9uIGEoKXtpZihuKXt2YXIgbyxhPW4ubGVuZ3RoO2ZvcihlPW5ldyBBcnJheShhKSxyPW5ldyBBcnJheShhKSxvPTA7bzxhOysrbyllW29dPWlzTmFOKHJbb109K3QobltvXSxvLG4pKT8wOitpKG5bb10sbyxuKX19cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PXRhKG51bGw9PXQ/MDordCkpLG8uaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtuPXQsYSgpfSxvLnN0cmVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6dGEoK3QpLGEoKSxvKTppfSxvLng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjp0YSgrbiksYSgpLG8pOnR9LG99LHQuZm9yY2VZPWZ1bmN0aW9uKHQpe3ZhciBuLGUscixpPXRhKC4xKTtmdW5jdGlvbiBvKHQpe2Zvcih2YXIgaSxvPTAsYT1uLmxlbmd0aDtvPGE7KytvKShpPW5bb10pLnZ5Kz0ocltvXS1pLnkpKmVbb10qdH1mdW5jdGlvbiBhKCl7aWYobil7dmFyIG8sYT1uLmxlbmd0aDtmb3IoZT1uZXcgQXJyYXkoYSkscj1uZXcgQXJyYXkoYSksbz0wO288YTsrK28pZVtvXT1pc05hTihyW29dPSt0KG5bb10sbyxuKSk/MDoraShuW29dLG8sbil9fXJldHVybiJmdW5jdGlvbiIhPXR5cGVvZiB0JiYodD10YShudWxsPT10PzA6K3QpKSxvLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7bj10LGEoKX0sby5zdHJlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OnRhKCt0KSxhKCksbyk6aX0sby55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246dGEoK24pLGEoKSxvKTp0fSxvfSx0LmZvcm1hdERlZmF1bHRMb2NhbGU9Q2EsdC5mb3JtYXRMb2NhbGU9RWEsdC5mb3JtYXRTcGVjaWZpZXI9d2EsdC5wcmVjaXNpb25GaXhlZD1QYSx0LnByZWNpc2lvblByZWZpeD16YSx0LnByZWNpc2lvblJvdW5kPVJhLHQuZ2VvQXJlYT1mdW5jdGlvbih0KXtyZXR1cm4gbXUucmVzZXQoKSxkdSh0LHh1KSwyKm11fSx0Lmdlb0JvdW5kcz1mdW5jdGlvbih0KXt2YXIgbixlLHIsaSxvLGEsdTtpZihMdT1xdT0tKFJ1PUR1PTEvMCksRnU9W10sZHUodCxhYyksZT1GdS5sZW5ndGgpe2ZvcihGdS5zb3J0KHZjKSxuPTEsbz1bcj1GdVswXV07bjxlOysrbilnYyhyLChpPUZ1W25dKVswXSl8fGdjKHIsaVsxXSk/KHBjKHJbMF0saVsxXSk+cGMoclswXSxyWzFdKSYmKHJbMV09aVsxXSkscGMoaVswXSxyWzFdKT5wYyhyWzBdLHJbMV0pJiYoclswXT1pWzBdKSk6by5wdXNoKHI9aSk7Zm9yKGE9LTEvMCxuPTAscj1vW2U9by5sZW5ndGgtMV07bjw9ZTtyPWksKytuKWk9b1tuXSwodT1wYyhyWzFdLGlbMF0pKT5hJiYoYT11LFJ1PWlbMF0scXU9clsxXSl9cmV0dXJuIEZ1PUl1PW51bGwsUnU9PT0xLzB8fER1PT09MS8wP1tbTmFOLE5hTl0sW05hTixOYU5dXTpbW1J1LER1XSxbcXUsTHVdXX0sdC5nZW9DZW50cm9pZD1mdW5jdGlvbih0KXtqdT1IdT1YdT1HdT1WdT0kdT1XdT1adT1RdT1KdT1LdT0wLGR1KHQseWMpO3ZhciBuPVF1LGU9SnUscj1LdSxpPW4qbitlKmUrcipyO3JldHVybiBpPEJhJiYobj0kdSxlPVd1LHI9WnUsSHU8T2EmJihuPVh1LGU9R3Uscj1WdSksKGk9bipuK2UqZStyKnIpPEJhKT9bTmFOLE5hTl06WyRhKGUsbikqSGEsb3Uoci9ldShpKSkqSGFdfSx0Lmdlb0NpcmNsZT1mdW5jdGlvbigpe3ZhciB0LG4sZT1rYyhbMCwwXSkscj1rYyg5MCksaT1rYyg2KSxvPXtwb2ludDpmdW5jdGlvbihlLHIpe3QucHVzaChlPW4oZSxyKSksZVswXSo9SGEsZVsxXSo9SGF9fTtmdW5jdGlvbiBhKCl7dmFyIGE9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdT1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSpYYSxjPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpKlhhO3JldHVybiB0PVtdLG49UGMoLWFbMF0qWGEsLWFbMV0qWGEsMCkuaW52ZXJ0LExjKG8sdSxjLDEpLGE9e3R5cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOlt0XX0sdD1uPW51bGwsYX1yZXR1cm4gYS5jZW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDprYyhbK3RbMF0sK3RbMV1dKSxhKTplfSxhLnJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmtjKCt0KSxhKTpyfSxhLnByZWNpc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmtjKCt0KSxhKTppfSxhfSx0Lmdlb0NsaXBBbnRpbWVyaWRpYW49JGMsdC5nZW9DbGlwQ2lyY2xlPVdjLHQuZ2VvQ2xpcEV4dGVudD1mdW5jdGlvbigpe3ZhciB0LG4sZSxyPTAsaT0wLG89OTYwLGE9NTAwO3JldHVybiBlPXtzdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIHQmJm49PT1lP3Q6dD1KYyhyLGksbyxhKShuPWUpfSxleHRlbnQ6ZnVuY3Rpb24odSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9K3VbMF1bMF0saT0rdVswXVsxXSxvPSt1WzFdWzBdLGE9K3VbMV1bMV0sdD1uPW51bGwsZSk6W1tyLGldLFtvLGFdXX19fSx0Lmdlb0NsaXBSZWN0YW5nbGU9SmMsdC5nZW9Db250YWlucz1mdW5jdGlvbih0LG4pe3JldHVybih0JiZoZi5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpP2hmW3QudHlwZV06cGYpKHQsbil9LHQuZ2VvRGlzdGFuY2U9bGYsdC5nZW9HcmF0aWN1bGU9d2YsdC5nZW9HcmF0aWN1bGUxMD1mdW5jdGlvbigpe3JldHVybiB3ZigpKCl9LHQuZ2VvSW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxuKXt2YXIgZT10WzBdKlhhLHI9dFsxXSpYYSxpPW5bMF0qWGEsbz1uWzFdKlhhLGE9V2EociksdT10dShyKSxjPVdhKG8pLGY9dHUobykscz1hKldhKGUpLGw9YSp0dShlKSxoPWMqV2EoaSksZD1jKnR1KGkpLHA9MipvdShldShhdShvLXIpK2EqYyphdShpLWUpKSksdj10dShwKSxnPXA/ZnVuY3Rpb24odCl7dmFyIG49dHUodCo9cCkvdixlPXR1KHAtdCkvdixyPWUqcytuKmgsaT1lKmwrbipkLG89ZSp1K24qZjtyZXR1cm5bJGEoaSxyKSpIYSwkYShvLGV1KHIqcitpKmkpKSpIYV19OmZ1bmN0aW9uKCl7cmV0dXJuW2UqSGEscipIYV19O3JldHVybiBnLmRpc3RhbmNlPXAsZ30sdC5nZW9MZW5ndGg9Y2YsdC5nZW9QYXRoPWZ1bmN0aW9uKHQsbil7dmFyIGUscixpPTQuNTtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiYoImZ1bmN0aW9uIj09dHlwZW9mIGkmJnIucG9pbnRSYWRpdXMoK2kuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxkdSh0LGUocikpKSxyLnJlc3VsdCgpfXJldHVybiBvLmFyZWE9ZnVuY3Rpb24odCl7cmV0dXJuIGR1KHQsZShDZikpLENmLnJlc3VsdCgpfSxvLm1lYXN1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGR1KHQsZShncykpLGdzLnJlc3VsdCgpfSxvLmJvdW5kcz1mdW5jdGlvbih0KXtyZXR1cm4gZHUodCxlKEJmKSksQmYucmVzdWx0KCl9LG8uY2VudHJvaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGR1KHQsZShLZikpLEtmLnJlc3VsdCgpfSxvLnByb2plY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bnVsbD09bj8odD1udWxsLE1mKToodD1uKS5zdHJlYW0sbyk6dH0sby5jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW51bGw9PXQ/KG49bnVsbCxuZXcgYnMpOm5ldyBmcyhuPXQpLCJmdW5jdGlvbiIhPXR5cGVvZiBpJiZyLnBvaW50UmFkaXVzKGkpLG8pOm59LG8ucG9pbnRSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDooci5wb2ludFJhZGl1cygrdCksK3QpLG8pOml9LG8ucHJvamVjdGlvbih0KS5jb250ZXh0KG4pfSx0Lmdlb0FsYmVycz1Pcyx0Lmdlb0FsYmVyc1VzYT1mdW5jdGlvbigpe3ZhciB0LG4sZSxyLGksbyxhPU9zKCksdT1VcygpLnJvdGF0ZShbMTU0LDBdKS5jZW50ZXIoWy0yLDU4LjVdKS5wYXJhbGxlbHMoWzU1LDY1XSksYz1VcygpLnJvdGF0ZShbMTU3LDBdKS5jZW50ZXIoWy0zLDE5LjldKS5wYXJhbGxlbHMoWzgsMThdKSxmPXtwb2ludDpmdW5jdGlvbih0LG4pe289W3Qsbl19fTtmdW5jdGlvbiBzKHQpe3ZhciBuPXRbMF0sYT10WzFdO3JldHVybiBvPW51bGwsZS5wb2ludChuLGEpLG98fChyLnBvaW50KG4sYSksbyl8fChpLnBvaW50KG4sYSksbyl9ZnVuY3Rpb24gbCgpe3JldHVybiB0PW49bnVsbCxzfXJldHVybiBzLmludmVydD1mdW5jdGlvbih0KXt2YXIgbj1hLnNjYWxlKCksZT1hLnRyYW5zbGF0ZSgpLHI9KHRbMF0tZVswXSkvbixpPSh0WzFdLWVbMV0pL247cmV0dXJuKGk+PS4xMiYmaTwuMjM0JiZyPj0tLjQyNSYmcjwtLjIxND91Omk+PS4xNjYmJmk8LjIzNCYmcj49LS4yMTQmJnI8LS4xMTU/YzphKS5pbnZlcnQodCl9LHMuc3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0JiZuPT09ZT90OihyPVthLnN0cmVhbShuPWUpLHUuc3RyZWFtKGUpLGMuc3RyZWFtKGUpXSxpPXIubGVuZ3RoLHQ9e3BvaW50OmZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPS0xOysrZTxpOylyW2VdLnBvaW50KHQsbil9LHNwaGVyZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0tMTsrK3Q8aTspclt0XS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PS0xOysrdDxpOylyW3RdLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PS0xOysrdDxpOylyW3RdLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PS0xOysrdDxpOylyW3RdLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PS0xOysrdDxpOylyW3RdLnBvbHlnb25FbmQoKX19KTt2YXIgcixpfSxzLnByZWNpc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYS5wcmVjaXNpb24odCksdS5wcmVjaXNpb24odCksYy5wcmVjaXNpb24odCksbCgpKTphLnByZWNpc2lvbigpfSxzLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhLnNjYWxlKHQpLHUuc2NhbGUoLjM1KnQpLGMuc2NhbGUodCkscy50cmFuc2xhdGUoYS50cmFuc2xhdGUoKSkpOmEuc2NhbGUoKX0scy50cmFuc2xhdGU9ZnVuY3Rpb24odCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEudHJhbnNsYXRlKCk7dmFyIG49YS5zY2FsZSgpLG89K3RbMF0scz0rdFsxXTtyZXR1cm4gZT1hLnRyYW5zbGF0ZSh0KS5jbGlwRXh0ZW50KFtbby0uNDU1Km4scy0uMjM4Km5dLFtvKy40NTUqbixzKy4yMzgqbl1dKS5zdHJlYW0oZikscj11LnRyYW5zbGF0ZShbby0uMzA3Km4scysuMjAxKm5dKS5jbGlwRXh0ZW50KFtbby0uNDI1Km4rT2EscysuMTIqbitPYV0sW28tLjIxNCpuLU9hLHMrLjIzNCpuLU9hXV0pLnN0cmVhbShmKSxpPWMudHJhbnNsYXRlKFtvLS4yMDUqbixzKy4yMTIqbl0pLmNsaXBFeHRlbnQoW1tvLS4yMTQqbitPYSxzKy4xNjYqbitPYV0sW28tLjExNSpuLU9hLHMrLjIzNCpuLU9hXV0pLnN0cmVhbShmKSxsKCl9LHMuZml0RXh0ZW50PWZ1bmN0aW9uKHQsbil7cmV0dXJuIE5zKHMsdCxuKX0scy5maXRTaXplPWZ1bmN0aW9uKHQsbil7cmV0dXJuIEFzKHMsdCxuKX0scy5maXRXaWR0aD1mdW5jdGlvbih0LG4pe3JldHVybiBUcyhzLHQsbil9LHMuZml0SGVpZ2h0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIFNzKHMsdCxuKX0scy5zY2FsZSgxMDcwKX0sdC5nZW9BemltdXRoYWxFcXVhbEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gUnMoRnMpLnNjYWxlKDEyNC43NSkuY2xpcEFuZ2xlKDE3OS45OTkpfSx0Lmdlb0F6aW11dGhhbEVxdWFsQXJlYVJhdz1Gcyx0Lmdlb0F6aW11dGhhbEVxdWlkaXN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuIFJzKElzKS5zY2FsZSg3OS40MTg4KS5jbGlwQW5nbGUoMTc5Ljk5OSl9LHQuZ2VvQXppbXV0aGFsRXF1aWRpc3RhbnRSYXc9SXMsdC5nZW9Db25pY0NvbmZvcm1hbD1mdW5jdGlvbigpe3JldHVybiBxcyhHcykuc2NhbGUoMTA5LjUpLnBhcmFsbGVscyhbMzAsMzBdKX0sdC5nZW9Db25pY0NvbmZvcm1hbFJhdz1Hcyx0Lmdlb0NvbmljRXF1YWxBcmVhPVVzLHQuZ2VvQ29uaWNFcXVhbEFyZWFSYXc9THMsdC5nZW9Db25pY0VxdWlkaXN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuIHFzKCRzKS5zY2FsZSgxMzEuMTU0KS5jZW50ZXIoWzAsMTMuOTM4OV0pfSx0Lmdlb0NvbmljRXF1aWRpc3RhbnRSYXc9JHMsdC5nZW9FcXVhbEVhcnRoPWZ1bmN0aW9uKCl7cmV0dXJuIFJzKHRsKS5zY2FsZSgxNzcuMTU4KX0sdC5nZW9FcXVhbEVhcnRoUmF3PXRsLHQuZ2VvRXF1aXJlY3Rhbmd1bGFyPWZ1bmN0aW9uKCl7cmV0dXJuIFJzKFZzKS5zY2FsZSgxNTIuNjMpfSx0Lmdlb0VxdWlyZWN0YW5ndWxhclJhdz1Wcyx0Lmdlb0dub21vbmljPWZ1bmN0aW9uKCl7cmV0dXJuIFJzKG5sKS5zY2FsZSgxNDQuMDQ5KS5jbGlwQW5nbGUoNjApfSx0Lmdlb0dub21vbmljUmF3PW5sLHQuZ2VvSWRlbnRpdHk9ZnVuY3Rpb24oKXt2YXIgdCxuLGUscixpLG8sYT0xLHU9MCxjPTAsZj0xLHM9MSxsPU1mLGg9bnVsbCxkPU1mO2Z1bmN0aW9uIHAoKXtyZXR1cm4gcj1pPW51bGwsb31yZXR1cm4gbz17c3RyZWFtOmZ1bmN0aW9uKHQpe3JldHVybiByJiZpPT09dD9yOnI9bChkKGk9dCkpfSxwb3N0Y2xpcDpmdW5jdGlvbihyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1yLGg9dD1uPWU9bnVsbCxwKCkpOmR9LGNsaXBFeHRlbnQ6ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9bnVsbD09cj8oaD10PW49ZT1udWxsLE1mKTpKYyhoPStyWzBdWzBdLHQ9K3JbMF1bMV0sbj0rclsxXVswXSxlPStyWzFdWzFdKSxwKCkpOm51bGw9PWg/bnVsbDpbW2gsdF0sW24sZV1dfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1lbCgoYT0rdCkqZixhKnMsdSxjKSxwKCkpOmF9LHRyYW5zbGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1lbChhKmYsYSpzLHU9K3RbMF0sYz0rdFsxXSkscCgpKTpbdSxjXX0scmVmbGVjdFg6ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9ZWwoYSooZj10Py0xOjEpLGEqcyx1LGMpLHAoKSk6ZjwwfSxyZWZsZWN0WTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1lbChhKmYsYSoocz10Py0xOjEpLHUsYykscCgpKTpzPDB9LGZpdEV4dGVudDpmdW5jdGlvbih0LG4pe3JldHVybiBOcyhvLHQsbil9LGZpdFNpemU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gQXMobyx0LG4pfSxmaXRXaWR0aDpmdW5jdGlvbih0LG4pe3JldHVybiBUcyhvLHQsbil9LGZpdEhlaWdodDpmdW5jdGlvbih0LG4pe3JldHVybiBTcyhvLHQsbil9fX0sdC5nZW9Qcm9qZWN0aW9uPVJzLHQuZ2VvUHJvamVjdGlvbk11dGF0b3I9RHMsdC5nZW9NZXJjYXRvcj1mdW5jdGlvbigpe3JldHVybiBIcyhqcykuc2NhbGUoOTYxL2phKX0sdC5nZW9NZXJjYXRvclJhdz1qcyx0Lmdlb05hdHVyYWxFYXJ0aDE9ZnVuY3Rpb24oKXtyZXR1cm4gUnMocmwpLnNjYWxlKDE3NS4yOTUpfSx0Lmdlb05hdHVyYWxFYXJ0aDFSYXc9cmwsdC5nZW9PcnRob2dyYXBoaWM9ZnVuY3Rpb24oKXtyZXR1cm4gUnMoaWwpLnNjYWxlKDI0OS41KS5jbGlwQW5nbGUoOTArT2EpfSx0Lmdlb09ydGhvZ3JhcGhpY1Jhdz1pbCx0Lmdlb1N0ZXJlb2dyYXBoaWM9ZnVuY3Rpb24oKXtyZXR1cm4gUnMob2wpLnNjYWxlKDI1MCkuY2xpcEFuZ2xlKDE0Mil9LHQuZ2VvU3RlcmVvZ3JhcGhpY1Jhdz1vbCx0Lmdlb1RyYW5zdmVyc2VNZXJjYXRvcj1mdW5jdGlvbigpe3ZhciB0PUhzKGFsKSxuPXQuY2VudGVyLGU9dC5yb3RhdGU7cmV0dXJuIHQuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP24oWy10WzFdLHRbMF1dKTpbKHQ9bigpKVsxXSwtdFswXV19LHQucm90YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2UoW3RbMF0sdFsxXSx0Lmxlbmd0aD4yP3RbMl0rOTA6OTBdKTpbKHQ9ZSgpKVswXSx0WzFdLHRbMl0tOTBdfSxlKFswLDAsOTBdKS5zY2FsZSgxNTkuMTU1KX0sdC5nZW9UcmFuc3ZlcnNlTWVyY2F0b3JSYXc9YWwsdC5nZW9Sb3RhdGlvbj1xYyx0Lmdlb1N0cmVhbT1kdSx0Lmdlb1RyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm57c3RyZWFtOnhzKHQpfX0sdC5jbHVzdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dWwsbj0xLGU9MSxyPSExO2Z1bmN0aW9uIGkoaSl7dmFyIG8sYT0wO2kuZWFjaEFmdGVyKGZ1bmN0aW9uKG4pe3ZhciBlPW4uY2hpbGRyZW47ZT8obi54PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZShjbCwwKS90Lmxlbmd0aH0oZSksbi55PWZ1bmN0aW9uKHQpe3JldHVybiAxK3QucmVkdWNlKGZsLDApfShlKSk6KG4ueD1vP2ErPXQobixvKTowLG4ueT0wLG89bil9KTt2YXIgdT1mdW5jdGlvbih0KXtmb3IodmFyIG47bj10LmNoaWxkcmVuOyl0PW5bMF07cmV0dXJuIHR9KGkpLGM9ZnVuY3Rpb24odCl7Zm9yKHZhciBuO249dC5jaGlsZHJlbjspdD1uW24ubGVuZ3RoLTFdO3JldHVybiB0fShpKSxmPXUueC10KHUsYykvMixzPWMueCt0KGMsdSkvMjtyZXR1cm4gaS5lYWNoQWZ0ZXIocj9mdW5jdGlvbih0KXt0Lng9KHQueC1pLngpKm4sdC55PShpLnktdC55KSplfTpmdW5jdGlvbih0KXt0Lng9KHQueC1mKS8ocy1mKSpuLHQueT0oMS0oaS55P3QueS9pLnk6MSkpKmV9KX1yZXR1cm4gaS5zZXBhcmF0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW4saSk6dH0saS5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSExLG49K3RbMF0sZT0rdFsxXSxpKTpyP251bGw6W24sZV19LGkubm9kZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9ITAsbj0rdFswXSxlPSt0WzFdLGkpOnI/W24sZV06bnVsbH0saX0sdC5oaWVyYXJjaHk9bGwsdC5wYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9bnVsbCxuPTEsZT0xLHI9UGw7ZnVuY3Rpb24gaShpKXtyZXR1cm4gaS54PW4vMixpLnk9ZS8yLHQ/aS5lYWNoQmVmb3JlKERsKHQpKS5lYWNoQWZ0ZXIocWwociwuNSkpLmVhY2hCZWZvcmUoTGwoMSkpOmkuZWFjaEJlZm9yZShEbChSbCkpLmVhY2hBZnRlcihxbChQbCwxKSkuZWFjaEFmdGVyKHFsKHIsaS5yL01hdGgubWluKG4sZSkpKS5lYWNoQmVmb3JlKExsKE1hdGgubWluKG4sZSkvKDIqaS5yKSkpLGl9cmV0dXJuIGkucmFkaXVzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW51bGw9PShlPW4pP251bGw6Q2woZSksaSk6dDt2YXIgZX0saS5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPSt0WzBdLGU9K3RbMV0saSk6W24sZV19LGkucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OnpsKCt0KSxpKTpyfSxpfSx0LnBhY2tTaWJsaW5ncz1mdW5jdGlvbih0KXtyZXR1cm4gRWwodCksdH0sdC5wYWNrRW5jbG9zZT15bCx0LnBhcnRpdGlvbj1mdW5jdGlvbigpe3ZhciB0PTEsbj0xLGU9MCxyPSExO2Z1bmN0aW9uIGkoaSl7dmFyIG89aS5oZWlnaHQrMTtyZXR1cm4gaS54MD1pLnkwPWUsaS54MT10LGkueTE9bi9vLGkuZWFjaEJlZm9yZShmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihyKXtyLmNoaWxkcmVuJiZPbChyLHIueDAsdCooci5kZXB0aCsxKS9uLHIueDEsdCooci5kZXB0aCsyKS9uKTt2YXIgaT1yLngwLG89ci55MCxhPXIueDEtZSx1PXIueTEtZTthPGkmJihpPWE9KGkrYSkvMiksdTxvJiYobz11PShvK3UpLzIpLHIueDA9aSxyLnkwPW8sci54MT1hLHIueTE9dX19KG4sbykpLHImJmkuZWFjaEJlZm9yZShVbCksaX1yZXR1cm4gaS5yb3VuZD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0hIXQsaSk6cn0saS5zaXplPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PStlWzBdLG49K2VbMV0saSk6W3Qsbl19LGkucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0rdCxpKTplfSxpfSx0LnN0cmF0aWZ5PWZ1bmN0aW9uKCl7dmFyIHQ9SWwsbj1qbDtmdW5jdGlvbiBlKGUpe3ZhciByLGksbyxhLHUsYyxmLHM9ZS5sZW5ndGgsbD1uZXcgQXJyYXkocyksaD17fTtmb3IoaT0wO2k8czsrK2kpcj1lW2ldLHU9bFtpXT1uZXcgdmwociksbnVsbCE9KGM9dChyLGksZSkpJiYoYys9IiIpJiYoaFtmPUJsKyh1LmlkPWMpXT1mIGluIGg/Rmw6dSk7Zm9yKGk9MDtpPHM7KytpKWlmKHU9bFtpXSxudWxsIT0oYz1uKGVbaV0saSxlKSkmJihjKz0iIikpe2lmKCEoYT1oW0JsK2NdKSl0aHJvdyBuZXcgRXJyb3IoIm1pc3Npbmc6ICIrYyk7aWYoYT09PUZsKXRocm93IG5ldyBFcnJvcigiYW1iaWd1b3VzOiAiK2MpO2EuY2hpbGRyZW4/YS5jaGlsZHJlbi5wdXNoKHUpOmEuY2hpbGRyZW49W3VdLHUucGFyZW50PWF9ZWxzZXtpZihvKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgcm9vdHMiKTtvPXV9aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJubyByb290Iik7aWYoby5wYXJlbnQ9WWwsby5lYWNoQmVmb3JlKGZ1bmN0aW9uKHQpe3QuZGVwdGg9dC5wYXJlbnQuZGVwdGgrMSwtLXN9KS5lYWNoQmVmb3JlKHBsKSxvLnBhcmVudD1udWxsLHM+MCl0aHJvdyBuZXcgRXJyb3IoImN5Y2xlIik7cmV0dXJuIG99cmV0dXJuIGUuaWQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9Q2wobiksZSk6dH0sZS5wYXJlbnRJZD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1DbCh0KSxlKTpufSxlfSx0LnRyZWU9ZnVuY3Rpb24oKXt2YXIgdD1IbCxuPTEsZT0xLHI9bnVsbDtmdW5jdGlvbiBpKGkpe3ZhciBjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbixlLHIsaSxvLGE9bmV3IFdsKHQsMCksdT1bYV07bj11LnBvcCgpOylpZihyPW4uXy5jaGlsZHJlbilmb3Iobi5jaGlsZHJlbj1uZXcgQXJyYXkobz1yLmxlbmd0aCksaT1vLTE7aT49MDstLWkpdS5wdXNoKGU9bi5jaGlsZHJlbltpXT1uZXcgV2wocltpXSxpKSksZS5wYXJlbnQ9bjtyZXR1cm4oYS5wYXJlbnQ9bmV3IFdsKG51bGwsMCkpLmNoaWxkcmVuPVthXSxhfShpKTtpZihjLmVhY2hBZnRlcihvKSxjLnBhcmVudC5tPS1jLnosYy5lYWNoQmVmb3JlKGEpLHIpaS5lYWNoQmVmb3JlKHUpO2Vsc2V7dmFyIGY9aSxzPWksbD1pO2kuZWFjaEJlZm9yZShmdW5jdGlvbih0KXt0Lng8Zi54JiYoZj10KSx0Lng+cy54JiYocz10KSx0LmRlcHRoPmwuZGVwdGgmJihsPXQpfSk7dmFyIGg9Zj09PXM/MTp0KGYscykvMixkPWgtZi54LHA9bi8ocy54K2grZCksdj1lLyhsLmRlcHRofHwxKTtpLmVhY2hCZWZvcmUoZnVuY3Rpb24odCl7dC54PSh0LngrZCkqcCx0Lnk9dC5kZXB0aCp2fSl9cmV0dXJuIGl9ZnVuY3Rpb24gbyhuKXt2YXIgZT1uLmNoaWxkcmVuLHI9bi5wYXJlbnQuY2hpbGRyZW4saT1uLmk/cltuLmktMV06bnVsbDtpZihlKXshZnVuY3Rpb24odCl7Zm9yKHZhciBuLGU9MCxyPTAsaT10LmNoaWxkcmVuLG89aS5sZW5ndGg7LS1vPj0wOykobj1pW29dKS56Kz1lLG4ubSs9ZSxlKz1uLnMrKHIrPW4uYyl9KG4pO3ZhciBvPShlWzBdLnorZVtlLmxlbmd0aC0xXS56KS8yO2k/KG4uej1pLnordChuLl8saS5fKSxuLm09bi56LW8pOm4uej1vfWVsc2UgaSYmKG4uej1pLnordChuLl8saS5fKSk7bi5wYXJlbnQuQT1mdW5jdGlvbihuLGUscil7aWYoZSl7Zm9yKHZhciBpLG89bixhPW4sdT1lLGM9by5wYXJlbnQuY2hpbGRyZW5bMF0sZj1vLm0scz1hLm0sbD11Lm0saD1jLm07dT1HbCh1KSxvPVhsKG8pLHUmJm87KWM9WGwoYyksKGE9R2woYSkpLmE9biwoaT11LnorbC1vLnotZit0KHUuXyxvLl8pKT4wJiYoVmwoJGwodSxuLHIpLG4saSksZis9aSxzKz1pKSxsKz11Lm0sZis9by5tLGgrPWMubSxzKz1hLm07dSYmIUdsKGEpJiYoYS50PXUsYS5tKz1sLXMpLG8mJiFYbChjKSYmKGMudD1vLGMubSs9Zi1oLHI9bil9cmV0dXJuIHJ9KG4saSxuLnBhcmVudC5BfHxyWzBdKX1mdW5jdGlvbiBhKHQpe3QuXy54PXQueit0LnBhcmVudC5tLHQubSs9dC5wYXJlbnQubX1mdW5jdGlvbiB1KHQpe3QueCo9bix0Lnk9dC5kZXB0aCplfXJldHVybiBpLnNlcGFyYXRpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bixpKTp0fSxpLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9ITEsbj0rdFswXSxlPSt0WzFdLGkpOnI/bnVsbDpbbixlXX0saS5ub2RlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0hMCxuPSt0WzBdLGU9K3RbMV0saSk6cj9bbixlXTpudWxsfSxpfSx0LnRyZWVtYXA9ZnVuY3Rpb24oKXt2YXIgdD1LbCxuPSExLGU9MSxyPTEsaT1bMF0sbz1QbCxhPVBsLHU9UGwsYz1QbCxmPVBsO2Z1bmN0aW9uIHModCl7cmV0dXJuIHQueDA9dC55MD0wLHQueDE9ZSx0LnkxPXIsdC5lYWNoQmVmb3JlKGwpLGk9WzBdLG4mJnQuZWFjaEJlZm9yZShVbCksdH1mdW5jdGlvbiBsKG4pe3ZhciBlPWlbbi5kZXB0aF0scj1uLngwK2Uscz1uLnkwK2UsbD1uLngxLWUsaD1uLnkxLWU7bDxyJiYocj1sPShyK2wpLzIpLGg8cyYmKHM9aD0ocytoKS8yKSxuLngwPXIsbi55MD1zLG4ueDE9bCxuLnkxPWgsbi5jaGlsZHJlbiYmKGU9aVtuLmRlcHRoKzFdPW8obikvMixyKz1mKG4pLWUscys9YShuKS1lLChsLT11KG4pLWUpPHImJihyPWw9KHIrbCkvMiksKGgtPWMobiktZSk8cyYmKHM9aD0ocytoKS8yKSx0KG4scixzLGwsaCkpfXJldHVybiBzLnJvdW5kPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPSEhdCxzKTpufSxzLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9K3RbMF0scj0rdFsxXSxzKTpbZSxyXX0scy50aWxlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PUNsKG4pLHMpOnR9LHMucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9zLnBhZGRpbmdJbm5lcih0KS5wYWRkaW5nT3V0ZXIodCk6cy5wYWRkaW5nSW5uZXIoKX0scy5wYWRkaW5nSW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp6bCgrdCkscyk6b30scy5wYWRkaW5nT3V0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/cy5wYWRkaW5nVG9wKHQpLnBhZGRpbmdSaWdodCh0KS5wYWRkaW5nQm90dG9tKHQpLnBhZGRpbmdMZWZ0KHQpOnMucGFkZGluZ1RvcCgpfSxzLnBhZGRpbmdUb3A9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp6bCgrdCkscyk6YX0scy5wYWRkaW5nUmlnaHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp6bCgrdCkscyk6dX0scy5wYWRkaW5nQm90dG9tPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6emwoK3QpLHMpOmN9LHMucGFkZGluZ0xlZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp6bCgrdCkscyk6Zn0sc30sdC50cmVlbWFwQmluYXJ5PWZ1bmN0aW9uKHQsbixlLHIsaSl7dmFyIG8sYSx1PXQuY2hpbGRyZW4sYz11Lmxlbmd0aCxmPW5ldyBBcnJheShjKzEpO2ZvcihmWzBdPWE9bz0wO288YzsrK28pZltvKzFdPWErPXVbb10udmFsdWU7IWZ1bmN0aW9uIHQobixlLHIsaSxvLGEsYyl7aWYobj49ZS0xKXt2YXIgcz11W25dO3JldHVybiBzLngwPWkscy55MD1vLHMueDE9YSx2b2lkKHMueTE9Yyl9Zm9yKHZhciBsPWZbbl0saD1yLzIrbCxkPW4rMSxwPWUtMTtkPHA7KXt2YXIgdj1kK3A+Pj4xO2Zbdl08aD9kPXYrMTpwPXZ9aC1mW2QtMV08ZltkXS1oJiZuKzE8ZCYmLS1kO3ZhciBnPWZbZF0tbCx5PXItZztpZihhLWk+Yy1vKXt2YXIgXz0oaSp5K2EqZykvcjt0KG4sZCxnLGksbyxfLGMpLHQoZCxlLHksXyxvLGEsYyl9ZWxzZXt2YXIgYj0obyp5K2MqZykvcjt0KG4sZCxnLGksbyxhLGIpLHQoZCxlLHksaSxiLGEsYyl9fSgwLGMsdC52YWx1ZSxuLGUscixpKX0sdC50cmVlbWFwRGljZT1PbCx0LnRyZWVtYXBTbGljZT1abCx0LnRyZWVtYXBTbGljZURpY2U9ZnVuY3Rpb24odCxuLGUscixpKXsoMSZ0LmRlcHRoP1psOk9sKSh0LG4sZSxyLGkpfSx0LnRyZWVtYXBTcXVhcmlmeT1LbCx0LnRyZWVtYXBSZXNxdWFyaWZ5PXRoLHQuaW50ZXJwb2xhdGU9eWUsdC5pbnRlcnBvbGF0ZUFycmF5PXNlLHQuaW50ZXJwb2xhdGVCYXNpcz1Lbix0LmludGVycG9sYXRlQmFzaXNDbG9zZWQ9dGUsdC5pbnRlcnBvbGF0ZURhdGU9bGUsdC5pbnRlcnBvbGF0ZURpc2NyZXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXQubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdFtNYXRoLm1heCgwLE1hdGgubWluKG4tMSxNYXRoLmZsb29yKGUqbikpKV19fSx0LmludGVycG9sYXRlSHVlPWZ1bmN0aW9uKHQsbil7dmFyIGU9cmUoK3QsK24pO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1lKHQpO3JldHVybiBuLTM2MCpNYXRoLmZsb29yKG4vMzYwKX19LHQuaW50ZXJwb2xhdGVOdW1iZXI9aGUsdC5pbnRlcnBvbGF0ZU9iamVjdD1kZSx0LmludGVycG9sYXRlUm91bmQ9X2UsdC5pbnRlcnBvbGF0ZVN0cmluZz1nZSx0LmludGVycG9sYXRlVHJhbnNmb3JtQ3NzPVNlLHQuaW50ZXJwb2xhdGVUcmFuc2Zvcm1Tdmc9a2UsdC5pbnRlcnBvbGF0ZVpvb209RGUsdC5pbnRlcnBvbGF0ZVJnYj1hZSx0LmludGVycG9sYXRlUmdiQmFzaXM9Y2UsdC5pbnRlcnBvbGF0ZVJnYkJhc2lzQ2xvc2VkPWZlLHQuaW50ZXJwb2xhdGVIc2w9TGUsdC5pbnRlcnBvbGF0ZUhzbExvbmc9VWUsdC5pbnRlcnBvbGF0ZUxhYj1mdW5jdGlvbih0LG4pe3ZhciBlPW9lKCh0PVJuKHQpKS5sLChuPVJuKG4pKS5sKSxyPW9lKHQuYSxuLmEpLGk9b2UodC5iLG4uYiksbz1vZSh0Lm9wYWNpdHksbi5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQubD1lKG4pLHQuYT1yKG4pLHQuYj1pKG4pLHQub3BhY2l0eT1vKG4pLHQrIiJ9fSx0LmludGVycG9sYXRlSGNsPUJlLHQuaW50ZXJwb2xhdGVIY2xMb25nPVllLHQuaW50ZXJwb2xhdGVDdWJlaGVsaXg9SWUsdC5pbnRlcnBvbGF0ZUN1YmVoZWxpeExvbmc9amUsdC5waWVjZXdpc2U9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9MCxyPW4ubGVuZ3RoLTEsaT1uWzBdLG89bmV3IEFycmF5KHI8MD8wOnIpO2U8cjspb1tlXT10KGksaT1uWysrZV0pO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1NYXRoLm1heCgwLE1hdGgubWluKHItMSxNYXRoLmZsb29yKHQqPXIpKSk7cmV0dXJuIG9bbl0odC1uKX19LHQucXVhbnRpemU9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9bmV3IEFycmF5KG4pLHI9MDtyPG47KytyKWVbcl09dChyLyhuLTEpKTtyZXR1cm4gZX0sdC5wYXRoPUhpLHQucG9seWdvbkFyZWE9ZnVuY3Rpb24odCl7Zm9yKHZhciBuLGU9LTEscj10Lmxlbmd0aCxpPXRbci0xXSxvPTA7KytlPHI7KW49aSxpPXRbZV0sbys9blsxXSppWzBdLW5bMF0qaVsxXTtyZXR1cm4gby8yfSx0LnBvbHlnb25DZW50cm9pZD1mdW5jdGlvbih0KXtmb3IodmFyIG4sZSxyPS0xLGk9dC5sZW5ndGgsbz0wLGE9MCx1PXRbaS0xXSxjPTA7KytyPGk7KW49dSx1PXRbcl0sYys9ZT1uWzBdKnVbMV0tdVswXSpuWzFdLG8rPShuWzBdK3VbMF0pKmUsYSs9KG5bMV0rdVsxXSkqZTtyZXR1cm5bby8oYyo9MyksYS9jXX0sdC5wb2x5Z29uSHVsbD1mdW5jdGlvbih0KXtpZigoZT10Lmxlbmd0aCk8MylyZXR1cm4gbnVsbDt2YXIgbixlLHI9bmV3IEFycmF5KGUpLGk9bmV3IEFycmF5KGUpO2ZvcihuPTA7bjxlOysrbilyW25dPVsrdFtuXVswXSwrdFtuXVsxXSxuXTtmb3Ioci5zb3J0KG5oKSxuPTA7bjxlOysrbilpW25dPVtyW25dWzBdLC1yW25dWzFdXTt2YXIgbz1laChyKSxhPWVoKGkpLHU9YVswXT09PW9bMF0sYz1hW2EubGVuZ3RoLTFdPT09b1tvLmxlbmd0aC0xXSxmPVtdO2ZvcihuPW8ubGVuZ3RoLTE7bj49MDstLW4pZi5wdXNoKHRbcltvW25dXVsyXV0pO2ZvcihuPSt1O248YS5sZW5ndGgtYzsrK24pZi5wdXNoKHRbclthW25dXVsyXV0pO3JldHVybiBmfSx0LnBvbHlnb25Db250YWlucz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgZSxyLGk9dC5sZW5ndGgsbz10W2ktMV0sYT1uWzBdLHU9blsxXSxjPW9bMF0sZj1vWzFdLHM9ITEsbD0wO2w8aTsrK2wpZT0obz10W2xdKVswXSwocj1vWzFdKT51IT1mPnUmJmE8KGMtZSkqKHUtcikvKGYtcikrZSYmKHM9IXMpLGM9ZSxmPXI7cmV0dXJuIHN9LHQucG9seWdvbkxlbmd0aD1mdW5jdGlvbih0KXtmb3IodmFyIG4sZSxyPS0xLGk9dC5sZW5ndGgsbz10W2ktMV0sYT1vWzBdLHU9b1sxXSxjPTA7KytyPGk7KW49YSxlPXUsbi09YT0obz10W3JdKVswXSxlLT11PW9bMV0sYys9TWF0aC5zcXJ0KG4qbitlKmUpO3JldHVybiBjfSx0LnF1YWR0cmVlPWFhLHQucmFuZG9tVW5pZm9ybT1paCx0LnJhbmRvbU5vcm1hbD1vaCx0LnJhbmRvbUxvZ05vcm1hbD1haCx0LnJhbmRvbUJhdGVzPWNoLHQucmFuZG9tSXJ3aW5IYWxsPXVoLHQucmFuZG9tRXhwb25lbnRpYWw9ZmgsdC5zY2FsZUJhbmQ9eWgsdC5zY2FsZVBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQobil7dmFyIGU9bi5jb3B5O3JldHVybiBuLnBhZGRpbmc9bi5wYWRkaW5nT3V0ZXIsZGVsZXRlIG4ucGFkZGluZ0lubmVyLGRlbGV0ZSBuLnBhZGRpbmdPdXRlcixuLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdChlKCkpfSxufSh5aC5hcHBseShudWxsLGFyZ3VtZW50cykucGFkZGluZ0lubmVyKDEpKX0sdC5zY2FsZUlkZW50aXR5PWZ1bmN0aW9uIHQobil7dmFyIGU7ZnVuY3Rpb24gcih0KXtyZXR1cm4gaXNOYU4odD0rdCk/ZTp0fXJldHVybiByLmludmVydD1yLHIuZG9tYWluPXIucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49ZGguY2FsbCh0LF9oKSxyKTpuLnNsaWNlKCl9LHIudW5rbm93bj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LHIpOmV9LHIuY29weT1mdW5jdGlvbigpe3JldHVybiB0KG4pLnVua25vd24oZSl9LG49YXJndW1lbnRzLmxlbmd0aD9kaC5jYWxsKG4sX2gpOlswLDFdLEVoKHIpfSx0LnNjYWxlTGluZWFyPWZ1bmN0aW9uIHQoKXt2YXIgbj1TaChtaCxtaCk7cmV0dXJuIG4uY29weT1mdW5jdGlvbigpe3JldHVybiBBaChuLHQoKSl9LHNoLmFwcGx5KG4sYXJndW1lbnRzKSxFaChuKX0sdC5zY2FsZUxvZz1mdW5jdGlvbiB0KCl7dmFyIG49VWgoVGgoKSkuZG9tYWluKFsxLDEwXSk7cmV0dXJuIG4uY29weT1mdW5jdGlvbigpe3JldHVybiBBaChuLHQoKSkuYmFzZShuLmJhc2UoKSl9LHNoLmFwcGx5KG4sYXJndW1lbnRzKSxufSx0LnNjYWxlU3ltbG9nPWZ1bmN0aW9uIHQoKXt2YXIgbj1ZaChUaCgpKTtyZXR1cm4gbi5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIEFoKG4sdCgpKS5jb25zdGFudChuLmNvbnN0YW50KCkpfSxzaC5hcHBseShuLGFyZ3VtZW50cyl9LHQuc2NhbGVPcmRpbmFsPWdoLHQuc2NhbGVJbXBsaWNpdD12aCx0LnNjYWxlUG93PVhoLHQuc2NhbGVTcXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIFhoLmFwcGx5KG51bGwsYXJndW1lbnRzKS5leHBvbmVudCguNSl9LHQuc2NhbGVRdWFudGlsZT1mdW5jdGlvbiB0KCl7dmFyIGUscj1bXSxvPVtdLGE9W107ZnVuY3Rpb24gdSgpe3ZhciB0PTAsbj1NYXRoLm1heCgxLG8ubGVuZ3RoKTtmb3IoYT1uZXcgQXJyYXkobi0xKTsrK3Q8bjspYVt0LTFdPU4ocix0L24pO3JldHVybiBjfWZ1bmN0aW9uIGModCl7cmV0dXJuIGlzTmFOKHQ9K3QpP2U6b1tpKGEsdCldfXJldHVybiBjLmludmVydEV4dGVudD1mdW5jdGlvbih0KXt2YXIgbj1vLmluZGV4T2YodCk7cmV0dXJuIG48MD9bTmFOLE5hTl06W24+MD9hW24tMV06clswXSxuPGEubGVuZ3RoP2Fbbl06cltyLmxlbmd0aC0xXV19LGMuZG9tYWluPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiByLnNsaWNlKCk7cj1bXTtmb3IodmFyIGUsaT0wLG89dC5sZW5ndGg7aTxvOysraSludWxsPT0oZT10W2ldKXx8aXNOYU4oZT0rZSl8fHIucHVzaChlKTtyZXR1cm4gci5zb3J0KG4pLHUoKX0sYy5yYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1waC5jYWxsKHQpLHUoKSk6by5zbGljZSgpfSxjLnVua25vd249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxjKTplfSxjLnF1YW50aWxlcz1mdW5jdGlvbigpe3JldHVybiBhLnNsaWNlKCl9LGMuY29weT1mdW5jdGlvbigpe3JldHVybiB0KCkuZG9tYWluKHIpLnJhbmdlKG8pLnVua25vd24oZSl9LHNoLmFwcGx5KGMsYXJndW1lbnRzKX0sdC5zY2FsZVF1YW50aXplPWZ1bmN0aW9uIHQoKXt2YXIgbixlPTAscj0xLG89MSxhPVsuNV0sdT1bMCwxXTtmdW5jdGlvbiBjKHQpe3JldHVybiB0PD10P3VbaShhLHQsMCxvKV06bn1mdW5jdGlvbiBmKCl7dmFyIHQ9LTE7Zm9yKGE9bmV3IEFycmF5KG8pOysrdDxvOylhW3RdPSgodCsxKSpyLSh0LW8pKmUpLyhvKzEpO3JldHVybiBjfXJldHVybiBjLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0rdFswXSxyPSt0WzFdLGYoKSk6W2Uscl19LGMucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89KHU9cGguY2FsbCh0KSkubGVuZ3RoLTEsZigpKTp1LnNsaWNlKCl9LGMuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBuPXUuaW5kZXhPZih0KTtyZXR1cm4gbjwwP1tOYU4sTmFOXTpuPDE/W2UsYVswXV06bj49bz9bYVtvLTFdLHJdOlthW24tMV0sYVtuXV19LGMudW5rbm93bj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10LGMpOmN9LGMudGhyZXNob2xkcz1mdW5jdGlvbigpe3JldHVybiBhLnNsaWNlKCl9LGMuY29weT1mdW5jdGlvbigpe3JldHVybiB0KCkuZG9tYWluKFtlLHJdKS5yYW5nZSh1KS51bmtub3duKG4pfSxzaC5hcHBseShFaChjKSxhcmd1bWVudHMpfSx0LnNjYWxlVGhyZXNob2xkPWZ1bmN0aW9uIHQoKXt2YXIgbixlPVsuNV0scj1bMCwxXSxvPTE7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdDw9dD9yW2koZSx0LDAsbyldOm59cmV0dXJuIGEuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXBoLmNhbGwodCksbz1NYXRoLm1pbihlLmxlbmd0aCxyLmxlbmd0aC0xKSxhKTplLnNsaWNlKCl9LGEucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9cGguY2FsbCh0KSxvPU1hdGgubWluKGUubGVuZ3RoLHIubGVuZ3RoLTEpLGEpOnIuc2xpY2UoKX0sYS5pbnZlcnRFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIG49ci5pbmRleE9mKHQpO3JldHVybltlW24tMV0sZVtuXV19LGEudW5rbm93bj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10LGEpOm59LGEuY29weT1mdW5jdGlvbigpe3JldHVybiB0KCkuZG9tYWluKGUpLnJhbmdlKHIpLnVua25vd24obil9LHNoLmFwcGx5KGEsYXJndW1lbnRzKX0sdC5zY2FsZVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gc2guYXBwbHkoTnYoTmQsd2QsY2Qsb2QscmQsbmQsS2gsV2gsdC50aW1lRm9ybWF0KS5kb21haW4oW25ldyBEYXRlKDJlMywwLDEpLG5ldyBEYXRlKDJlMywwLDIpXSksYXJndW1lbnRzKX0sdC5zY2FsZVV0Yz1mdW5jdGlvbigpe3JldHVybiBzaC5hcHBseShOdihXZCxWZCxSZCxDZCxrZCxUZCxLaCxXaCx0LnV0Y0Zvcm1hdCkuZG9tYWluKFtEYXRlLlVUQygyZTMsMCwxKSxEYXRlLlVUQygyZTMsMCwyKV0pLGFyZ3VtZW50cyl9LHQuc2NhbGVTZXF1ZW50aWFsPWZ1bmN0aW9uIHQoKXt2YXIgbj1FaChBdigpKG1oKSk7cmV0dXJuIG4uY29weT1mdW5jdGlvbigpe3JldHVybiBUdihuLHQoKSl9LGxoLmFwcGx5KG4sYXJndW1lbnRzKX0sdC5zY2FsZVNlcXVlbnRpYWxMb2c9ZnVuY3Rpb24gdCgpe3ZhciBuPVVoKEF2KCkpLmRvbWFpbihbMSwxMF0pO3JldHVybiBuLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gVHYobix0KCkpLmJhc2Uobi5iYXNlKCkpfSxsaC5hcHBseShuLGFyZ3VtZW50cyl9LHQuc2NhbGVTZXF1ZW50aWFsUG93PVN2LHQuc2NhbGVTZXF1ZW50aWFsU3FydD1mdW5jdGlvbigpe3JldHVybiBTdi5hcHBseShudWxsLGFyZ3VtZW50cykuZXhwb25lbnQoLjUpfSx0LnNjYWxlU2VxdWVudGlhbFN5bWxvZz1mdW5jdGlvbiB0KCl7dmFyIG49WWgoQXYoKSk7cmV0dXJuIG4uY29weT1mdW5jdGlvbigpe3JldHVybiBUdihuLHQoKSkuY29uc3RhbnQobi5jb25zdGFudCgpKX0sbGguYXBwbHkobixhcmd1bWVudHMpfSx0LnNjYWxlU2VxdWVudGlhbFF1YW50aWxlPWZ1bmN0aW9uIHQoKXt2YXIgZT1bXSxyPW1oO2Z1bmN0aW9uIG8odCl7aWYoIWlzTmFOKHQ9K3QpKXJldHVybiByKChpKGUsdCktMSkvKGUubGVuZ3RoLTEpKX1yZXR1cm4gby5kb21haW49ZnVuY3Rpb24odCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGUuc2xpY2UoKTtlPVtdO2Zvcih2YXIgcixpPTAsYT10Lmxlbmd0aDtpPGE7KytpKW51bGw9PShyPXRbaV0pfHxpc05hTihyPStyKXx8ZS5wdXNoKHIpO3JldHVybiBlLnNvcnQobiksb30sby5pbnRlcnBvbGF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxvKTpyfSxvLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdChyKS5kb21haW4oZSl9LGxoLmFwcGx5KG8sYXJndW1lbnRzKX0sdC5zY2FsZURpdmVyZ2luZz1mdW5jdGlvbiB0KCl7dmFyIG49RWgoa3YoKShtaCkpO3JldHVybiBuLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gVHYobix0KCkpfSxsaC5hcHBseShuLGFyZ3VtZW50cyl9LHQuc2NhbGVEaXZlcmdpbmdMb2c9ZnVuY3Rpb24gdCgpe3ZhciBuPVVoKGt2KCkpLmRvbWFpbihbLjEsMSwxMF0pO3JldHVybiBuLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gVHYobix0KCkpLmJhc2Uobi5iYXNlKCkpfSxsaC5hcHBseShuLGFyZ3VtZW50cyl9LHQuc2NhbGVEaXZlcmdpbmdQb3c9RXYsdC5zY2FsZURpdmVyZ2luZ1NxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gRXYuYXBwbHkobnVsbCxhcmd1bWVudHMpLmV4cG9uZW50KC41KX0sdC5zY2FsZURpdmVyZ2luZ1N5bWxvZz1mdW5jdGlvbiB0KCl7dmFyIG49WWgoa3YoKSk7cmV0dXJuIG4uY29weT1mdW5jdGlvbigpe3JldHVybiBUdihuLHQoKSkuY29uc3RhbnQobi5jb25zdGFudCgpKX0sbGguYXBwbHkobixhcmd1bWVudHMpfSx0LnRpY2tGb3JtYXQ9a2gsdC5zY2hlbWVDYXRlZ29yeTEwPVB2LHQuc2NoZW1lQWNjZW50PXp2LHQuc2NoZW1lRGFyazI9UnYsdC5zY2hlbWVQYWlyZWQ9RHYsdC5zY2hlbWVQYXN0ZWwxPXF2LHQuc2NoZW1lUGFzdGVsMj1Mdix0LnNjaGVtZVNldDE9VXYsdC5zY2hlbWVTZXQyPU92LHQuc2NoZW1lU2V0Mz1Cdix0LmludGVycG9sYXRlQnJCRz1Jdix0LnNjaGVtZUJyQkc9RnYsdC5pbnRlcnBvbGF0ZVBSR249SHYsdC5zY2hlbWVQUkduPWp2LHQuaW50ZXJwb2xhdGVQaVlHPUd2LHQuc2NoZW1lUGlZRz1Ydix0LmludGVycG9sYXRlUHVPcj0kdix0LnNjaGVtZVB1T3I9VnYsdC5pbnRlcnBvbGF0ZVJkQnU9WnYsdC5zY2hlbWVSZEJ1PVd2LHQuaW50ZXJwb2xhdGVSZEd5PUp2LHQuc2NoZW1lUmRHeT1Rdix0LmludGVycG9sYXRlUmRZbEJ1PXRnLHQuc2NoZW1lUmRZbEJ1PUt2LHQuaW50ZXJwb2xhdGVSZFlsR249ZWcsdC5zY2hlbWVSZFlsR249bmcsdC5pbnRlcnBvbGF0ZVNwZWN0cmFsPWlnLHQuc2NoZW1lU3BlY3RyYWw9cmcsdC5pbnRlcnBvbGF0ZUJ1R249YWcsdC5zY2hlbWVCdUduPW9nLHQuaW50ZXJwb2xhdGVCdVB1PWNnLHQuc2NoZW1lQnVQdT11Zyx0LmludGVycG9sYXRlR25CdT1zZyx0LnNjaGVtZUduQnU9ZmcsdC5pbnRlcnBvbGF0ZU9yUmQ9aGcsdC5zY2hlbWVPclJkPWxnLHQuaW50ZXJwb2xhdGVQdUJ1R249cGcsdC5zY2hlbWVQdUJ1R249ZGcsdC5pbnRlcnBvbGF0ZVB1QnU9Z2csdC5zY2hlbWVQdUJ1PXZnLHQuaW50ZXJwb2xhdGVQdVJkPV9nLHQuc2NoZW1lUHVSZD15Zyx0LmludGVycG9sYXRlUmRQdT1tZyx0LnNjaGVtZVJkUHU9YmcsdC5pbnRlcnBvbGF0ZVlsR25CdT13Zyx0LnNjaGVtZVlsR25CdT14Zyx0LmludGVycG9sYXRlWWxHbj1OZyx0LnNjaGVtZVlsR249TWcsdC5pbnRlcnBvbGF0ZVlsT3JCcj1UZyx0LnNjaGVtZVlsT3JCcj1BZyx0LmludGVycG9sYXRlWWxPclJkPWtnLHQuc2NoZW1lWWxPclJkPVNnLHQuaW50ZXJwb2xhdGVCbHVlcz1DZyx0LnNjaGVtZUJsdWVzPUVnLHQuaW50ZXJwb2xhdGVHcmVlbnM9emcsdC5zY2hlbWVHcmVlbnM9UGcsdC5pbnRlcnBvbGF0ZUdyZXlzPURnLHQuc2NoZW1lR3JleXM9UmcsdC5pbnRlcnBvbGF0ZVB1cnBsZXM9TGcsdC5zY2hlbWVQdXJwbGVzPXFnLHQuaW50ZXJwb2xhdGVSZWRzPU9nLHQuc2NoZW1lUmVkcz1VZyx0LmludGVycG9sYXRlT3Jhbmdlcz1ZZyx0LnNjaGVtZU9yYW5nZXM9QmcsdC5pbnRlcnBvbGF0ZUN1YmVoZWxpeERlZmF1bHQ9RmcsdC5pbnRlcnBvbGF0ZVJhaW5ib3c9ZnVuY3Rpb24odCl7KHQ8MHx8dD4xKSYmKHQtPU1hdGguZmxvb3IodCkpO3ZhciBuPU1hdGguYWJzKHQtLjUpO3JldHVybiBIZy5oPTM2MCp0LTEwMCxIZy5zPTEuNS0xLjUqbixIZy5sPS44LS45Km4sSGcrIiJ9LHQuaW50ZXJwb2xhdGVXYXJtPUlnLHQuaW50ZXJwb2xhdGVDb29sPWpnLHQuaW50ZXJwb2xhdGVTaW5lYm93PWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiB0PSguNS10KSpNYXRoLlBJLFhnLnI9MjU1KihuPU1hdGguc2luKHQpKSpuLFhnLmc9MjU1KihuPU1hdGguc2luKHQrR2cpKSpuLFhnLmI9MjU1KihuPU1hdGguc2luKHQrVmcpKSpuLFhnKyIifSx0LmludGVycG9sYXRlVmlyaWRpcz1XZyx0LmludGVycG9sYXRlTWFnbWE9WmcsdC5pbnRlcnBvbGF0ZUluZmVybm89UWcsdC5pbnRlcnBvbGF0ZVBsYXNtYT1KZyx0LmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4genQoVyh0KS5jYWxsKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpfSx0LmNyZWF0b3I9Vyx0LmxvY2FsPUR0LHQubWF0Y2hlcj10dCx0Lm1vdXNlPU90LHQubmFtZXNwYWNlPSQsdC5uYW1lc3BhY2VzPVYsdC5jbGllbnRQb2ludD1VdCx0LnNlbGVjdD16dCx0LnNlbGVjdEFsbD1mdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/bmV3IEN0KFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpXSxbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XSk6bmV3IEN0KFtudWxsPT10P1tdOnRdLEV0KX0sdC5zZWxlY3Rpb249UHQsdC5zZWxlY3Rvcj1RLHQuc2VsZWN0b3JBbGw9Syx0LnN0eWxlPWN0LHQudG91Y2g9QnQsdC50b3VjaGVzPWZ1bmN0aW9uKHQsbil7bnVsbD09biYmKG49THQoKS50b3VjaGVzKTtmb3IodmFyIGU9MCxyPW4/bi5sZW5ndGg6MCxpPW5ldyBBcnJheShyKTtlPHI7KytlKWlbZV09VXQodCxuW2VdKTtyZXR1cm4gaX0sdC53aW5kb3c9dXQsdC5jdXN0b21FdmVudD1TdCx0LmFyYz1mdW5jdGlvbigpe3ZhciB0PWh5LG49ZHksZT1LZygwKSxyPW51bGwsaT1weSxvPXZ5LGE9Z3ksdT1udWxsO2Z1bmN0aW9uIGMoKXt2YXIgYyxmLHMsbD0rdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaD0rbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZD1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKS1meSxwPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpLWZ5LHY9dHkocC1kKSxnPXA+ZDtpZih1fHwodT1jPUhpKCkpLGg8bCYmKGY9aCxoPWwsbD1mKSxoPnV5KWlmKHY+c3ktdXkpdS5tb3ZlVG8oaCpleShkKSxoKm95KGQpKSx1LmFyYygwLDAsaCxkLHAsIWcpLGw+dXkmJih1Lm1vdmVUbyhsKmV5KHApLGwqb3kocCkpLHUuYXJjKDAsMCxsLHAsZCxnKSk7ZWxzZXt2YXIgeSxfLGI9ZCxtPXAseD1kLHc9cCxNPXYsTj12LEE9YS5hcHBseSh0aGlzLGFyZ3VtZW50cykvMixUPUE+dXkmJihyPytyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpheShsKmwraCpoKSksUz1peSh0eShoLWwpLzIsK2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxrPVMsRT1TO2lmKFQ+dXkpe3ZhciBDPWx5KFQvbCpveShBKSksUD1seShUL2gqb3koQSkpOyhNLT0yKkMpPnV5Pyh4Kz1DKj1nPzE6LTEsdy09Qyk6KE09MCx4PXc9KGQrcCkvMiksKE4tPTIqUCk+dXk/KGIrPVAqPWc/MTotMSxtLT1QKTooTj0wLGI9bT0oZCtwKS8yKX12YXIgej1oKmV5KGIpLFI9aCpveShiKSxEPWwqZXkodykscT1sKm95KHcpO2lmKFM+dXkpe3ZhciBMLFU9aCpleShtKSxPPWgqb3kobSksQj1sKmV5KHgpLFk9bCpveSh4KTtpZih2PGN5JiYoTD1mdW5jdGlvbih0LG4sZSxyLGksbyxhLHUpe3ZhciBjPWUtdCxmPXItbixzPWEtaSxsPXUtbyxoPWwqYy1zKmY7aWYoIShoKmg8dXkpKXJldHVyblt0KyhoPShzKihuLW8pLWwqKHQtaSkpL2gpKmMsbitoKmZdfSh6LFIsQixZLFUsTyxELHEpKSl7dmFyIEY9ei1MWzBdLEk9Ui1MWzFdLGo9VS1MWzBdLEg9Ty1MWzFdLFg9MS9veSgoKHM9KEYqaitJKkgpLyhheShGKkYrSSpJKSpheShqKmorSCpIKSkpPjE/MDpzPC0xP2N5Ok1hdGguYWNvcyhzKSkvMiksRz1heShMWzBdKkxbMF0rTFsxXSpMWzFdKTtrPWl5KFMsKGwtRykvKFgtMSkpLEU9aXkoUywoaC1HKS8oWCsxKSl9fU4+dXk/RT51eT8oeT15eShCLFkseixSLGgsRSxnKSxfPXl5KFUsTyxELHEsaCxFLGcpLHUubW92ZVRvKHkuY3greS54MDEseS5jeSt5LnkwMSksRTxTP3UuYXJjKHkuY3gseS5jeSxFLG55KHkueTAxLHkueDAxKSxueShfLnkwMSxfLngwMSksIWcpOih1LmFyYyh5LmN4LHkuY3ksRSxueSh5LnkwMSx5LngwMSksbnkoeS55MTEseS54MTEpLCFnKSx1LmFyYygwLDAsaCxueSh5LmN5K3kueTExLHkuY3greS54MTEpLG55KF8uY3krXy55MTEsXy5jeCtfLngxMSksIWcpLHUuYXJjKF8uY3gsXy5jeSxFLG55KF8ueTExLF8ueDExKSxueShfLnkwMSxfLngwMSksIWcpKSk6KHUubW92ZVRvKHosUiksdS5hcmMoMCwwLGgsYixtLCFnKSk6dS5tb3ZlVG8oeixSKSxsPnV5JiZNPnV5P2s+dXk/KHk9eXkoRCxxLFUsTyxsLC1rLGcpLF89eXkoeixSLEIsWSxsLC1rLGcpLHUubGluZVRvKHkuY3greS54MDEseS5jeSt5LnkwMSksazxTP3UuYXJjKHkuY3gseS5jeSxrLG55KHkueTAxLHkueDAxKSxueShfLnkwMSxfLngwMSksIWcpOih1LmFyYyh5LmN4LHkuY3ksayxueSh5LnkwMSx5LngwMSksbnkoeS55MTEseS54MTEpLCFnKSx1LmFyYygwLDAsbCxueSh5LmN5K3kueTExLHkuY3greS54MTEpLG55KF8uY3krXy55MTEsXy5jeCtfLngxMSksZyksdS5hcmMoXy5jeCxfLmN5LGssbnkoXy55MTEsXy54MTEpLG55KF8ueTAxLF8ueDAxKSwhZykpKTp1LmFyYygwLDAsbCx3LHgsZyk6dS5saW5lVG8oRCxxKX1lbHNlIHUubW92ZVRvKDAsMCk7aWYodS5jbG9zZVBhdGgoKSxjKXJldHVybiB1PW51bGwsYysiInx8bnVsbH1yZXR1cm4gYy5jZW50cm9pZD1mdW5jdGlvbigpe3ZhciBlPSgrdC5hcHBseSh0aGlzLGFyZ3VtZW50cykrICtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkvMixyPSgraS5hcHBseSh0aGlzLGFyZ3VtZW50cykrICtvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkvMi1jeS8yO3JldHVybltleShyKSplLG95KHIpKmVdfSxjLmlubmVyUmFkaXVzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246S2coK24pLGMpOnR9LGMub3V0ZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYyk6bn0sYy5jb3JuZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYyk6ZX0sYy5wYWRSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bnVsbD09dD9udWxsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLGMpOnJ9LGMuc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OktnKCt0KSxjKTppfSxjLmVuZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLGMpOm99LGMucGFkQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYyk6YX0sYy5jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW51bGw9PXQ/bnVsbDp0LGMpOnV9LGN9LHQuYXJlYT1NeSx0LmxpbmU9d3ksdC5waWU9ZnVuY3Rpb24oKXt2YXIgdD1BeSxuPU55LGU9bnVsbCxyPUtnKDApLGk9S2coc3kpLG89S2coMCk7ZnVuY3Rpb24gYShhKXt2YXIgdSxjLGYscyxsLGg9YS5sZW5ndGgsZD0wLHA9bmV3IEFycmF5KGgpLHY9bmV3IEFycmF5KGgpLGc9K3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHk9TWF0aC5taW4oc3ksTWF0aC5tYXgoLXN5LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpLWcpKSxfPU1hdGgubWluKE1hdGguYWJzKHkpL2gsby5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGI9XyooeTwwPy0xOjEpO2Zvcih1PTA7dTxoOysrdSkobD12W3BbdV09dV09K3QoYVt1XSx1LGEpKT4wJiYoZCs9bCk7Zm9yKG51bGwhPW4/cC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odlt0XSx2W2VdKX0pOm51bGwhPWUmJnAuc29ydChmdW5jdGlvbih0LG4pe3JldHVybiBlKGFbdF0sYVtuXSl9KSx1PTAsZj1kPyh5LWgqYikvZDowO3U8aDsrK3UsZz1zKWM9cFt1XSxzPWcrKChsPXZbY10pPjA/bCpmOjApK2IsdltjXT17ZGF0YTphW2NdLGluZGV4OnUsdmFsdWU6bCxzdGFydEFuZ2xlOmcsZW5kQW5nbGU6cyxwYWRBbmdsZTpffTtyZXR1cm4gdn1yZXR1cm4gYS52YWx1ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOktnKCtuKSxhKTp0fSxhLnNvcnRWYWx1ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dCxlPW51bGwsYSk6bn0sYS5zb3J0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsbj1udWxsLGEpOmV9LGEuc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OktnKCt0KSxhKTpyfSxhLmVuZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLGEpOml9LGEucGFkQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksYSk6b30sYX0sdC5hcmVhUmFkaWFsPVB5LHQucmFkaWFsQXJlYT1QeSx0LmxpbmVSYWRpYWw9Q3ksdC5yYWRpYWxMaW5lPUN5LHQucG9pbnRSYWRpYWw9enksdC5saW5rSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiBMeShVeSl9LHQubGlua1ZlcnRpY2FsPWZ1bmN0aW9uKCl7cmV0dXJuIEx5KE95KX0sdC5saW5rUmFkaWFsPWZ1bmN0aW9uKCl7dmFyIHQ9THkoQnkpO3JldHVybiB0LmFuZ2xlPXQueCxkZWxldGUgdC54LHQucmFkaXVzPXQueSxkZWxldGUgdC55LHR9LHQuc3ltYm9sPWZ1bmN0aW9uKCl7dmFyIHQ9S2coWXkpLG49S2coNjQpLGU9bnVsbDtmdW5jdGlvbiByKCl7dmFyIHI7aWYoZXx8KGU9cj1IaSgpKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKS5kcmF3KGUsK24uYXBwbHkodGhpcyxhcmd1bWVudHMpKSxyKXJldHVybiBlPW51bGwscisiInx8bnVsbH1yZXR1cm4gci50eXBlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246S2cobikscik6dH0sci5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coK3QpLHIpOm59LHIuY29udGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1udWxsPT10P251bGw6dCxyKTplfSxyfSx0LnN5bWJvbHM9ZV8sdC5zeW1ib2xDaXJjbGU9WXksdC5zeW1ib2xDcm9zcz1GeSx0LnN5bWJvbERpYW1vbmQ9SHksdC5zeW1ib2xTcXVhcmU9V3ksdC5zeW1ib2xTdGFyPSR5LHQuc3ltYm9sVHJpYW5nbGU9UXksdC5zeW1ib2xXeWU9bl8sdC5jdXJ2ZUJhc2lzQ2xvc2VkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYV8odCl9LHQuY3VydmVCYXNpc09wZW49ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1Xyh0KX0sdC5jdXJ2ZUJhc2lzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgb18odCl9LHQuY3VydmVCdW5kbGU9Zl8sdC5jdXJ2ZUNhcmRpbmFsQ2xvc2VkPXBfLHQuY3VydmVDYXJkaW5hbE9wZW49Z18sdC5jdXJ2ZUNhcmRpbmFsPWhfLHQuY3VydmVDYXRtdWxsUm9tQ2xvc2VkPXhfLHQuY3VydmVDYXRtdWxsUm9tT3Blbj1NXyx0LmN1cnZlQ2F0bXVsbFJvbT1iXyx0LmN1cnZlTGluZWFyQ2xvc2VkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTl8odCl9LHQuY3VydmVMaW5lYXI9YnksdC5jdXJ2ZU1vbm90b25lWD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEVfKHQpfSx0LmN1cnZlTW9ub3RvbmVZPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQ18odCl9LHQuY3VydmVOYXR1cmFsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgel8odCl9LHQuY3VydmVTdGVwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRF8odCwuNSl9LHQuY3VydmVTdGVwQWZ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEXyh0LDEpfSx0LmN1cnZlU3RlcEJlZm9yZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERfKHQsMCl9LHQuc3RhY2s9ZnVuY3Rpb24oKXt2YXIgdD1LZyhbXSksbj1MXyxlPXFfLHI9VV87ZnVuY3Rpb24gaShpKXt2YXIgbyxhLHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksYz1pLmxlbmd0aCxmPXUubGVuZ3RoLHM9bmV3IEFycmF5KGYpO2ZvcihvPTA7bzxmOysrbyl7Zm9yKHZhciBsLGg9dVtvXSxkPXNbb109bmV3IEFycmF5KGMpLHA9MDtwPGM7KytwKWRbcF09bD1bMCwrcihpW3BdLGgscCxpKV0sbC5kYXRhPWlbcF07ZC5rZXk9aH1mb3Iobz0wLGE9bihzKTtvPGY7KytvKXNbYVtvXV0uaW5kZXg9bztyZXR1cm4gZShzLGEpLHN9cmV0dXJuIGkua2V5cz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOktnKFJ5LmNhbGwobikpLGkpOnR9LGkudmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpLZygrdCksaSk6cn0saS5vcmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1udWxsPT10P0xfOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6S2coUnkuY2FsbCh0KSksaSk6bn0saS5vZmZzZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bnVsbD09dD9xXzp0LGkpOmV9LGl9LHQuc3RhY2tPZmZzZXRFeHBhbmQ9ZnVuY3Rpb24odCxuKXtpZigocj10Lmxlbmd0aCk+MCl7Zm9yKHZhciBlLHIsaSxvPTAsYT10WzBdLmxlbmd0aDtvPGE7KytvKXtmb3IoaT1lPTA7ZTxyOysrZSlpKz10W2VdW29dWzFdfHwwO2lmKGkpZm9yKGU9MDtlPHI7KytlKXRbZV1bb11bMV0vPWl9cV8odCxuKX19LHQuc3RhY2tPZmZzZXREaXZlcmdpbmc9ZnVuY3Rpb24odCxuKXtpZigodT10Lmxlbmd0aCk+MSlmb3IodmFyIGUscixpLG8sYSx1LGM9MCxmPXRbblswXV0ubGVuZ3RoO2M8ZjsrK2MpZm9yKG89YT0wLGU9MDtlPHU7KytlKShpPShyPXRbbltlXV1bY10pWzFdLXJbMF0pPj0wPyhyWzBdPW8sclsxXT1vKz1pKTppPDA/KHJbMV09YSxyWzBdPWErPWkpOnJbMF09b30sdC5zdGFja09mZnNldE5vbmU9cV8sdC5zdGFja09mZnNldFNpbGhvdWV0dGU9ZnVuY3Rpb24odCxuKXtpZigoZT10Lmxlbmd0aCk+MCl7Zm9yKHZhciBlLHI9MCxpPXRbblswXV0sbz1pLmxlbmd0aDtyPG87KytyKXtmb3IodmFyIGE9MCx1PTA7YTxlOysrYSl1Kz10W2FdW3JdWzFdfHwwO2lbcl1bMV0rPWlbcl1bMF09LXUvMn1xXyh0LG4pfX0sdC5zdGFja09mZnNldFdpZ2dsZT1mdW5jdGlvbih0LG4pe2lmKChpPXQubGVuZ3RoKT4wJiYocj0oZT10W25bMF1dKS5sZW5ndGgpPjApe2Zvcih2YXIgZSxyLGksbz0wLGE9MTthPHI7KythKXtmb3IodmFyIHU9MCxjPTAsZj0wO3U8aTsrK3Upe2Zvcih2YXIgcz10W25bdV1dLGw9c1thXVsxXXx8MCxoPShsLShzW2EtMV1bMV18fDApKS8yLGQ9MDtkPHU7KytkKXt2YXIgcD10W25bZF1dO2grPShwW2FdWzFdfHwwKS0ocFthLTFdWzFdfHwwKX1jKz1sLGYrPWgqbH1lW2EtMV1bMV0rPWVbYS0xXVswXT1vLGMmJihvLT1mL2MpfWVbYS0xXVsxXSs9ZVthLTFdWzBdPW8scV8odCxuKX19LHQuc3RhY2tPcmRlckFwcGVhcmFuY2U9T18sdC5zdGFja09yZGVyQXNjZW5kaW5nPVlfLHQuc3RhY2tPcmRlckRlc2NlbmRpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIFlfKHQpLnJldmVyc2UoKX0sdC5zdGFja09yZGVySW5zaWRlT3V0PWZ1bmN0aW9uKHQpe3ZhciBuLGUscj10Lmxlbmd0aCxpPXQubWFwKEZfKSxvPU9fKHQpLGE9MCx1PTAsYz1bXSxmPVtdO2ZvcihuPTA7bjxyOysrbillPW9bbl0sYTx1PyhhKz1pW2VdLGMucHVzaChlKSk6KHUrPWlbZV0sZi5wdXNoKGUpKTtyZXR1cm4gZi5yZXZlcnNlKCkuY29uY2F0KGMpfSx0LnN0YWNrT3JkZXJOb25lPUxfLHQuc3RhY2tPcmRlclJldmVyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIExfKHQpLnJldmVyc2UoKX0sdC50aW1lSW50ZXJ2YWw9JGgsdC50aW1lTWlsbGlzZWNvbmQ9V2gsdC50aW1lTWlsbGlzZWNvbmRzPVpoLHQudXRjTWlsbGlzZWNvbmQ9V2gsdC51dGNNaWxsaXNlY29uZHM9WmgsdC50aW1lU2Vjb25kPUtoLHQudGltZVNlY29uZHM9dGQsdC51dGNTZWNvbmQ9S2gsdC51dGNTZWNvbmRzPXRkLHQudGltZU1pbnV0ZT1uZCx0LnRpbWVNaW51dGVzPWVkLHQudGltZUhvdXI9cmQsdC50aW1lSG91cnM9aWQsdC50aW1lRGF5PW9kLHQudGltZURheXM9YWQsdC50aW1lV2Vlaz1jZCx0LnRpbWVXZWVrcz12ZCx0LnRpbWVTdW5kYXk9Y2QsdC50aW1lU3VuZGF5cz12ZCx0LnRpbWVNb25kYXk9ZmQsdC50aW1lTW9uZGF5cz1nZCx0LnRpbWVUdWVzZGF5PXNkLHQudGltZVR1ZXNkYXlzPXlkLHQudGltZVdlZG5lc2RheT1sZCx0LnRpbWVXZWRuZXNkYXlzPV9kLHQudGltZVRodXJzZGF5PWhkLHQudGltZVRodXJzZGF5cz1iZCx0LnRpbWVGcmlkYXk9ZGQsdC50aW1lRnJpZGF5cz1tZCx0LnRpbWVTYXR1cmRheT1wZCx0LnRpbWVTYXR1cmRheXM9eGQsdC50aW1lTW9udGg9d2QsdC50aW1lTW9udGhzPU1kLHQudGltZVllYXI9TmQsdC50aW1lWWVhcnM9QWQsdC51dGNNaW51dGU9VGQsdC51dGNNaW51dGVzPVNkLHQudXRjSG91cj1rZCx0LnV0Y0hvdXJzPUVkLHQudXRjRGF5PUNkLHQudXRjRGF5cz1QZCx0LnV0Y1dlZWs9UmQsdC51dGNXZWVrcz1ZZCx0LnV0Y1N1bmRheT1SZCx0LnV0Y1N1bmRheXM9WWQsdC51dGNNb25kYXk9RGQsdC51dGNNb25kYXlzPUZkLHQudXRjVHVlc2RheT1xZCx0LnV0Y1R1ZXNkYXlzPUlkLHQudXRjV2VkbmVzZGF5PUxkLHQudXRjV2VkbmVzZGF5cz1qZCx0LnV0Y1RodXJzZGF5PVVkLHQudXRjVGh1cnNkYXlzPUhkLHQudXRjRnJpZGF5PU9kLHQudXRjRnJpZGF5cz1YZCx0LnV0Y1NhdHVyZGF5PUJkLHQudXRjU2F0dXJkYXlzPUdkLHQudXRjTW9udGg9VmQsdC51dGNNb250aHM9JGQsdC51dGNZZWFyPVdkLHQudXRjWWVhcnM9WmQsdC50aW1lRm9ybWF0RGVmYXVsdExvY2FsZT1odix0LnRpbWVGb3JtYXRMb2NhbGU9dHAsdC5pc29Gb3JtYXQ9ZHYsdC5pc29QYXJzZT1wdix0Lm5vdz1ucix0LnRpbWVyPWlyLHQudGltZXJGbHVzaD1vcix0LnRpbWVvdXQ9ZnIsdC5pbnRlcnZhbD1mdW5jdGlvbih0LG4sZSl7dmFyIHI9bmV3IHJyLGk9bjtyZXR1cm4gbnVsbD09bj8oci5yZXN0YXJ0KHQsbixlKSxyKToobj0rbixlPW51bGw9PWU/bnIoKTorZSxyLnJlc3RhcnQoZnVuY3Rpb24gbyhhKXthKz1pLHIucmVzdGFydChvLGkrPW4sZSksdChhKX0sbixlKSxyKX0sdC50cmFuc2l0aW9uPUNyLHQuYWN0aXZlPWZ1bmN0aW9uKHQsbil7dmFyIGUscixpPXQuX190cmFuc2l0aW9uO2lmKGkpZm9yKHIgaW4gbj1udWxsPT1uP251bGw6bisiIixpKWlmKChlPWlbcl0pLnN0YXRlPmRyJiZlLm5hbWU9PT1uKXJldHVybiBuZXcgRXIoW1t0XV0sZmksbiwrcik7cmV0dXJuIG51bGx9LHQuaW50ZXJydXB0PU1yLHQudm9yb25vaT1mdW5jdGlvbigpe3ZhciB0PWpfLG49SF8sZT1udWxsO2Z1bmN0aW9uIHIocil7cmV0dXJuIG5ldyBOYihyLm1hcChmdW5jdGlvbihlLGkpe3ZhciBvPVtNYXRoLnJvdW5kKHQoZSxpLHIpL3hiKSp4YixNYXRoLnJvdW5kKG4oZSxpLHIpL3hiKSp4Yl07cmV0dXJuIG8uaW5kZXg9aSxvLmRhdGE9ZSxvfSksZSl9cmV0dXJuIHIucG9seWdvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkucG9seWdvbnMoKX0sci5saW5rcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS5saW5rcygpfSxyLnRyaWFuZ2xlcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS50cmlhbmdsZXMoKX0sci54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246SV8oK24pLHIpOnR9LHIueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OklfKCt0KSxyKTpufSxyLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1udWxsPT10P251bGw6W1srdFswXVswXSwrdFswXVsxXV0sWyt0WzFdWzBdLCt0WzFdWzFdXV0scik6ZSYmW1tlWzBdWzBdLGVbMF1bMV1dLFtlWzFdWzBdLGVbMV1bMV1dXX0sci5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW51bGw9PXQ/bnVsbDpbWzAsMF0sWyt0WzBdLCt0WzFdXV0scik6ZSYmW2VbMV1bMF0tZVswXVswXSxlWzFdWzFdLWVbMF1bMV1dfSxyfSx0Lnpvb209ZnVuY3Rpb24oKXt2YXIgbixlLHI9emIsaT1SYixvPVViLGE9cWIsdT1MYixjPVswLDEvMF0sZj1bWy0xLzAsLTEvMF0sWzEvMCwxLzBdXSxzPTI1MCxsPURlLGg9W10sZD1JKCJzdGFydCIsInpvb20iLCJlbmQiKSxwPTUwMCx2PTE1MCxnPTA7ZnVuY3Rpb24geSh0KXt0LnByb3BlcnR5KCJfX3pvb20iLERiKS5vbigid2hlZWwuem9vbSIsTikub24oIm1vdXNlZG93bi56b29tIixBKS5vbigiZGJsY2xpY2suem9vbSIsVCkuZmlsdGVyKHUpLm9uKCJ0b3VjaHN0YXJ0Lnpvb20iLFMpLm9uKCJ0b3VjaG1vdmUuem9vbSIsaykub24oInRvdWNoZW5kLnpvb20gdG91Y2hjYW5jZWwuem9vbSIsRSkuc3R5bGUoInRvdWNoLWFjdGlvbiIsIm5vbmUiKS5zdHlsZSgiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yIiwicmdiYSgwLDAsMCwwKSIpfWZ1bmN0aW9uIF8odCxuKXtyZXR1cm4obj1NYXRoLm1heChjWzBdLE1hdGgubWluKGNbMV0sbikpKT09PXQuaz90Om5ldyBTYihuLHQueCx0LnkpfWZ1bmN0aW9uIGIodCxuLGUpe3ZhciByPW5bMF0tZVswXSp0LmssaT1uWzFdLWVbMV0qdC5rO3JldHVybiByPT09dC54JiZpPT09dC55P3Q6bmV3IFNiKHQuayxyLGkpfWZ1bmN0aW9uIG0odCl7cmV0dXJuWygrdFswXVswXSsgK3RbMV1bMF0pLzIsKCt0WzBdWzFdKyArdFsxXVsxXSkvMl19ZnVuY3Rpb24geCh0LG4sZSl7dC5vbigic3RhcnQuem9vbSIsZnVuY3Rpb24oKXt3KHRoaXMsYXJndW1lbnRzKS5zdGFydCgpfSkub24oImludGVycnVwdC56b29tIGVuZC56b29tIixmdW5jdGlvbigpe3codGhpcyxhcmd1bWVudHMpLmVuZCgpfSkudHdlZW4oInpvb20iLGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLHI9dyh0aGlzLHQpLG89aS5hcHBseSh0aGlzLHQpLGE9ZXx8bShvKSx1PU1hdGgubWF4KG9bMV1bMF0tb1swXVswXSxvWzFdWzFdLW9bMF1bMV0pLGM9dGhpcy5fX3pvb20sZj0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmFwcGx5KHRoaXMsdCk6bixzPWwoYy5pbnZlcnQoYSkuY29uY2F0KHUvYy5rKSxmLmludmVydChhKS5jb25jYXQodS9mLmspKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoMT09PXQpdD1mO2Vsc2V7dmFyIG49cyh0KSxlPXUvblsyXTt0PW5ldyBTYihlLGFbMF0tblswXSplLGFbMV0tblsxXSplKX1yLnpvb20obnVsbCx0KX19KX1mdW5jdGlvbiB3KHQsbil7Zm9yKHZhciBlLHI9MCxpPWgubGVuZ3RoO3I8aTsrK3IpaWYoKGU9aFtyXSkudGhhdD09PXQpcmV0dXJuIGU7cmV0dXJuIG5ldyBNKHQsbil9ZnVuY3Rpb24gTSh0LG4pe3RoaXMudGhhdD10LHRoaXMuYXJncz1uLHRoaXMuaW5kZXg9LTEsdGhpcy5hY3RpdmU9MCx0aGlzLmV4dGVudD1pLmFwcGx5KHQsbil9ZnVuY3Rpb24gTigpe2lmKHIuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgdD13KHRoaXMsYXJndW1lbnRzKSxuPXRoaXMuX196b29tLGU9TWF0aC5tYXgoY1swXSxNYXRoLm1pbihjWzFdLG4uaypNYXRoLnBvdygyLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpKSkpLGk9T3QodGhpcyk7aWYodC53aGVlbCl0Lm1vdXNlWzBdWzBdPT09aVswXSYmdC5tb3VzZVswXVsxXT09PWlbMV18fCh0Lm1vdXNlWzFdPW4uaW52ZXJ0KHQubW91c2VbMF09aSkpLGNsZWFyVGltZW91dCh0LndoZWVsKTtlbHNle2lmKG4uaz09PWUpcmV0dXJuO3QubW91c2U9W2ksbi5pbnZlcnQoaSldLE1yKHRoaXMpLHQuc3RhcnQoKX1QYigpLHQud2hlZWw9c2V0VGltZW91dChmdW5jdGlvbigpe3Qud2hlZWw9bnVsbCx0LmVuZCgpfSx2KSx0Lnpvb20oIm1vdXNlIixvKGIoXyhuLGUpLHQubW91c2VbMF0sdC5tb3VzZVsxXSksdC5leHRlbnQsZikpfX1mdW5jdGlvbiBBKCl7aWYoIWUmJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgbj13KHRoaXMsYXJndW1lbnRzKSxpPXp0KHQuZXZlbnQudmlldykub24oIm1vdXNlbW92ZS56b29tIixmdW5jdGlvbigpe2lmKFBiKCksIW4ubW92ZWQpe3ZhciBlPXQuZXZlbnQuY2xpZW50WC11LHI9dC5ldmVudC5jbGllbnRZLWM7bi5tb3ZlZD1lKmUrcipyPmd9bi56b29tKCJtb3VzZSIsbyhiKG4udGhhdC5fX3pvb20sbi5tb3VzZVswXT1PdChuLnRoYXQpLG4ubW91c2VbMV0pLG4uZXh0ZW50LGYpKX0sITApLm9uKCJtb3VzZXVwLnpvb20iLGZ1bmN0aW9uKCl7aS5vbigibW91c2Vtb3ZlLnpvb20gbW91c2V1cC56b29tIixudWxsKSxqdCh0LmV2ZW50LnZpZXcsbi5tb3ZlZCksUGIoKSxuLmVuZCgpfSwhMCksYT1PdCh0aGlzKSx1PXQuZXZlbnQuY2xpZW50WCxjPXQuZXZlbnQuY2xpZW50WTtJdCh0LmV2ZW50LnZpZXcpLENiKCksbi5tb3VzZT1bYSx0aGlzLl9fem9vbS5pbnZlcnQoYSldLE1yKHRoaXMpLG4uc3RhcnQoKX19ZnVuY3Rpb24gVCgpe2lmKHIuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgbj10aGlzLl9fem9vbSxlPU90KHRoaXMpLGE9bi5pbnZlcnQoZSksdT1uLmsqKHQuZXZlbnQuc2hpZnRLZXk/LjU6MiksYz1vKGIoXyhuLHUpLGUsYSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZik7UGIoKSxzPjA/enQodGhpcykudHJhbnNpdGlvbigpLmR1cmF0aW9uKHMpLmNhbGwoeCxjLGUpOnp0KHRoaXMpLmNhbGwoeS50cmFuc2Zvcm0sYyl9fWZ1bmN0aW9uIFMoKXtpZihyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGUsaSxvLGEsdT13KHRoaXMsYXJndW1lbnRzKSxjPXQuZXZlbnQuY2hhbmdlZFRvdWNoZXMsZj1jLmxlbmd0aDtmb3IoQ2IoKSxpPTA7aTxmOysraSlhPVthPUJ0KHRoaXMsYywobz1jW2ldKS5pZGVudGlmaWVyKSx0aGlzLl9fem9vbS5pbnZlcnQoYSksby5pZGVudGlmaWVyXSx1LnRvdWNoMD91LnRvdWNoMXx8KHUudG91Y2gxPWEpOih1LnRvdWNoMD1hLGU9ITApO2lmKG4mJihuPWNsZWFyVGltZW91dChuKSwhdS50b3VjaDEpKXJldHVybiB1LmVuZCgpLHZvaWQoKGE9enQodGhpcykub24oImRibGNsaWNrLnpvb20iKSkmJmEuYXBwbHkodGhpcyxhcmd1bWVudHMpKTtlJiYobj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1udWxsfSxwKSxNcih0aGlzKSx1LnN0YXJ0KCkpfX1mdW5jdGlvbiBrKCl7dmFyIGUscixpLGEsdT13KHRoaXMsYXJndW1lbnRzKSxjPXQuZXZlbnQuY2hhbmdlZFRvdWNoZXMscz1jLmxlbmd0aDtmb3IoUGIoKSxuJiYobj1jbGVhclRpbWVvdXQobikpLGU9MDtlPHM7KytlKWk9QnQodGhpcyxjLChyPWNbZV0pLmlkZW50aWZpZXIpLHUudG91Y2gwJiZ1LnRvdWNoMFsyXT09PXIuaWRlbnRpZmllcj91LnRvdWNoMFswXT1pOnUudG91Y2gxJiZ1LnRvdWNoMVsyXT09PXIuaWRlbnRpZmllciYmKHUudG91Y2gxWzBdPWkpO2lmKHI9dS50aGF0Ll9fem9vbSx1LnRvdWNoMSl7dmFyIGw9dS50b3VjaDBbMF0saD11LnRvdWNoMFsxXSxkPXUudG91Y2gxWzBdLHA9dS50b3VjaDFbMV0sdj0odj1kWzBdLWxbMF0pKnYrKHY9ZFsxXS1sWzFdKSp2LGc9KGc9cFswXS1oWzBdKSpnKyhnPXBbMV0taFsxXSkqZztyPV8ocixNYXRoLnNxcnQodi9nKSksaT1bKGxbMF0rZFswXSkvMiwobFsxXStkWzFdKS8yXSxhPVsoaFswXStwWzBdKS8yLChoWzFdK3BbMV0pLzJdfWVsc2V7aWYoIXUudG91Y2gwKXJldHVybjtpPXUudG91Y2gwWzBdLGE9dS50b3VjaDBbMV19dS56b29tKCJ0b3VjaCIsbyhiKHIsaSxhKSx1LmV4dGVudCxmKSl9ZnVuY3Rpb24gRSgpe3ZhciBuLHIsaT13KHRoaXMsYXJndW1lbnRzKSxvPXQuZXZlbnQuY2hhbmdlZFRvdWNoZXMsYT1vLmxlbmd0aDtmb3IoQ2IoKSxlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZT1udWxsfSxwKSxuPTA7bjxhOysrbilyPW9bbl0saS50b3VjaDAmJmkudG91Y2gwWzJdPT09ci5pZGVudGlmaWVyP2RlbGV0ZSBpLnRvdWNoMDppLnRvdWNoMSYmaS50b3VjaDFbMl09PT1yLmlkZW50aWZpZXImJmRlbGV0ZSBpLnRvdWNoMTtpLnRvdWNoMSYmIWkudG91Y2gwJiYoaS50b3VjaDA9aS50b3VjaDEsZGVsZXRlIGkudG91Y2gxKSxpLnRvdWNoMD9pLnRvdWNoMFsxXT10aGlzLl9fem9vbS5pbnZlcnQoaS50b3VjaDBbMF0pOmkuZW5kKCl9cmV0dXJuIHkudHJhbnNmb3JtPWZ1bmN0aW9uKHQsbil7dmFyIGU9dC5zZWxlY3Rpb24/dC5zZWxlY3Rpb24oKTp0O2UucHJvcGVydHkoIl9fem9vbSIsRGIpLHQhPT1lP3godCxuKTplLmludGVycnVwdCgpLmVhY2goZnVuY3Rpb24oKXt3KHRoaXMsYXJndW1lbnRzKS5zdGFydCgpLnpvb20obnVsbCwiZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuKS5lbmQoKX0pfSx5LnNjYWxlQnk9ZnVuY3Rpb24odCxuKXt5LnNjYWxlVG8odCxmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fem9vbS5rKigiZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuKX0pfSx5LnNjYWxlVG89ZnVuY3Rpb24odCxuKXt5LnRyYW5zZm9ybSh0LGZ1bmN0aW9uKCl7dmFyIHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLl9fem9vbSxyPW0odCksYT1lLmludmVydChyKSx1PSJmdW5jdGlvbiI9PXR5cGVvZiBuP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOm47cmV0dXJuIG8oYihfKGUsdSkscixhKSx0LGYpfSl9LHkudHJhbnNsYXRlQnk9ZnVuY3Rpb24odCxuLGUpe3kudHJhbnNmb3JtKHQsZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLl9fem9vbS50cmFuc2xhdGUoImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6biwiZnVuY3Rpb24iPT10eXBlb2YgZT9lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTplKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmKX0pfSx5LnRyYW5zbGF0ZVRvPWZ1bmN0aW9uKHQsbixlKXt5LnRyYW5zZm9ybSh0LGZ1bmN0aW9uKCl7dmFyIHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cykscj10aGlzLl9fem9vbSxhPW0odCk7cmV0dXJuIG8oa2IudHJhbnNsYXRlKGFbMF0sYVsxXSkuc2NhbGUoci5rKS50cmFuc2xhdGUoImZ1bmN0aW9uIj09dHlwZW9mIG4/LW4uYXBwbHkodGhpcyxhcmd1bWVudHMpOi1uLCJmdW5jdGlvbiI9PXR5cGVvZiBlPy1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTotZSksdCxmKX0pfSxNLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09Kyt0aGlzLmFjdGl2ZSYmKHRoaXMuaW5kZXg9aC5wdXNoKHRoaXMpLTEsdGhpcy5lbWl0KCJzdGFydCIpKSx0aGlzfSx6b29tOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMubW91c2UmJiJtb3VzZSIhPT10JiYodGhpcy5tb3VzZVsxXT1uLmludmVydCh0aGlzLm1vdXNlWzBdKSksdGhpcy50b3VjaDAmJiJ0b3VjaCIhPT10JiYodGhpcy50b3VjaDBbMV09bi5pbnZlcnQodGhpcy50b3VjaDBbMF0pKSx0aGlzLnRvdWNoMSYmInRvdWNoIiE9PXQmJih0aGlzLnRvdWNoMVsxXT1uLmludmVydCh0aGlzLnRvdWNoMVswXSkpLHRoaXMudGhhdC5fX3pvb209bix0aGlzLmVtaXQoInpvb20iKSx0aGlzfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09LS10aGlzLmFjdGl2ZSYmKGguc3BsaWNlKHRoaXMuaW5kZXgsMSksdGhpcy5pbmRleD0tMSx0aGlzLmVtaXQoImVuZCIpKSx0aGlzfSxlbWl0OmZ1bmN0aW9uKHQpe1N0KG5ldyBUYih5LHQsdGhpcy50aGF0Ll9fem9vbSksZC5hcHBseSxkLFt0LHRoaXMudGhhdCx0aGlzLmFyZ3NdKX19LHkud2hlZWxEZWx0YT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OkFiKCt0KSx5KTphfSx5LmZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OkFiKCEhdCkseSk6cn0seS50b3VjaGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpBYighIXQpLHkpOnV9LHkuZXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6QWIoW1srdFswXVswXSwrdFswXVsxXV0sWyt0WzFdWzBdLCt0WzFdWzFdXV0pLHkpOml9LHkuc2NhbGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGNbMF09K3RbMF0sY1sxXT0rdFsxXSx5KTpbY1swXSxjWzFdXX0seS50cmFuc2xhdGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGZbMF1bMF09K3RbMF1bMF0sZlsxXVswXT0rdFsxXVswXSxmWzBdWzFdPSt0WzBdWzFdLGZbMV1bMV09K3RbMV1bMV0seSk6W1tmWzBdWzBdLGZbMF1bMV1dLFtmWzFdWzBdLGZbMV1bMV1dXX0seS5jb25zdHJhaW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89dCx5KTpvfSx5LmR1cmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPSt0LHkpOnN9LHkuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9dCx5KTpsfSx5Lm9uPWZ1bmN0aW9uKCl7dmFyIHQ9ZC5vbi5hcHBseShkLGFyZ3VtZW50cyk7cmV0dXJuIHQ9PT1kP3k6dH0seS5jbGlja0Rpc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPSh0PSt0KSp0LHkpOk1hdGguc3FydChnKX0seX0sdC56b29tVHJhbnNmb3JtPUViLHQuem9vbUlkZW50aXR5PWtiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pOwo="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uIGEoYixjLGQpe2Z1bmN0aW9uIGUoZyxoKXtpZighY1tnXSl7aWYoIWJbZ10pe3ZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFoJiZpKXJldHVybiBpKGcsITApO2lmKGYpcmV0dXJuIGYoZywhMCk7dmFyIGo9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrZysiJyIpO3Rocm93IGouY29kZT0iTU9EVUxFX05PVF9GT1VORCIsan12YXIgaz1jW2ddPXtleHBvcnRzOnt9fTtiW2ddWzBdLmNhbGwoay5leHBvcnRzLGZ1bmN0aW9uKGEpe3ZhciBjPWJbZ11bMV1bYV07cmV0dXJuIGUoYz9jOmEpfSxrLGsuZXhwb3J0cyxhLGIsYyxkKX1yZXR1cm4gY1tnXS5leHBvcnRzfWZvcih2YXIgZj0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYixjKXshZnVuY3Rpb24oYSxkKXsib2JqZWN0Ij09dHlwZW9mIGMmJiJ1bmRlZmluZWQiIT10eXBlb2YgYj9kKGMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGQpOmQoYS5kMz1hLmQzfHx7fSl9KHRoaXMsZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYTxiPy0xOmE+Yj8xOmE+PWI/MDpOYU59ZnVuY3Rpb24gYyhhKXtyZXR1cm4gMT09PWEubGVuZ3RoJiYoYT1kKGEpKSx7bGVmdDpmdW5jdGlvbihiLGMsZCxlKXtmb3IobnVsbD09ZCYmKGQ9MCksbnVsbD09ZSYmKGU9Yi5sZW5ndGgpO2Q8ZTspe3ZhciBmPWQrZT4+PjE7YShiW2ZdLGMpPDA/ZD1mKzE6ZT1mfXJldHVybiBkfSxyaWdodDpmdW5jdGlvbihiLGMsZCxlKXtmb3IobnVsbD09ZCYmKGQ9MCksbnVsbD09ZSYmKGU9Yi5sZW5ndGgpO2Q8ZTspe3ZhciBmPWQrZT4+PjE7YShiW2ZdLGMpPjA/ZT1mOmQ9ZisxfXJldHVybiBkfX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4gYihhKGMpLGQpfX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGI8YT8tMTpiPmE/MTpiPj1hPzA6TmFOfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIG51bGw9PT1hP05hTjorYX1mdW5jdGlvbiBnKGEsYil7dmFyIGMsZCxlPWEubGVuZ3RoLGc9MCxoPTAsaT0tMSxqPTA7aWYobnVsbD09Yilmb3IoOysraTxlOylpc05hTihjPWYoYVtpXSkpfHwoZD1jLWcsZys9ZC8rK2osaCs9ZCooYy1nKSk7ZWxzZSBmb3IoOysraTxlOylpc05hTihjPWYoYihhW2ldLGksYSkpKXx8KGQ9Yy1nLGcrPWQvKytqLGgrPWQqKGMtZykpO2lmKGo+MSlyZXR1cm4gaC8oai0xKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZyhhLGIpO3JldHVybiBjP01hdGguc3FydChjKTpjfWZ1bmN0aW9uIGkoYSxiKXt2YXIgYyxkLGUsZj0tMSxnPWEubGVuZ3RoO2lmKG51bGw9PWIpe2Zvcig7KytmPGc7KWlmKG51bGwhPShkPWFbZl0pJiZkPj1kKXtjPWU9ZDticmVha31mb3IoOysrZjxnOyludWxsIT0oZD1hW2ZdKSYmKGM+ZCYmKGM9ZCksZTxkJiYoZT1kKSl9ZWxzZXtmb3IoOysrZjxnOylpZihudWxsIT0oZD1iKGFbZl0sZixhKSkmJmQ+PWQpe2M9ZT1kO2JyZWFrfWZvcig7KytmPGc7KW51bGwhPShkPWIoYVtmXSxmLGEpKSYmKGM+ZCYmKGM9ZCksZTxkJiYoZT1kKSl9cmV0dXJuW2MsZV19ZnVuY3Rpb24gaihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gayhhKXtyZXR1cm4gYX1mdW5jdGlvbiBsKGEsYixjKXthPSthLGI9K2IsYz0oZT1hcmd1bWVudHMubGVuZ3RoKTwyPyhiPWEsYT0wLDEpOmU8Mz8xOitjO2Zvcih2YXIgZD0tMSxlPTB8TWF0aC5tYXgoMCxNYXRoLmNlaWwoKGItYSkvYykpLGY9bmV3IEFycmF5KGUpOysrZDxlOylmW2RdPWErZCpjO3JldHVybiBmfWZ1bmN0aW9uIG0oYSxiLGMpe3ZhciBkPW4oYSxiLGMpO3JldHVybiBsKE1hdGguY2VpbChhL2QpKmQsTWF0aC5mbG9vcihiL2QpKmQrZC8yLGQpfWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPU1hdGguYWJzKGItYSkvTWF0aC5tYXgoMCxjKSxlPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coZCkvTWF0aC5MTjEwKSksZj1kL2U7cmV0dXJuIGY+PU0/ZSo9MTA6Zj49Tj9lKj01OmY+PU8mJihlKj0yKSxiPGE/LWU6ZX1mdW5jdGlvbiBvKGEpe3JldHVybiBNYXRoLmNlaWwoTWF0aC5sb2coYS5sZW5ndGgpL01hdGguTE4yKSsxfWZ1bmN0aW9uIHAoKXtmdW5jdGlvbiBhKGEpe3ZhciBlLGYsZz1hLmxlbmd0aCxoPW5ldyBBcnJheShnKTtmb3IoZT0wO2U8ZzsrK2UpaFtlXT1iKGFbZV0sZSxhKTt2YXIgaT1jKGgpLGo9aVswXSxrPWlbMV0sbD1kKGgsaixrKTtBcnJheS5pc0FycmF5KGwpfHwobD1tKGosayxsKSk7Zm9yKHZhciBuPWwubGVuZ3RoO2xbMF08PWo7KWwuc2hpZnQoKSwtLW47Zm9yKDtsW24tMV0+PWs7KWwucG9wKCksLS1uO3ZhciBvLHA9bmV3IEFycmF5KG4rMSk7Zm9yKGU9MDtlPD1uOysrZSlvPXBbZV09W10sby54MD1lPjA/bFtlLTFdOmosby54MT1lPG4/bFtlXTprO2ZvcihlPTA7ZTxnOysrZSlmPWhbZV0sajw9ZiYmZjw9ayYmcFtIKGwsZiwwLG4pXS5wdXNoKGFbZV0pO3JldHVybiBwfXZhciBiPWssYz1pLGQ9bztyZXR1cm4gYS52YWx1ZT1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj0iZnVuY3Rpb24iPT10eXBlb2YgYz9jOmooYyksYSk6Yn0sYS5kb21haW49ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9ImZ1bmN0aW9uIj09dHlwZW9mIGI/YjpqKFtiWzBdLGJbMV1dKSxhKTpjfSxhLnRocmVzaG9sZHM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9ImZ1bmN0aW9uIj09dHlwZW9mIGI/YjpqKEFycmF5LmlzQXJyYXkoYik/Sy5jYWxsKGIpOmIpLGEpOmR9LGF9ZnVuY3Rpb24gcShhLGIsYyl7aWYobnVsbD09YyYmKGM9ZiksZD1hLmxlbmd0aCl7aWYoKGI9K2IpPD0wfHxkPDIpcmV0dXJuK2MoYVswXSwwLGEpO2lmKGI+PTEpcmV0dXJuK2MoYVtkLTFdLGQtMSxhKTt2YXIgZCxlPShkLTEpKmIsZz1NYXRoLmZsb29yKGUpLGg9K2MoYVtnXSxnLGEpLGk9K2MoYVtnKzFdLGcrMSxhKTtyZXR1cm4gaCsoaS1oKSooZS1nKX19ZnVuY3Rpb24gcihhLGMsZCl7cmV0dXJuIGE9TC5jYWxsKGEsZikuc29ydChiKSxNYXRoLmNlaWwoKGQtYykvKDIqKHEoYSwuNzUpLXEoYSwuMjUpKSpNYXRoLnBvdyhhLmxlbmd0aCwtMS8zKSkpfWZ1bmN0aW9uIHMoYSxiLGMpe3JldHVybiBNYXRoLmNlaWwoKGMtYikvKDMuNSpoKGEpKk1hdGgucG93KGEubGVuZ3RoLC0xLzMpKSl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjLGQsZT0tMSxmPWEubGVuZ3RoO2lmKG51bGw9PWIpe2Zvcig7KytlPGY7KWlmKG51bGwhPShkPWFbZV0pJiZkPj1kKXtjPWQ7YnJlYWt9Zm9yKDsrK2U8ZjspbnVsbCE9KGQ9YVtlXSkmJmQ+YyYmKGM9ZCl9ZWxzZXtmb3IoOysrZTxmOylpZihudWxsIT0oZD1iKGFbZV0sZSxhKSkmJmQ+PWQpe2M9ZDticmVha31mb3IoOysrZTxmOyludWxsIT0oZD1iKGFbZV0sZSxhKSkmJmQ+YyYmKGM9ZCl9cmV0dXJuIGN9ZnVuY3Rpb24gdShhLGIpe3ZhciBjLGQ9MCxlPWEubGVuZ3RoLGc9LTEsaD1lO2lmKG51bGw9PWIpZm9yKDsrK2c8ZTspaXNOYU4oYz1mKGFbZ10pKT8tLWg6ZCs9YztlbHNlIGZvcig7KytnPGU7KWlzTmFOKGM9ZihiKGFbZ10sZyxhKSkpPy0taDpkKz1jO2lmKGgpcmV0dXJuIGQvaH1mdW5jdGlvbiB2KGEsYyl7dmFyIGQsZT1bXSxnPWEubGVuZ3RoLGg9LTE7aWYobnVsbD09Yylmb3IoOysraDxnOylpc05hTihkPWYoYVtoXSkpfHxlLnB1c2goZCk7ZWxzZSBmb3IoOysraDxnOylpc05hTihkPWYoYyhhW2hdLGgsYSkpKXx8ZS5wdXNoKGQpO3JldHVybiBxKGUuc29ydChiKSwuNSl9ZnVuY3Rpb24gdyhhKXtmb3IodmFyIGIsYyxkLGU9YS5sZW5ndGgsZj0tMSxnPTA7KytmPGU7KWcrPWFbZl0ubGVuZ3RoO2ZvcihjPW5ldyBBcnJheShnKTstLWU+PTA7KWZvcihkPWFbZV0sYj1kLmxlbmd0aDstLWI+PTA7KWNbLS1nXT1kW2JdO3JldHVybiBjfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYyxkLGU9LTEsZj1hLmxlbmd0aDtpZihudWxsPT1iKXtmb3IoOysrZTxmOylpZihudWxsIT0oZD1hW2VdKSYmZD49ZCl7Yz1kO2JyZWFrfWZvcig7KytlPGY7KW51bGwhPShkPWFbZV0pJiZjPmQmJihjPWQpfWVsc2V7Zm9yKDsrK2U8ZjspaWYobnVsbCE9KGQ9YihhW2VdLGUsYSkpJiZkPj1kKXtjPWQ7YnJlYWt9Zm9yKDsrK2U8ZjspbnVsbCE9KGQ9YihhW2VdLGUsYSkpJiZjPmQmJihjPWQpfXJldHVybiBjfWZ1bmN0aW9uIHkoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aC0xLGQ9YVswXSxlPW5ldyBBcnJheShjPDA/MDpjKTtiPGM7KWVbYl09W2QsZD1hWysrYl1dO3JldHVybiBlfWZ1bmN0aW9uIHooYSxiKXtmb3IodmFyIGM9Yi5sZW5ndGgsZD1uZXcgQXJyYXkoYyk7Yy0tOylkW2NdPWFbYltjXV07cmV0dXJuIGR9ZnVuY3Rpb24gQShhLGMpe2lmKGQ9YS5sZW5ndGgpe3ZhciBkLGUsZj0wLGc9MCxoPWFbZ107Zm9yKGN8fChjPWIpOysrZjxkOykoYyhlPWFbZl0saCk8MHx8MCE9PWMoaCxoKSkmJihoPWUsZz1mKTtyZXR1cm4gMD09PWMoaCxoKT9nOnZvaWQgMH19ZnVuY3Rpb24gQihhLGIsYyl7Zm9yKHZhciBkLGUsZj0obnVsbD09Yz9hLmxlbmd0aDpjKS0oYj1udWxsPT1iPzA6K2IpO2Y7KWU9TWF0aC5yYW5kb20oKSpmLS18MCxkPWFbZitiXSxhW2YrYl09YVtlK2JdLGFbZStiXT1kO3JldHVybiBhfWZ1bmN0aW9uIEMoYSxiKXt2YXIgYyxkPTAsZT1hLmxlbmd0aCxmPS0xO2lmKG51bGw9PWIpZm9yKDsrK2Y8ZTspKGM9K2FbZl0pJiYoZCs9Yyk7ZWxzZSBmb3IoOysrZjxlOykoYz0rYihhW2ZdLGYsYSkpJiYoZCs9Yyk7cmV0dXJuIGR9ZnVuY3Rpb24gRChhKXtpZighKGU9YS5sZW5ndGgpKXJldHVybltdO2Zvcih2YXIgYj0tMSxjPXgoYSxFKSxkPW5ldyBBcnJheShjKTsrK2I8YzspZm9yKHZhciBlLGY9LTEsZz1kW2JdPW5ldyBBcnJheShlKTsrK2Y8ZTspZ1tmXT1hW2ZdW2JdO3JldHVybiBkfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGEubGVuZ3RofWZ1bmN0aW9uIEYoKXtyZXR1cm4gRChhcmd1bWVudHMpfXZhciBHPWMoYiksSD1HLnJpZ2h0LEk9Ry5sZWZ0LEo9QXJyYXkucHJvdG90eXBlLEs9Si5zbGljZSxMPUoubWFwLE09TWF0aC5zcXJ0KDUwKSxOPU1hdGguc3FydCgxMCksTz1NYXRoLnNxcnQoMik7YS5iaXNlY3Q9SCxhLmJpc2VjdFJpZ2h0PUgsYS5iaXNlY3RMZWZ0PUksYS5hc2NlbmRpbmc9YixhLmJpc2VjdG9yPWMsYS5kZXNjZW5kaW5nPWUsYS5kZXZpYXRpb249aCxhLmV4dGVudD1pLGEuaGlzdG9ncmFtPXAsYS50aHJlc2hvbGRGcmVlZG1hbkRpYWNvbmlzPXIsYS50aHJlc2hvbGRTY290dD1zLGEudGhyZXNob2xkU3R1cmdlcz1vLGEubWF4PXQsYS5tZWFuPXUsYS5tZWRpYW49dixhLm1lcmdlPXcsYS5taW49eCxhLnBhaXJzPXksYS5wZXJtdXRlPXosYS5xdWFudGlsZT1xLGEucmFuZ2U9bCxhLnNjYW49QSxhLnNodWZmbGU9QixhLnN1bT1DLGEudGlja3M9bSxhLnRpY2tTdGVwPW4sYS50cmFuc3Bvc2U9RCxhLnZhcmlhbmNlPWcsYS56aXA9RixPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KX0se31dLDI6W2Z1bmN0aW9uKGEsYixjKXshZnVuY3Rpb24oYSxkKXsib2JqZWN0Ij09dHlwZW9mIGMmJiJ1bmRlZmluZWQiIT10eXBlb2YgYj9kKGMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGQpOmQoYS5kMz1hLmQzfHx7fSl9KHRoaXMsZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gYyhhLGMpe3ZhciBkPW5ldyBiO2lmKGEgaW5zdGFuY2VvZiBiKWEuZWFjaChmdW5jdGlvbihhLGIpe2Quc2V0KGIsYSl9KTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoYSkpe3ZhciBlLGY9LTEsZz1hLmxlbmd0aDtpZihudWxsPT1jKWZvcig7KytmPGc7KWQuc2V0KGYsYVtmXSk7ZWxzZSBmb3IoOysrZjxnOylkLnNldChjKGU9YVtmXSxmLGEpLGUpfWVsc2UgaWYoYSlmb3IodmFyIGggaW4gYSlkLnNldChoLGFbaF0pO3JldHVybiBkfWZ1bmN0aW9uIGQoKXtmdW5jdGlvbiBhKGIsZSxmLGcpe2lmKGU+PWsubGVuZ3RoKXJldHVybiBudWxsIT1pP2koYik6bnVsbCE9ZD9iLnNvcnQoZCk6Yjtmb3IodmFyIGgsaixsLG09LTEsbj1iLmxlbmd0aCxvPWtbZSsrXSxwPWMoKSxxPWYoKTsrK208bjspKGw9cC5nZXQoaD1vKGo9YlttXSkrIiIpKT9sLnB1c2goaik6cC5zZXQoaCxbal0pO3JldHVybiBwLmVhY2goZnVuY3Rpb24oYixjKXtnKHEsYyxhKGIsZSxmLGcpKX0pLHF9ZnVuY3Rpb24gYihhLGMpe2lmKCsrYz5rLmxlbmd0aClyZXR1cm4gYTt2YXIgZCxlPWxbYy0xXTtyZXR1cm4gbnVsbCE9aSYmYz49ay5sZW5ndGg/ZD1hLmVudHJpZXMoKTooZD1bXSxhLmVhY2goZnVuY3Rpb24oYSxlKXtkLnB1c2goe2tleTplLHZhbHVlczpiKGEsYyl9KX0pKSxudWxsIT1lP2Quc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBlKGEua2V5LGIua2V5KX0pOmR9dmFyIGQsaSxqLGs9W10sbD1bXTtyZXR1cm4gaj17b2JqZWN0OmZ1bmN0aW9uKGIpe3JldHVybiBhKGIsMCxlLGYpfSxtYXA6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwwLGcsaCl9LGVudHJpZXM6ZnVuY3Rpb24oYyl7cmV0dXJuIGIoYShjLDAsZyxoKSwwKX0sa2V5OmZ1bmN0aW9uKGEpe3JldHVybiBrLnB1c2goYSksan0sc29ydEtleXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGxbay5sZW5ndGgtMV09YSxqfSxzb3J0VmFsdWVzOmZ1bmN0aW9uKGEpe3JldHVybiBkPWEsan0scm9sbHVwOmZ1bmN0aW9uKGEpe3JldHVybiBpPWEsan19fWZ1bmN0aW9uIGUoKXtyZXR1cm57fX1mdW5jdGlvbiBmKGEsYixjKXthW2JdPWN9ZnVuY3Rpb24gZygpe3JldHVybiBjKCl9ZnVuY3Rpb24gaChhLGIsYyl7YS5zZXQoYixjKX1mdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGooYSxiKXt2YXIgYz1uZXcgaTtpZihhIGluc3RhbmNlb2YgaSlhLmVhY2goZnVuY3Rpb24oYSl7Yy5hZGQoYSl9KTtlbHNlIGlmKGEpe3ZhciBkPS0xLGU9YS5sZW5ndGg7aWYobnVsbD09Yilmb3IoOysrZDxlOyljLmFkZChhW2RdKTtlbHNlIGZvcig7KytkPGU7KWMuYWRkKGIoYVtkXSxkLGEpKX1yZXR1cm4gY31mdW5jdGlvbiBrKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiBsKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChhW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBtKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaCh7a2V5OmMsdmFsdWU6YVtjXX0pO3JldHVybiBifXZhciBuPSIkIjtiLnByb3RvdHlwZT1jLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YixoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4rYSBpbiB0aGlzfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbbithXX0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXNbbithXT1iLHRoaXN9LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYj1uK2E7cmV0dXJuIGIgaW4gdGhpcyYmZGVsZXRlIHRoaXNbYl19LGNsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMpYVswXT09PW4mJmRlbGV0ZSB0aGlzW2FdfSxrZXlzOmZ1bmN0aW9uKCl7dmFyIGE9W107Zm9yKHZhciBiIGluIHRoaXMpYlswXT09PW4mJmEucHVzaChiLnNsaWNlKDEpKTtyZXR1cm4gYX0sdmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGE9W107Zm9yKHZhciBiIGluIHRoaXMpYlswXT09PW4mJmEucHVzaCh0aGlzW2JdKTtyZXR1cm4gYX0sZW50cmllczpmdW5jdGlvbigpe3ZhciBhPVtdO2Zvcih2YXIgYiBpbiB0aGlzKWJbMF09PT1uJiZhLnB1c2goe2tleTpiLnNsaWNlKDEpLHZhbHVlOnRoaXNbYl19KTtyZXR1cm4gYX0sc2l6ZTpmdW5jdGlvbigpe3ZhciBhPTA7Zm9yKHZhciBiIGluIHRoaXMpYlswXT09PW4mJisrYTtyZXR1cm4gYX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcylpZihhWzBdPT09bilyZXR1cm4hMTtyZXR1cm4hMH0sZWFjaDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcyliWzBdPT09biYmYSh0aGlzW2JdLGIuc2xpY2UoMSksdGhpcyl9fTt2YXIgbz1jLnByb3RvdHlwZTtpLnByb3RvdHlwZT1qLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aSxoYXM6by5oYXMsYWRkOmZ1bmN0aW9uKGEpe3JldHVybiBhKz0iIix0aGlzW24rYV09YSx0aGlzfSxyZW1vdmU6by5yZW1vdmUsY2xlYXI6by5jbGVhcix2YWx1ZXM6by5rZXlzLHNpemU6by5zaXplLGVtcHR5Om8uZW1wdHksZWFjaDpvLmVhY2h9LGEubmVzdD1kLGEuc2V0PWosYS5tYXA9YyxhLmtleXM9ayxhLnZhbHVlcz1sLGEuZW50cmllcz1tLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfSx7fV0sMzpbZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhLGQpeyJvYmplY3QiPT10eXBlb2YgYyYmInVuZGVmaW5lZCIhPXR5cGVvZiBiP2QoYyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZCk6ZChhLmQzPWEuZDN8fHt9KX0odGhpcyxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7YS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9YyxjLmNvbnN0cnVjdG9yPWF9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO2Zvcih2YXIgZCBpbiBiKWNbZF09YltkXTtyZXR1cm4gY31mdW5jdGlvbiBkKCl7fWZ1bmN0aW9uIGUoYSl7dmFyIGI7cmV0dXJuIGE9KGErIiIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLChiPUUuZXhlYyhhKSk/KGI9cGFyc2VJbnQoYlsxXSwxNiksbmV3IGooYj4+OCYxNXxiPj40JjI0MCxiPj40JjE1fDI0MCZiLCgxNSZiKTw8NHwxNSZiLDEpKTooYj1GLmV4ZWMoYSkpP2YocGFyc2VJbnQoYlsxXSwxNikpOihiPUcuZXhlYyhhKSk/bmV3IGooYlsxXSxiWzJdLGJbM10sMSk6KGI9SC5leGVjKGEpKT9uZXcgaigyNTUqYlsxXS8xMDAsMjU1KmJbMl0vMTAwLDI1NSpiWzNdLzEwMCwxKTooYj1JLmV4ZWMoYSkpP2coYlsxXSxiWzJdLGJbM10sYls0XSk6KGI9Si5leGVjKGEpKT9nKDI1NSpiWzFdLzEwMCwyNTUqYlsyXS8xMDAsMjU1KmJbM10vMTAwLGJbNF0pOihiPUsuZXhlYyhhKSk/ayhiWzFdLGJbMl0vMTAwLGJbM10vMTAwLDEpOihiPUwuZXhlYyhhKSk/ayhiWzFdLGJbMl0vMTAwLGJbM10vMTAwLGJbNF0pOk0uaGFzT3duUHJvcGVydHkoYSk/ZihNW2FdKToidHJhbnNwYXJlbnQiPT09YT9uZXcgaihOYU4sTmFOLE5hTiwwKTpudWxsfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIG5ldyBqKGE+PjE2JjI1NSxhPj44JjI1NSwyNTUmYSwxKX1mdW5jdGlvbiBnKGEsYixjLGQpe3JldHVybiBkPD0wJiYoYT1iPWM9TmFOKSxuZXcgaihhLGIsYyxkKX1mdW5jdGlvbiBoKGEpe3JldHVybiBhIGluc3RhbmNlb2YgZHx8KGE9ZShhKSksYT8oYT1hLnJnYigpLG5ldyBqKGEucixhLmcsYS5iLGEub3BhY2l0eSkpOm5ldyBqfWZ1bmN0aW9uIGkoYSxiLGMsZCl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2goYSk6bmV3IGooYSxiLGMsbnVsbD09ZD8xOmQpfWZ1bmN0aW9uIGooYSxiLGMsZCl7dGhpcy5yPSthLHRoaXMuZz0rYix0aGlzLmI9K2MsdGhpcy5vcGFjaXR5PStkfWZ1bmN0aW9uIGsoYSxiLGMsZCl7cmV0dXJuIGQ8PTA/YT1iPWM9TmFOOmM8PTB8fGM+PTE/YT1iPU5hTjpiPD0wJiYoYT1OYU4pLG5ldyBuKGEsYixjLGQpfWZ1bmN0aW9uIGwoYSl7aWYoYSBpbnN0YW5jZW9mIG4pcmV0dXJuIG5ldyBuKGEuaCxhLnMsYS5sLGEub3BhY2l0eSk7aWYoYSBpbnN0YW5jZW9mIGR8fChhPWUoYSkpLCFhKXJldHVybiBuZXcgbjtpZihhIGluc3RhbmNlb2YgbilyZXR1cm4gYTthPWEucmdiKCk7dmFyIGI9YS5yLzI1NSxjPWEuZy8yNTUsZj1hLmIvMjU1LGc9TWF0aC5taW4oYixjLGYpLGg9TWF0aC5tYXgoYixjLGYpLGk9TmFOLGo9aC1nLGs9KGgrZykvMjtyZXR1cm4gaj8oaT1iPT09aD8oYy1mKS9qKzYqKGM8Zik6Yz09PWg/KGYtYikvaisyOihiLWMpL2orNCxqLz1rPC41P2grZzoyLWgtZyxpKj02MCk6aj1rPjAmJms8MT8wOmksbmV3IG4oaSxqLGssYS5vcGFjaXR5KX1mdW5jdGlvbiBtKGEsYixjLGQpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9sKGEpOm5ldyBuKGEsYixjLG51bGw9PWQ/MTpkKX1mdW5jdGlvbiBuKGEsYixjLGQpe3RoaXMuaD0rYSx0aGlzLnM9K2IsdGhpcy5sPStjLHRoaXMub3BhY2l0eT0rZH1mdW5jdGlvbiBvKGEsYixjKXtyZXR1cm4gMjU1KihhPDYwP2IrKGMtYikqYS82MDphPDE4MD9jOmE8MjQwP2IrKGMtYikqKDI0MC1hKS82MDpiKX1mdW5jdGlvbiBwKGEpe2lmKGEgaW5zdGFuY2VvZiByKXJldHVybiBuZXcgcihhLmwsYS5hLGEuYixhLm9wYWNpdHkpO2lmKGEgaW5zdGFuY2VvZiB5KXt2YXIgYj1hLmgqTjtyZXR1cm4gbmV3IHIoYS5sLE1hdGguY29zKGIpKmEuYyxNYXRoLnNpbihiKSphLmMsYS5vcGFjaXR5KX1hIGluc3RhbmNlb2Yganx8KGE9aChhKSk7dmFyIGM9dihhLnIpLGQ9dihhLmcpLGU9dihhLmIpLGY9cygoLjQxMjQ1NjQqYysuMzU3NTc2MSpkKy4xODA0Mzc1KmUpL1EpLGc9cygoLjIxMjY3MjkqYysuNzE1MTUyMipkKy4wNzIxNzUqZSkvUiksaT1zKCguMDE5MzMzOSpjKy4xMTkxOTIqZCsuOTUwMzA0MSplKS9TKTtyZXR1cm4gbmV3IHIoMTE2KmctMTYsNTAwKihmLWcpLDIwMCooZy1pKSxhLm9wYWNpdHkpfWZ1bmN0aW9uIHEoYSxiLGMsZCl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3AoYSk6bmV3IHIoYSxiLGMsbnVsbD09ZD8xOmQpfWZ1bmN0aW9uIHIoYSxiLGMsZCl7dGhpcy5sPSthLHRoaXMuYT0rYix0aGlzLmI9K2MsdGhpcy5vcGFjaXR5PStkfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIGE+Vz9NYXRoLnBvdyhhLDEvMyk6YS9WK1R9ZnVuY3Rpb24gdChhKXtyZXR1cm4gYT5VP2EqYSphOlYqKGEtVCl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gMjU1KihhPD0uMDAzMTMwOD8xMi45MiphOjEuMDU1Kk1hdGgucG93KGEsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuKGEvPTI1NSk8PS4wNDA0NT9hLzEyLjkyOk1hdGgucG93KChhKy4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gdyhhKXtpZihhIGluc3RhbmNlb2YgeSlyZXR1cm4gbmV3IHkoYS5oLGEuYyxhLmwsYS5vcGFjaXR5KTthIGluc3RhbmNlb2Ygcnx8KGE9cChhKSk7dmFyIGI9TWF0aC5hdGFuMihhLmIsYS5hKSpPO3JldHVybiBuZXcgeShiPDA/YiszNjA6YixNYXRoLnNxcnQoYS5hKmEuYSthLmIqYS5iKSxhLmwsYS5vcGFjaXR5KX1mdW5jdGlvbiB4KGEsYixjLGQpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD93KGEpOm5ldyB5KGEsYixjLG51bGw9PWQ/MTpkKX1mdW5jdGlvbiB5KGEsYixjLGQpe3RoaXMuaD0rYSx0aGlzLmM9K2IsdGhpcy5sPStjLHRoaXMub3BhY2l0eT0rZH1mdW5jdGlvbiB6KGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBuZXcgQihhLmgsYS5zLGEubCxhLm9wYWNpdHkpO2EgaW5zdGFuY2VvZiBqfHwoYT1oKGEpKTt2YXIgYj1hLnIvMjU1LGM9YS5nLzI1NSxkPWEuYi8yNTUsZT0oY2EqZCthYSpiLWJhKmMpLyhjYSthYS1iYSksZj1kLWUsZz0oXyooYy1lKS1aKmYpLyQsaT1NYXRoLnNxcnQoZypnK2YqZikvKF8qZSooMS1lKSksaz1pP01hdGguYXRhbjIoZyxmKSpPLTEyMDpOYU47cmV0dXJuIG5ldyBCKGs8MD9rKzM2MDprLGksZSxhLm9wYWNpdHkpfWZ1bmN0aW9uIEEoYSxiLGMsZCl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3ooYSk6bmV3IEIoYSxiLGMsbnVsbD09ZD8xOmQpfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5oPSthLHRoaXMucz0rYix0aGlzLmw9K2MsdGhpcy5vcGFjaXR5PStkfXZhciBDPS43LEQ9MS9DLEU9L14jKFswLTlhLWZdezN9KSQvLEY9L14jKFswLTlhLWZdezZ9KSQvLEc9L15yZ2JcKFxzKihbLStdP1xkKylccyosXHMqKFstK10/XGQrKVxzKixccyooWy0rXT9cZCspXHMqXCkkLyxIPS9ecmdiXChccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFstK10/XGQrKD86XC5cZCspPyklXHMqLFxzKihbLStdP1xkKyg/OlwuXGQrKT8pJVxzKlwpJC8sST0vXnJnYmFcKFxzKihbLStdP1xkKylccyosXHMqKFstK10/XGQrKVxzKixccyooWy0rXT9cZCspXHMqLFxzKihbLStdP1xkKyg/OlwuXGQrKT8pXHMqXCkkLyxKPS9ecmdiYVwoXHMqKFstK10/XGQrKD86XC5cZCspPyklXHMqLFxzKihbLStdP1xkKyg/OlwuXGQrKT8pJVxzKixccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFstK10/XGQrKD86XC5cZCspPylccypcKSQvLEs9L15oc2xcKFxzKihbLStdP1xkKyg/OlwuXGQrKT8pXHMqLFxzKihbLStdP1xkKyg/OlwuXGQrKT8pJVxzKixccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccypcKSQvLEw9L15oc2xhXChccyooWy0rXT9cZCsoPzpcLlxkKyk/KVxzKixccyooWy0rXT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFstK10/XGQrKD86XC5cZCspPyklXHMqLFxzKihbLStdP1xkKyg/OlwuXGQrKT8pXHMqXCkkLyxNPXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9O2IoZCxlLHtkaXNwbGF5YWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmdiKCkrIiJ9fSksYihqLGksYyhkLHticmlnaHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1udWxsPT1hP0Q6TWF0aC5wb3coRCxhKSxuZXcgaih0aGlzLnIqYSx0aGlzLmcqYSx0aGlzLmIqYSx0aGlzLm9wYWNpdHkpfSxkYXJrZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bnVsbD09YT9DOk1hdGgucG93KEMsYSksbmV3IGoodGhpcy5yKmEsdGhpcy5nKmEsdGhpcy5iKmEsdGhpcy5vcGFjaXR5KX0scmdiOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGRpc3BsYXlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8PXRoaXMuciYmdGhpcy5yPD0yNTUmJjA8PXRoaXMuZyYmdGhpcy5nPD0yNTUmJjA8PXRoaXMuYiYmdGhpcy5iPD0yNTUmJjA8PXRoaXMub3BhY2l0eSYmdGhpcy5vcGFjaXR5PD0xfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3BhY2l0eTtyZXR1cm4gYT1pc05hTihhKT8xOk1hdGgubWF4KDAsTWF0aC5taW4oMSxhKSksKDE9PT1hPyJyZ2IoIjoicmdiYSgiKStNYXRoLm1heCgwLE1hdGgubWluKDI1NSxNYXRoLnJvdW5kKHRoaXMucil8fDApKSsiLCAiK01hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQodGhpcy5nKXx8MCkpKyIsICIrTWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsTWF0aC5yb3VuZCh0aGlzLmIpfHwwKSkrKDE9PT1hPyIpIjoiLCAiK2ErIikiKX19KSksYihuLG0sYyhkLHticmlnaHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1udWxsPT1hP0Q6TWF0aC5wb3coRCxhKSxuZXcgbih0aGlzLmgsdGhpcy5zLHRoaXMubCphLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1udWxsPT1hP0M6TWF0aC5wb3coQyxhKSxuZXcgbih0aGlzLmgsdGhpcy5zLHRoaXMubCphLHRoaXMub3BhY2l0eSl9LHJnYjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaCUzNjArMzYwKih0aGlzLmg8MCksYj1pc05hTihhKXx8aXNOYU4odGhpcy5zKT8wOnRoaXMucyxjPXRoaXMubCxkPWMrKGM8LjU/YzoxLWMpKmIsZT0yKmMtZDtyZXR1cm4gbmV3IGoobyhhPj0yNDA/YS0yNDA6YSsxMjAsZSxkKSxvKGEsZSxkKSxvKGE8MTIwP2ErMjQwOmEtMTIwLGUsZCksdGhpcy5vcGFjaXR5KX0sZGlzcGxheWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4oMDw9dGhpcy5zJiZ0aGlzLnM8PTF8fGlzTmFOKHRoaXMucykpJiYwPD10aGlzLmwmJnRoaXMubDw9MSYmMDw9dGhpcy5vcGFjaXR5JiZ0aGlzLm9wYWNpdHk8PTF9fSkpO3ZhciBOPU1hdGguUEkvMTgwLE89MTgwL01hdGguUEksUD0xOCxRPS45NTA0NyxSPTEsUz0xLjA4ODgzLFQ9NC8yOSxVPTYvMjksVj0zKlUqVSxXPVUqVSpVO2IocixxLGMoZCx7YnJpZ2h0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyByKHRoaXMubCtQKihudWxsPT1hPzE6YSksdGhpcy5hLHRoaXMuYix0aGlzLm9wYWNpdHkpfSxkYXJrZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyByKHRoaXMubC1QKihudWxsPT1hPzE6YSksdGhpcy5hLHRoaXMuYix0aGlzLm9wYWNpdHkpfSxyZ2I6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy5sKzE2KS8xMTYsYj1pc05hTih0aGlzLmEpP2E6YSt0aGlzLmEvNTAwLGM9aXNOYU4odGhpcy5iKT9hOmEtdGhpcy5iLzIwMDtyZXR1cm4gYT1SKnQoYSksYj1RKnQoYiksYz1TKnQoYyksbmV3IGoodSgzLjI0MDQ1NDIqYi0xLjUzNzEzODUqYS0uNDk4NTMxNCpjKSx1KC0uOTY5MjY2KmIrMS44NzYwMTA4KmErLjA0MTU1NipjKSx1KC4wNTU2NDM0KmItLjIwNDAyNTkqYSsxLjA1NzIyNTIqYyksdGhpcy5vcGFjaXR5KX19KSksYih5LHgsYyhkLHticmlnaHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IHkodGhpcy5oLHRoaXMuYyx0aGlzLmwrUCoobnVsbD09YT8xOmEpLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IHkodGhpcy5oLHRoaXMuYyx0aGlzLmwtUCoobnVsbD09YT8xOmEpLHRoaXMub3BhY2l0eSl9LHJnYjpmdW5jdGlvbigpe3JldHVybiBwKHRoaXMpLnJnYigpfX0pKTt2YXIgWD0tLjE0ODYxLFk9MS43ODI3NyxaPS0uMjkyMjcsJD0tLjkwNjQ5LF89MS45NzI5NCxhYT1fKiQsYmE9XypZLGNhPVkqWi0kKlg7YihCLEEsYyhkLHticmlnaHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1udWxsPT1hP0Q6TWF0aC5wb3coRCxhKSxuZXcgQih0aGlzLmgsdGhpcy5zLHRoaXMubCphLHRoaXMub3BhY2l0eSl9LGRhcmtlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1udWxsPT1hP0M6TWF0aC5wb3coQyxhKSxuZXcgQih0aGlzLmgsdGhpcy5zLHRoaXMubCphLHRoaXMub3BhY2l0eSl9LHJnYjpmdW5jdGlvbigpe3ZhciBhPWlzTmFOKHRoaXMuaCk/MDoodGhpcy5oKzEyMCkqTixiPSt0aGlzLmwsYz1pc05hTih0aGlzLnMpPzA6dGhpcy5zKmIqKDEtYiksZD1NYXRoLmNvcyhhKSxlPU1hdGguc2luKGEpO3JldHVybiBuZXcgaigyNTUqKGIrYyooWCpkK1kqZSkpLDI1NSooYitjKihaKmQrJCplKSksMjU1KihiK2MqKF8qZCkpLHRoaXMub3BhY2l0eSl9fSkpLGEuY29sb3I9ZSxhLnJnYj1pLGEuaHNsPW0sYS5sYWI9cSxhLmhjbD14LGEuY3ViZWhlbGl4PUEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSl9LHt9XSw0OltmdW5jdGlvbihhLGIsYyl7IWZ1bmN0aW9uKGEsZCl7Im9iamVjdCI9PXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGI/ZChjKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxkKTpkKGEuZDM9YS5kM3x8e30pfSh0aGlzLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zm9yKHZhciBhLGI9MCxkPWFyZ3VtZW50cy5sZW5ndGgsZT17fTtiPGQ7KytiKXtpZighKGE9YXJndW1lbnRzW2JdKyIiKXx8YSBpbiBlKXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiK2EpO2VbYV09W119cmV0dXJuIG5ldyBjKGUpfWZ1bmN0aW9uIGMoYSl7dGhpcy5fPWF9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBhLnRyaW0oKS5zcGxpdCgvXnxccysvKS5tYXAoZnVuY3Rpb24oYSl7dmFyIGM9IiIsZD1hLmluZGV4T2YoIi4iKTtpZihkPj0wJiYoYz1hLnNsaWNlKGQrMSksYT1hLnNsaWNlKDAsZCkpLGEmJiFiLmhhc093blByb3BlcnR5KGEpKXRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiK2EpO3JldHVybnt0eXBlOmEsbmFtZTpjfX0pfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZDxlOysrZClpZigoYz1hW2RdKS5uYW1lPT09YilyZXR1cm4gYy52YWx1ZX1mdW5jdGlvbiBmKGEsYixjKXtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpaWYoYVtkXS5uYW1lPT09Yil7YVtkXT1nLGE9YS5zbGljZSgwLGQpLmNvbmNhdChhLnNsaWNlKGQrMSkpO2JyZWFrfXJldHVybiBudWxsIT1jJiZhLnB1c2goe25hbWU6Yix2YWx1ZTpjfSksYX12YXIgZz17dmFsdWU6ZnVuY3Rpb24oKXt9fTtjLnByb3RvdHlwZT1iLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YyxvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGc9dGhpcy5fLGg9ZChhKyIiLGcpLGk9LTEsaj1oLmxlbmd0aDt7aWYoIShhcmd1bWVudHMubGVuZ3RoPDIpKXtpZihudWxsIT1iJiYiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIrYik7Zm9yKDsrK2k8ajspaWYoYz0oYT1oW2ldKS50eXBlKWdbY109ZihnW2NdLGEubmFtZSxiKTtlbHNlIGlmKG51bGw9PWIpZm9yKGMgaW4gZylnW2NdPWYoZ1tjXSxhLm5hbWUsbnVsbCk7cmV0dXJuIHRoaXN9Zm9yKDsrK2k8ajspaWYoKGM9KGE9aFtpXSkudHlwZSkmJihjPWUoZ1tjXSxhLm5hbWUpKSlyZXR1cm4gY319LGNvcHk6ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuXztmb3IodmFyIGQgaW4gYilhW2RdPWJbZF0uc2xpY2UoKTtyZXR1cm4gbmV3IGMoYSl9LGNhbGw6ZnVuY3Rpb24oYSxiKXtpZigoYz1hcmd1bWVudHMubGVuZ3RoLTIpPjApZm9yKHZhciBjLGQsZT1uZXcgQXJyYXkoYyksZj0wO2Y8YzsrK2YpZVtmXT1hcmd1bWVudHNbZisyXTtpZighdGhpcy5fLmhhc093blByb3BlcnR5KGEpKXRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiK2EpO2ZvcihkPXRoaXMuX1thXSxmPTAsYz1kLmxlbmd0aDtmPGM7KytmKWRbZl0udmFsdWUuYXBwbHkoYixlKX0sYXBwbHk6ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLl8uaGFzT3duUHJvcGVydHkoYSkpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHR5cGU6ICIrYSk7Zm9yKHZhciBkPXRoaXMuX1thXSxlPTAsZj1kLmxlbmd0aDtlPGY7KytlKWRbZV0udmFsdWUuYXBwbHkoYixjKX19LGEuZGlzcGF0Y2g9YixPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KX0se31dLDU6W2Z1bmN0aW9uKGEsYixjKXshZnVuY3Rpb24oYSxkKXsib2JqZWN0Ij09dHlwZW9mIGMmJiJ1bmRlZmluZWQiIT10eXBlb2YgYj9kKGMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGQpOmQoYS5kMz1hLmQzfHx7fSl9KHRoaXMsZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtpZigoYz0oYT1iP2EudG9FeHBvbmVudGlhbChiLTEpOmEudG9FeHBvbmVudGlhbCgpKS5pbmRleE9mKCJlIikpPDApcmV0dXJuIG51bGw7dmFyIGMsZD1hLnNsaWNlKDAsYyk7cmV0dXJuW2QubGVuZ3RoPjE/ZFswXStkLnNsaWNlKDIpOmQsK2Euc2xpY2UoYysxKV19ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYT1iKE1hdGguYWJzKGEpKSxhP2FbMV06TmFOfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtmb3IodmFyIGU9Yy5sZW5ndGgsZj1bXSxnPTAsaD1hWzBdLGk9MDtlPjAmJmg+MCYmKGkraCsxPmQmJihoPU1hdGgubWF4KDEsZC1pKSksZi5wdXNoKGMuc3Vic3RyaW5nKGUtPWgsZStoKSksISgoaSs9aCsxKT5kKSk7KWg9YVtnPShnKzEpJWEubGVuZ3RoXTtyZXR1cm4gZi5yZXZlcnNlKCkuam9pbihiKX19ZnVuY3Rpb24gZShhLGIpe2E9YS50b1ByZWNpc2lvbihiKTthOmZvcih2YXIgYyxkPWEubGVuZ3RoLGU9MSxmPS0xO2U8ZDsrK2Upc3dpdGNoKGFbZV0pe2Nhc2UiLiI6Zj1jPWU7YnJlYWs7Y2FzZSIwIjowPT09ZiYmKGY9ZSksYz1lO2JyZWFrO2Nhc2UiZSI6YnJlYWsgYTtkZWZhdWx0OmY+MCYmKGY9MCl9cmV0dXJuIGY+MD9hLnNsaWNlKDAsZikrYS5zbGljZShjKzEpOmF9ZnVuY3Rpb24gZihhLGMpe3ZhciBkPWIoYSxjKTtpZighZClyZXR1cm4gYSsiIjt2YXIgZT1kWzBdLGY9ZFsxXSxnPWYtKHA9MypNYXRoLm1heCgtOCxNYXRoLm1pbig4LE1hdGguZmxvb3IoZi8zKSkpKSsxLGg9ZS5sZW5ndGg7cmV0dXJuIGc9PT1oP2U6Zz5oP2UrbmV3IEFycmF5KGctaCsxKS5qb2luKCIwIik6Zz4wP2Uuc2xpY2UoMCxnKSsiLiIrZS5zbGljZShnKToiMC4iK25ldyBBcnJheSgxLWcpLmpvaW4oIjAiKStiKGEsTWF0aC5tYXgoMCxjK2ctMSkpWzBdfWZ1bmN0aW9uIGcoYSxjKXt2YXIgZD1iKGEsYyk7aWYoIWQpcmV0dXJuIGErIiI7dmFyIGU9ZFswXSxmPWRbMV07cmV0dXJuIGY8MD8iMC4iK25ldyBBcnJheSgoLWYpKS5qb2luKCIwIikrZTplLmxlbmd0aD5mKzE/ZS5zbGljZSgwLGYrMSkrIi4iK2Uuc2xpY2UoZisxKTplK25ldyBBcnJheShmLWUubGVuZ3RoKzIpLmpvaW4oIjAiKX1mdW5jdGlvbiBoKGEpe3JldHVybiBuZXcgaShhKX1mdW5jdGlvbiBpKGEpe2lmKCEoYj1yLmV4ZWMoYSkpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBmb3JtYXQ6ICIrYSk7dmFyIGIsYz1iWzFdfHwiICIsZD1iWzJdfHwiPiIsZT1iWzNdfHwiLSIsZj1iWzRdfHwiIixnPSEhYls1XSxoPWJbNl0mJitiWzZdLGk9ISFiWzddLGo9Yls4XSYmK2JbOF0uc2xpY2UoMSksaz1iWzldfHwiIjsibiI9PT1rPyhpPSEwLGs9ImciKTpxW2tdfHwoaz0iIiksKGd8fCIwIj09PWMmJiI9Ij09PWQpJiYoZz0hMCxjPSIwIixkPSI9IiksdGhpcy5maWxsPWMsdGhpcy5hbGlnbj1kLHRoaXMuc2lnbj1lLHRoaXMuc3ltYm9sPWYsdGhpcy56ZXJvPWcsdGhpcy53aWR0aD1oLHRoaXMuY29tbWE9aSx0aGlzLnByZWNpc2lvbj1qLHRoaXMudHlwZT1rfWZ1bmN0aW9uIGooYSl7cmV0dXJuIGF9ZnVuY3Rpb24gayhhKXtmdW5jdGlvbiBiKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGIsZyxoLGo9cixxPXM7aWYoImMiPT09bylxPXUoYSkrcSxhPSIiO2Vsc2V7YT0rYTt2YXIgdz0oYTwwfHwxL2E8MCkmJihhKj0tMSwhMCk7aWYoYT11KGEsbiksdylmb3IoYj0tMSxnPWEubGVuZ3RoLHc9ITE7KytiPGc7KWlmKGg9YS5jaGFyQ29kZUF0KGIpLDQ4PGgmJmg8NTh8fCJ4Ij09PW8mJjk2PGgmJmg8MTAzfHwiWCI9PT1vJiY2NDxoJiZoPDcxKXt3PSEwO2JyZWFrfWlmKGo9KHc/IigiPT09ZT9lOiItIjoiLSI9PT1lfHwiKCI9PT1lPyIiOmUpK2oscT1xKygicyI9PT1vP3RbOCtwLzNdOiIiKSsodyYmIigiPT09ZT8iKSI6IiIpLHYpZm9yKGI9LTEsZz1hLmxlbmd0aDsrK2I8ZzspaWYoaD1hLmNoYXJDb2RlQXQoYiksNDg+aHx8aD41Nyl7cT0oNDY9PT1oP2krYS5zbGljZShiKzEpOmEuc2xpY2UoYikpK3EsYT1hLnNsaWNlKDAsYik7YnJlYWt9fW0mJiFrJiYoYT1mKGEsMS8wKSk7dmFyIHg9ai5sZW5ndGgrYS5sZW5ndGgrcS5sZW5ndGgseT14PGw/bmV3IEFycmF5KGwteCsxKS5qb2luKGMpOiIiO3N3aXRjaChtJiZrJiYoYT1mKHkrYSx5Lmxlbmd0aD9sLXEubGVuZ3RoOjEvMCkseT0iIiksZCl7Y2FzZSI8IjpyZXR1cm4gaithK3EreTtjYXNlIj0iOnJldHVybiBqK3krYStxO2Nhc2UiXiI6cmV0dXJuIHkuc2xpY2UoMCx4PXkubGVuZ3RoPj4xKStqK2ErcSt5LnNsaWNlKHgpfXJldHVybiB5K2orYStxfWE9aChhKTt2YXIgYz1hLmZpbGwsZD1hLmFsaWduLGU9YS5zaWduLGo9YS5zeW1ib2wsaz1hLnplcm8sbD1hLndpZHRoLG09YS5jb21tYSxuPWEucHJlY2lzaW9uLG89YS50eXBlLHI9IiQiPT09aj9nWzBdOiIjIj09PWomJi9bYm94WF0vLnRlc3Qobyk/IjAiK28udG9Mb3dlckNhc2UoKToiIixzPSIkIj09PWo/Z1sxXTovWyVwXS8udGVzdChvKT8iJSI6IiIsdT1xW29dLHY9IW98fC9bZGVmZ3BycyVdLy50ZXN0KG8pO3JldHVybiBuPW51bGw9PW4/bz82OjEyOi9bZ3Byc10vLnRlc3Qobyk/TWF0aC5tYXgoMSxNYXRoLm1pbigyMSxuKSk6TWF0aC5tYXgoMCxNYXRoLm1pbigyMCxuKSksYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBhKyIifSxifWZ1bmN0aW9uIGUoYSxkKXt2YXIgZT1iKChhPWgoYSksYS50eXBlPSJmIixhKSksZj0zKk1hdGgubWF4KC04LE1hdGgubWluKDgsTWF0aC5mbG9vcihjKGQpLzMpKSksZz1NYXRoLnBvdygxMCwtZiksaT10WzgrZi8zXTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGUoZyphKStpfX12YXIgZj1hLmdyb3VwaW5nJiZhLnRob3VzYW5kcz9kKGEuZ3JvdXBpbmcsYS50aG91c2FuZHMpOmosZz1hLmN1cnJlbmN5LGk9YS5kZWNpbWFsO3JldHVybntmb3JtYXQ6Yixmb3JtYXRQcmVmaXg6ZX19ZnVuY3Rpb24gbChiKXtyZXR1cm4gcz1rKGIpLGEuZm9ybWF0PXMuZm9ybWF0LGEuZm9ybWF0UHJlZml4PXMuZm9ybWF0UHJlZml4LHN9ZnVuY3Rpb24gbShhKXtyZXR1cm4gTWF0aC5tYXgoMCwtYyhNYXRoLmFicyhhKSkpfWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gTWF0aC5tYXgoMCwzKk1hdGgubWF4KC04LE1hdGgubWluKDgsTWF0aC5mbG9vcihjKGIpLzMpKSktYyhNYXRoLmFicyhhKSkpfWZ1bmN0aW9uIG8oYSxiKXtyZXR1cm4gYT1NYXRoLmFicyhhKSxiPU1hdGguYWJzKGIpLWEsTWF0aC5tYXgoMCxjKGIpLWMoYSkpKzF9dmFyIHAscT17IiI6ZSwiJSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oMTAwKmEpLnRvRml4ZWQoYil9LGI6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSkudG9TdHJpbmcoMil9LGM6ZnVuY3Rpb24oYSl7cmV0dXJuIGErIiJ9LGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTApfSxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudG9FeHBvbmVudGlhbChiKX0sZjpmdW5jdGlvbihhLGIpe3JldHVybiBhLnRvRml4ZWQoYil9LGc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b1ByZWNpc2lvbihiKX0sbzpmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5yb3VuZChhKS50b1N0cmluZyg4KX0scDpmdW5jdGlvbihhLGIpe3JldHVybiBnKDEwMCphLGIpfSxyOmcsczpmLFg6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9LHg6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpfX0scj0vXig/OiguKT8oWzw+PV5dKSk/KFsrXC1cKCBdKT8oWyQjXSk/KDApPyhcZCspPygsKT8oXC5cZCspPyhbYS16JV0pPyQvaTtpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGwrdGhpcy5hbGlnbit0aGlzLnNpZ24rdGhpcy5zeW1ib2wrKHRoaXMuemVybz8iMCI6IiIpKyhudWxsPT10aGlzLndpZHRoPyIiOk1hdGgubWF4KDEsMHx0aGlzLndpZHRoKSkrKHRoaXMuY29tbWE/IiwiOiIiKSsobnVsbD09dGhpcy5wcmVjaXNpb24/IiI6Ii4iK01hdGgubWF4KDAsMHx0aGlzLnByZWNpc2lvbikpK3RoaXMudHlwZX07dmFyIHMsdD1bInkiLCJ6IiwiYSIsImYiLCJwIiwibiIsIsK1IiwibSIsIiIsImsiLCJNIiwiRyIsIlQiLCJQIiwiRSIsIloiLCJZIl07bCh7ZGVjaW1hbDoiLiIsdGhvdXNhbmRzOiIsIixncm91cGluZzpbM10sY3VycmVuY3k6WyIkIiwiIl19KSxhLmZvcm1hdERlZmF1bHRMb2NhbGU9bCxhLmZvcm1hdExvY2FsZT1rLGEuZm9ybWF0U3BlY2lmaWVyPWgsYS5wcmVjaXNpb25GaXhlZD1tLGEucHJlY2lzaW9uUHJlZml4PW4sYS5wcmVjaXNpb25Sb3VuZD1vLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfSx7fV0sNjpbZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihkLGUpeyJvYmplY3QiPT10eXBlb2YgYyYmInVuZGVmaW5lZCIhPXR5cGVvZiBiP2UoYyxhKCJkMy1jb2xvciIpKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiLCJkMy1jb2xvciJdLGUpOmUoZC5kMz1kLmQzfHx7fSxkLmQzKX0odGhpcyxmdW5jdGlvbihhLGIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBjKGEsYixjLGQsZSl7dmFyIGY9YSphLGc9ZiphO3JldHVybigoMS0zKmErMypmLWcpKmIrKDQtNipmKzMqZykqYysoMSszKmErMypmLTMqZykqZCtnKmUpLzZ9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmxlbmd0aC0xO3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1kPD0wP2Q9MDpkPj0xPyhkPTEsYi0xKTpNYXRoLmZsb29yKGQqYiksZj1hW2VdLGc9YVtlKzFdLGg9ZT4wP2FbZS0xXToyKmYtZyxpPWU8Yi0xP2FbZSsyXToyKmctZjtyZXR1cm4gYygoZC1lL2IpKmIsaCxmLGcsaSl9fWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPU1hdGguZmxvb3IoKChkJT0xKTwwPysrZDpkKSpiKSxmPWFbKGUrYi0xKSViXSxnPWFbZSViXSxoPWFbKGUrMSklYl0saT1hWyhlKzIpJWJdO3JldHVybiBjKChkLWUvYikqYixmLGcsaCxpKX19ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYStjKmJ9fWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBhPU1hdGgucG93KGEsYyksYj1NYXRoLnBvdyhiLGMpLWEsYz0xL2MsZnVuY3Rpb24oZCl7cmV0dXJuIE1hdGgucG93KGErZCpiLGMpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9Yi1hO3JldHVybiBjP2coYSxjPjE4MHx8YzwtMTgwP2MtMzYwKk1hdGgucm91bmQoYy8zNjApOmMpOmYoaXNOYU4oYSk/YjphKX1mdW5jdGlvbiBqKGEpe3JldHVybiAxPT09KGE9K2EpP2s6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYy1iP2goYixjLGEpOmYoaXNOYU4oYik/YzpiKX19ZnVuY3Rpb24gayhhLGIpe3ZhciBjPWItYTtyZXR1cm4gYz9nKGEsYyk6Zihpc05hTihhKT9iOmEpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGUsZj1jLmxlbmd0aCxnPW5ldyBBcnJheShmKSxoPW5ldyBBcnJheShmKSxpPW5ldyBBcnJheShmKTtmb3IoZD0wO2Q8ZjsrK2QpZT1iLnJnYihjW2RdKSxnW2RdPWUucnx8MCxoW2RdPWUuZ3x8MCxpW2RdPWUuYnx8MDtyZXR1cm4gZz1hKGcpLGg9YShoKSxpPWEoaSksZS5vcGFjaXR5PTEsZnVuY3Rpb24oYSl7cmV0dXJuIGUucj1nKGEpLGUuZz1oKGEpLGUuYj1pKGEpLGUrIiJ9fX1mdW5jdGlvbiBtKGEsYil7dmFyIGMsZD1iP2IubGVuZ3RoOjAsZT1hP01hdGgubWluKGQsYS5sZW5ndGgpOjAsZj1uZXcgQXJyYXkoZCksZz1uZXcgQXJyYXkoZCk7Zm9yKGM9MDtjPGU7KytjKWZbY109dChhW2NdLGJbY10pO2Zvcig7YzxkOysrYylnW2NdPWJbY107cmV0dXJuIGZ1bmN0aW9uKGEpe2ZvcihjPTA7YzxlOysrYylnW2NdPWZbY10oYSk7cmV0dXJuIGd9fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1uZXcgRGF0ZTtyZXR1cm4gYT0rYSxiLT1hLGZ1bmN0aW9uKGQpe3JldHVybiBjLnNldFRpbWUoYStiKmQpLGN9fWZ1bmN0aW9uIG8oYSxiKXtyZXR1cm4gYT0rYSxiLT1hLGZ1bmN0aW9uKGMpe3JldHVybiBhK2IqY319ZnVuY3Rpb24gcChhLGIpe3ZhciBjLGQ9e30sZT17fTtudWxsIT09YSYmIm9iamVjdCI9PXR5cGVvZiBhfHwoYT17fSksbnVsbCE9PWImJiJvYmplY3QiPT10eXBlb2YgYnx8KGI9e30pO2ZvcihjIGluIGIpYyBpbiBhP2RbY109dChhW2NdLGJbY10pOmVbY109YltjXTtyZXR1cm4gZnVuY3Rpb24oYSl7Zm9yKGMgaW4gZCllW2NdPWRbY10oYSk7cmV0dXJuIGV9fWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhKGIpKyIifX1mdW5jdGlvbiBzKGEsYil7dmFyIGMsZCxlLGY9UC5sYXN0SW5kZXg9US5sYXN0SW5kZXg9MCxnPS0xLGg9W10saT1bXTtmb3IoYSs9IiIsYis9IiI7KGM9UC5leGVjKGEpKSYmKGQ9US5leGVjKGIpKTspKGU9ZC5pbmRleCk+ZiYmKGU9Yi5zbGljZShmLGUpLGhbZ10/aFtnXSs9ZTpoWysrZ109ZSksKGM9Y1swXSk9PT0oZD1kWzBdKT9oW2ddP2hbZ10rPWQ6aFsrK2ddPWQ6KGhbKytnXT1udWxsLGkucHVzaCh7aTpnLHg6byhjLGQpfSkpLGY9US5sYXN0SW5kZXg7cmV0dXJuIGY8Yi5sZW5ndGgmJihlPWIuc2xpY2UoZiksaFtnXT9oW2ddKz1lOmhbKytnXT1lKSxoLmxlbmd0aDwyP2lbMF0/cihpWzBdLngpOnEoYik6KGI9aS5sZW5ndGgsZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9MDtkPGI7KytkKWhbKGM9aVtkXSkuaV09Yy54KGEpO3JldHVybiBoLmpvaW4oIiIpfSl9ZnVuY3Rpb24gdChhLGMpe3ZhciBkLGU9dHlwZW9mIGM7cmV0dXJuIG51bGw9PWN8fCJib29sZWFuIj09PWU/ZihjKTooIm51bWJlciI9PT1lP286InN0cmluZyI9PT1lPyhkPWIuY29sb3IoYykpPyhjPWQsTSk6czpjIGluc3RhbmNlb2YgYi5jb2xvcj9NOmMgaW5zdGFuY2VvZiBEYXRlP246QXJyYXkuaXNBcnJheShjKT9tOmlzTmFOKGMpP3A6bykoYSxjKX1mdW5jdGlvbiB1KGEsYil7cmV0dXJuIGE9K2EsYi09YSxmdW5jdGlvbihjKXtyZXR1cm4gTWF0aC5yb3VuZChhK2IqYyl9fWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYpe3ZhciBnLGgsaTtyZXR1cm4oZz1NYXRoLnNxcnQoYSphK2IqYikpJiYoYS89ZyxiLz1nKSwoaT1hKmMrYipkKSYmKGMtPWEqaSxkLT1iKmkpLChoPU1hdGguc3FydChjKmMrZCpkKSkmJihjLz1oLGQvPWgsaS89aCksYSpkPGIqYyYmKGE9LWEsYj0tYixpPS1pLGc9LWcpLHt0cmFuc2xhdGVYOmUsdHJhbnNsYXRlWTpmLHJvdGF0ZTpNYXRoLmF0YW4yKGIsYSkqUixza2V3WDpNYXRoLmF0YW4oaSkqUixzY2FsZVg6ZyxzY2FsZVk6aH19ZnVuY3Rpb24gdyhhKXtyZXR1cm4ibm9uZSI9PT1hP1M6KEl8fChJPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLEo9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LEs9ZG9jdW1lbnQuZGVmYXVsdFZpZXcpLEkuc3R5bGUudHJhbnNmb3JtPWEsYT1LLmdldENvbXB1dGVkU3R5bGUoSi5hcHBlbmRDaGlsZChJKSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCJ0cmFuc2Zvcm0iKSxKLnJlbW92ZUNoaWxkKEkpLGE9YS5zbGljZSg3LC0xKS5zcGxpdCgiLCIpLHYoK2FbMF0sK2FbMV0sK2FbMl0sK2FbM10sK2FbNF0sK2FbNV0pKX1mdW5jdGlvbiB4KGEpe3JldHVybiBudWxsPT1hP1M6KEx8fChMPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIikpLEwuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGEpLChhPUwudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSk/KGE9YS5tYXRyaXgsdihhLmEsYS5iLGEuYyxhLmQsYS5lLGEuZikpOlMpfWZ1bmN0aW9uIHkoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5sZW5ndGg/YS5wb3AoKSsiICI6IiJ9ZnVuY3Rpb24gZihhLGQsZSxmLGcsaCl7aWYoYSE9PWV8fGQhPT1mKXt2YXIgaT1nLnB1c2goInRyYW5zbGF0ZSgiLG51bGwsYixudWxsLGMpO2gucHVzaCh7aTppLTQseDpvKGEsZSl9LHtpOmktMix4Om8oZCxmKX0pfWVsc2UoZXx8ZikmJmcucHVzaCgidHJhbnNsYXRlKCIrZStiK2YrYyl9ZnVuY3Rpb24gZyhhLGIsYyxmKXthIT09Yj8oYS1iPjE4MD9iKz0zNjA6Yi1hPjE4MCYmKGErPTM2MCksZi5wdXNoKHtpOmMucHVzaChlKGMpKyJyb3RhdGUoIixudWxsLGQpLTIseDpvKGEsYil9KSk6YiYmYy5wdXNoKGUoYykrInJvdGF0ZSgiK2IrZCl9ZnVuY3Rpb24gaChhLGIsYyxmKXthIT09Yj9mLnB1c2goe2k6Yy5wdXNoKGUoYykrInNrZXdYKCIsbnVsbCxkKS0yLHg6byhhLGIpfSk6YiYmYy5wdXNoKGUoYykrInNrZXdYKCIrYitkKX1mdW5jdGlvbiBpKGEsYixjLGQsZixnKXtpZihhIT09Y3x8YiE9PWQpe3ZhciBoPWYucHVzaChlKGYpKyJzY2FsZSgiLG51bGwsIiwiLG51bGwsIikiKTtnLnB1c2goe2k6aC00LHg6byhhLGMpfSx7aTpoLTIseDpvKGIsZCl9KX1lbHNlIDE9PT1jJiYxPT09ZHx8Zi5wdXNoKGUoZikrInNjYWxlKCIrYysiLCIrZCsiKSIpfXJldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPVtdLGU9W107cmV0dXJuIGI9YShiKSxjPWEoYyksZihiLnRyYW5zbGF0ZVgsYi50cmFuc2xhdGVZLGMudHJhbnNsYXRlWCxjLnRyYW5zbGF0ZVksZCxlKSxnKGIucm90YXRlLGMucm90YXRlLGQsZSksaChiLnNrZXdYLGMuc2tld1gsZCxlKSxpKGIuc2NhbGVYLGIuc2NhbGVZLGMuc2NhbGVYLGMuc2NhbGVZLGQsZSksYj1jPW51bGwsZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9LTEsZj1lLmxlbmd0aDsrK2M8ZjspZFsoYj1lW2NdKS5pXT1iLngoYSk7cmV0dXJuIGQuam9pbigiIil9fX1mdW5jdGlvbiB6KGEpe3JldHVybigoYT1NYXRoLmV4cChhKSkrMS9hKS8yfWZ1bmN0aW9uIEEoYSl7cmV0dXJuKChhPU1hdGguZXhwKGEpKS0xL2EpLzJ9ZnVuY3Rpb24gQihhKXtyZXR1cm4oKGE9TWF0aC5leHAoMiphKSktMSkvKGErMSl9ZnVuY3Rpb24gQyhhLGIpe3ZhciBjLGQsZT1hWzBdLGY9YVsxXSxnPWFbMl0saD1iWzBdLGk9YlsxXSxqPWJbMl0saz1oLWUsbD1pLWYsbT1rKmsrbCpsO2lmKG08WSlkPU1hdGgubG9nKGovZykvVixjPWZ1bmN0aW9uKGEpe3JldHVybltlK2EqayxmK2EqbCxnKk1hdGguZXhwKFYqYSpkKV19O2Vsc2V7dmFyIG49TWF0aC5zcXJ0KG0pLG89KGoqai1nKmcrWCptKS8oMipnKlcqbikscD0oaipqLWcqZy1YKm0pLygyKmoqVypuKSxxPU1hdGgubG9nKE1hdGguc3FydChvKm8rMSktbykscj1NYXRoLmxvZyhNYXRoLnNxcnQocCpwKzEpLXApO2Q9KHItcSkvVixjPWZ1bmN0aW9uKGEpe3ZhciBiPWEqZCxjPXoocSksaD1nLyhXKm4pKihjKkIoVipiK3EpLUEocSkpO3JldHVybltlK2gqayxmK2gqbCxnKmMveihWKmIrcSldfX1yZXR1cm4gYy5kdXJhdGlvbj0xZTMqZCxjfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9YSgoYz1iLmhzbChjKSkuaCwoZD1iLmhzbChkKSkuaCksZj1rKGMucyxkLnMpLGc9ayhjLmwsZC5sKSxoPWsoYy5vcGFjaXR5LGQub3BhY2l0eSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBjLmg9ZShhKSxjLnM9ZihhKSxjLmw9ZyhhKSxjLm9wYWNpdHk9aChhKSxjKyIifX19ZnVuY3Rpb24gRShhLGMpe3ZhciBkPWsoKGE9Yi5sYWIoYSkpLmwsKGM9Yi5sYWIoYykpLmwpLGU9ayhhLmEsYy5hKSxmPWsoYS5iLGMuYiksZz1rKGEub3BhY2l0eSxjLm9wYWNpdHkpO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5sPWQoYiksYS5hPWUoYiksYS5iPWYoYiksYS5vcGFjaXR5PWcoYiksYSsiIn19ZnVuY3Rpb24gRihhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZT1hKChjPWIuaGNsKGMpKS5oLChkPWIuaGNsKGQpKS5oKSxmPWsoYy5jLGQuYyksZz1rKGMubCxkLmwpLGg9ayhjLm9wYWNpdHksZC5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGMuaD1lKGEpLGMuYz1mKGEpLGMubD1nKGEpLGMub3BhY2l0eT1oKGEpLGMrIiJ9fX1mdW5jdGlvbiBHKGEpe3JldHVybiBmdW5jdGlvbiBjKGQpe2Z1bmN0aW9uIGUoYyxlKXt2YXIgZj1hKChjPWIuY3ViZWhlbGl4KGMpKS5oLChlPWIuY3ViZWhlbGl4KGUpKS5oKSxnPWsoYy5zLGUucyksaD1rKGMubCxlLmwpLGk9ayhjLm9wYWNpdHksZS5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGMuaD1mKGEpLGMucz1nKGEpLGMubD1oKE1hdGgucG93KGEsZCkpLGMub3BhY2l0eT1pKGEpLGMrIiJ9fXJldHVybiBkPStkLGUuZ2FtbWE9YyxlfSgxKX1mdW5jdGlvbiBIKGEsYil7Zm9yKHZhciBjPW5ldyBBcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPWEoZC8oYi0xKSk7cmV0dXJuIGN9dmFyIEksSixLLEwsTT1mdW5jdGlvbiBhKGMpe2Z1bmN0aW9uIGQoYSxjKXt2YXIgZD1lKChhPWIucmdiKGEpKS5yLChjPWIucmdiKGMpKS5yKSxmPWUoYS5nLGMuZyksZz1lKGEuYixjLmIpLGg9ZShhLm9wYWNpdHksYy5vcGFjaXR5KTtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEucj1kKGIpLGEuZz1mKGIpLGEuYj1nKGIpLGEub3BhY2l0eT1oKGIpLGErIiJ9fXZhciBlPWooYyk7cmV0dXJuIGQuZ2FtbWE9YSxkfSgxKSxOPWwoZCksTz1sKGUpLFA9L1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLFE9bmV3IFJlZ0V4cChQLnNvdXJjZSwiZyIpLFI9MTgwL01hdGguUEksUz17dHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MCxyb3RhdGU6MCxza2V3WDowLHNjYWxlWDoxLHNjYWxlWToxfSxUPXkodywicHgsICIsInB4KSIsImRlZykiKSxVPXkoeCwiLCAiLCIpIiwiKSIpLFY9TWF0aC5TUVJUMixXPTIsWD00LFk9MWUtMTIsWj1EKGkpLCQ9RChrKSxfPUYoaSksYWE9RihrKSxiYT1HKGkpLGNhPUcoayk7YS5pbnRlcnBvbGF0ZT10LGEuaW50ZXJwb2xhdGVBcnJheT1tLGEuaW50ZXJwb2xhdGVCYXNpcz1kLGEuaW50ZXJwb2xhdGVCYXNpc0Nsb3NlZD1lLGEuaW50ZXJwb2xhdGVEYXRlPW4sYS5pbnRlcnBvbGF0ZU51bWJlcj1vLGEuaW50ZXJwb2xhdGVPYmplY3Q9cCxhLmludGVycG9sYXRlUm91bmQ9dSxhLmludGVycG9sYXRlU3RyaW5nPXMsYS5pbnRlcnBvbGF0ZVRyYW5zZm9ybUNzcz1ULGEuaW50ZXJwb2xhdGVUcmFuc2Zvcm1Tdmc9VSxhLmludGVycG9sYXRlWm9vbT1DLGEuaW50ZXJwb2xhdGVSZ2I9TSxhLmludGVycG9sYXRlUmdiQmFzaXM9TixhLmludGVycG9sYXRlUmdiQmFzaXNDbG9zZWQ9TyxhLmludGVycG9sYXRlSHNsPVosYS5pbnRlcnBvbGF0ZUhzbExvbmc9JCxhLmludGVycG9sYXRlTGFiPUUsYS5pbnRlcnBvbGF0ZUhjbD1fLGEuaW50ZXJwb2xhdGVIY2xMb25nPWFhLGEuaW50ZXJwb2xhdGVDdWJlaGVsaXg9YmEsYS5pbnRlcnBvbGF0ZUN1YmVoZWxpeExvbmc9Y2EsYS5xdWFudGl6ZT1ILE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfSx7ImQzLWNvbG9yIjozfV0sNzpbZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihkLGUpeyJvYmplY3QiPT10eXBlb2YgYyYmInVuZGVmaW5lZCIhPXR5cGVvZiBiP2UoYyxhKCJkMy1hcnJheSIpLGEoImQzLWNvbGxlY3Rpb24iKSxhKCJkMy1pbnRlcnBvbGF0ZSIpLGEoImQzLWZvcm1hdCIpLGEoImQzLXRpbWUiKSxhKCJkMy10aW1lLWZvcm1hdCIpLGEoImQzLWNvbG9yIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImQzLWFycmF5IiwiZDMtY29sbGVjdGlvbiIsImQzLWludGVycG9sYXRlIiwiZDMtZm9ybWF0IiwiZDMtdGltZSIsImQzLXRpbWUtZm9ybWF0IiwiZDMtY29sb3IiXSxlKTplKGQuZDM9ZC5kM3x8e30sZC5kMyxkLmQzLGQuZDMsZC5kMyxkLmQzLGQuZDMsZC5kMyl9KHRoaXMsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWIrIiIsZz1kLmdldChjKTtpZighZyl7aWYoZiE9PVopcmV0dXJuIGY7ZC5zZXQoYyxnPWUucHVzaChiKSl9cmV0dXJuIGFbKGctMSklYS5sZW5ndGhdfXZhciBkPWMubWFwKCksZT1bXSxmPVo7cmV0dXJuIGE9bnVsbD09YT9bXTpZLmNhbGwoYSksYi5kb21haW49ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGUuc2xpY2UoKTtlPVtdLGQ9Yy5tYXAoKTtmb3IodmFyIGYsZyxoPS0xLGk9YS5sZW5ndGg7KytoPGk7KWQuaGFzKGc9KGY9YVtoXSkrIiIpfHxkLnNldChnLGUucHVzaChmKSk7cmV0dXJuIGJ9LGIucmFuZ2U9ZnVuY3Rpb24oYyl7CnJldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPVkuY2FsbChjKSxiKTphLnNsaWNlKCl9LGIudW5rbm93bj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1hLGIpOmZ9LGIuY29weT1mdW5jdGlvbigpe3JldHVybiBpKCkuZG9tYWluKGUpLnJhbmdlKGEpLnVua25vd24oZil9LGJ9ZnVuY3Rpb24gaigpe2Z1bmN0aW9uIGEoKXt2YXIgYT1mKCkubGVuZ3RoLGU9aFsxXTxoWzBdLGk9aFtlLTBdLGo9aFsxLWVdO2M9KGotaSkvTWF0aC5tYXgoMSxhLWwrMiptKSxrJiYoYz1NYXRoLmZsb29yKGMpKSxpKz0oai1pLWMqKGEtbCkpKm4sZD1jKigxLWwpLGsmJihpPU1hdGgucm91bmQoaSksZD1NYXRoLnJvdW5kKGQpKTt2YXIgbz1iLnJhbmdlKGEpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaStjKmF9KTtyZXR1cm4gZyhlP28ucmV2ZXJzZSgpOm8pfXZhciBjLGQsZT1pKCkudW5rbm93bih2b2lkIDApLGY9ZS5kb21haW4sZz1lLnJhbmdlLGg9WzAsMV0saz0hMSxsPTAsbT0wLG49LjU7cmV0dXJuIGRlbGV0ZSBlLnVua25vd24sZS5kb21haW49ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGYoYiksYSgpKTpmKCl9LGUucmFuZ2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9WytiWzBdLCtiWzFdXSxhKCkpOmguc2xpY2UoKX0sZS5yYW5nZVJvdW5kPWZ1bmN0aW9uKGIpe3JldHVybiBoPVsrYlswXSwrYlsxXV0saz0hMCxhKCl9LGUuYmFuZHdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LGUuc3RlcD1mdW5jdGlvbigpe3JldHVybiBjfSxlLnJvdW5kPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPSEhYixhKCkpOmt9LGUucGFkZGluZz1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1tPU1hdGgubWF4KDAsTWF0aC5taW4oMSxiKSksYSgpKTpsfSxlLnBhZGRpbmdJbm5lcj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1NYXRoLm1heCgwLE1hdGgubWluKDEsYikpLGEoKSk6bH0sZS5wYWRkaW5nT3V0ZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG09TWF0aC5tYXgoMCxNYXRoLm1pbigxLGIpKSxhKCkpOm19LGUuYWxpZ249ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49TWF0aC5tYXgoMCxNYXRoLm1pbigxLGIpKSxhKCkpOm59LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBqKCkuZG9tYWluKGYoKSkucmFuZ2UoaCkucm91bmQoaykucGFkZGluZ0lubmVyKGwpLnBhZGRpbmdPdXRlcihtKS5hbGlnbihuKX0sYSgpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5jb3B5O3JldHVybiBhLnBhZGRpbmc9YS5wYWRkaW5nT3V0ZXIsZGVsZXRlIGEucGFkZGluZ0lubmVyLGRlbGV0ZSBhLnBhZGRpbmdPdXRlcixhLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gayhiKCkpfSxhfWZ1bmN0aW9uIGwoKXtyZXR1cm4gayhqKCkucGFkZGluZ0lubmVyKDEpKX1mdW5jdGlvbiBtKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiBuKGEpe3JldHVybithfWZ1bmN0aW9uIG8oYSxiKXtyZXR1cm4oYi09YT0rYSk/ZnVuY3Rpb24oYyl7cmV0dXJuKGMtYSkvYn06bShiKX1mdW5jdGlvbiBwKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWEoYj0rYixjPStjKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGE8PWI/MDphPj1jPzE6ZChhKX19fWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiPStiLGM9K2MpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYTw9MD9iOmE+PTE/YzpkKGEpfX19ZnVuY3Rpb24gcihhLGIsYyxkKXt2YXIgZT1hWzBdLGY9YVsxXSxnPWJbMF0saD1iWzFdO3JldHVybiBmPGU/KGU9YyhmLGUpLGc9ZChoLGcpKTooZT1jKGUsZiksZz1kKGcsaCkpLGZ1bmN0aW9uKGEpe3JldHVybiBnKGUoYSkpfX1mdW5jdGlvbiBzKGEsYyxkLGUpe3ZhciBmPU1hdGgubWluKGEubGVuZ3RoLGMubGVuZ3RoKS0xLGc9bmV3IEFycmF5KGYpLGg9bmV3IEFycmF5KGYpLGk9LTE7Zm9yKGFbZl08YVswXSYmKGE9YS5zbGljZSgpLnJldmVyc2UoKSxjPWMuc2xpY2UoKS5yZXZlcnNlKCkpOysraTxmOylnW2ldPWQoYVtpXSxhW2krMV0pLGhbaV09ZShjW2ldLGNbaSsxXSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWIuYmlzZWN0KGEsYywxLGYpLTE7cmV0dXJuIGhbZF0oZ1tkXShjKSl9fWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gYi5kb21haW4oYS5kb21haW4oKSkucmFuZ2UoYS5yYW5nZSgpKS5pbnRlcnBvbGF0ZShhLmludGVycG9sYXRlKCkpLmNsYW1wKGEuY2xhbXAoKSl9ZnVuY3Rpb24gdShhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gZj1NYXRoLm1pbihpLmxlbmd0aCxqLmxlbmd0aCk+Mj9zOnIsZz1oPW51bGwsZX1mdW5jdGlvbiBlKGIpe3JldHVybihnfHwoZz1mKGksaixsP3AoYSk6YSxrKSkpKCtiKX12YXIgZixnLGgsaT0kLGo9JCxrPWQuaW50ZXJwb2xhdGUsbD0hMTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGh8fChoPWYoaixpLG8sbD9xKGIpOmIpKSkoK2EpfSxlLmRvbWFpbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1YLmNhbGwoYSxuKSxjKCkpOmkuc2xpY2UoKX0sZS5yYW5nZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaj1ZLmNhbGwoYSksYygpKTpqLnNsaWNlKCl9LGUucmFuZ2VSb3VuZD1mdW5jdGlvbihhKXtyZXR1cm4gaj1ZLmNhbGwoYSksaz1kLmludGVycG9sYXRlUm91bmQsYygpfSxlLmNsYW1wPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPSEhYSxjKCkpOmx9LGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9YSxjKCkpOmt9LGMoKX1mdW5jdGlvbiB2KGEsYyxkKXt2YXIgZixnPWFbMF0saD1hW2EubGVuZ3RoLTFdLGk9Yi50aWNrU3RlcChnLGgsbnVsbD09Yz8xMDpjKTtzd2l0Y2goZD1lLmZvcm1hdFNwZWNpZmllcihudWxsPT1kPyIsZiI6ZCksZC50eXBlKXtjYXNlInMiOnZhciBqPU1hdGgubWF4KE1hdGguYWJzKGcpLE1hdGguYWJzKGgpKTtyZXR1cm4gbnVsbCE9ZC5wcmVjaXNpb258fGlzTmFOKGY9ZS5wcmVjaXNpb25QcmVmaXgoaSxqKSl8fChkLnByZWNpc2lvbj1mKSxlLmZvcm1hdFByZWZpeChkLGopO2Nhc2UiIjpjYXNlImUiOmNhc2UiZyI6Y2FzZSJwIjpjYXNlInIiOm51bGwhPWQucHJlY2lzaW9ufHxpc05hTihmPWUucHJlY2lzaW9uUm91bmQoaSxNYXRoLm1heChNYXRoLmFicyhnKSxNYXRoLmFicyhoKSkpKXx8KGQucHJlY2lzaW9uPWYtKCJlIj09PWQudHlwZSkpO2JyZWFrO2Nhc2UiZiI6Y2FzZSIlIjpudWxsIT1kLnByZWNpc2lvbnx8aXNOYU4oZj1lLnByZWNpc2lvbkZpeGVkKGkpKXx8KGQucHJlY2lzaW9uPWYtMiooIiUiPT09ZC50eXBlKSl9cmV0dXJuIGUuZm9ybWF0KGQpfWZ1bmN0aW9uIHcoYSl7dmFyIGM9YS5kb21haW47cmV0dXJuIGEudGlja3M9ZnVuY3Rpb24oYSl7dmFyIGQ9YygpO3JldHVybiBiLnRpY2tzKGRbMF0sZFtkLmxlbmd0aC0xXSxudWxsPT1hPzEwOmEpfSxhLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdihjKCksYSxiKX0sYS5uaWNlPWZ1bmN0aW9uKGQpe3ZhciBlPWMoKSxmPWUubGVuZ3RoLTEsZz1udWxsPT1kPzEwOmQsaD1lWzBdLGk9ZVtmXSxqPWIudGlja1N0ZXAoaCxpLGcpO3JldHVybiBqJiYoaj1iLnRpY2tTdGVwKE1hdGguZmxvb3IoaC9qKSpqLE1hdGguY2VpbChpL2opKmosZyksZVswXT1NYXRoLmZsb29yKGgvaikqaixlW2ZdPU1hdGguY2VpbChpL2opKmosYyhlKSksYX0sYX1mdW5jdGlvbiB4KCl7dmFyIGE9dShvLGQuaW50ZXJwb2xhdGVOdW1iZXIpO3JldHVybiBhLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdChhLHgoKSl9LHcoYSl9ZnVuY3Rpb24geSgpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuK2F9dmFyIGI9WzAsMV07cmV0dXJuIGEuaW52ZXJ0PWEsYS5kb21haW49YS5yYW5nZT1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1YLmNhbGwoYyxuKSxhKTpiLnNsaWNlKCl9LGEuY29weT1mdW5jdGlvbigpe3JldHVybiB5KCkuZG9tYWluKGIpfSx3KGEpfWZ1bmN0aW9uIHooYSxiKXthPWEuc2xpY2UoKTt2YXIgYyxkPTAsZT1hLmxlbmd0aC0xLGY9YVtkXSxnPWFbZV07cmV0dXJuIGc8ZiYmKGM9ZCxkPWUsZT1jLGM9ZixmPWcsZz1jKSxhW2RdPWIuZmxvb3IoZiksYVtlXT1iLmNlaWwoZyksYX1mdW5jdGlvbiBBKGEsYil7cmV0dXJuKGI9TWF0aC5sb2coYi9hKSk/ZnVuY3Rpb24oYyl7cmV0dXJuIE1hdGgubG9nKGMvYSkvYn06bShiKX1mdW5jdGlvbiBCKGEsYil7cmV0dXJuIGE8MD9mdW5jdGlvbihjKXtyZXR1cm4tTWF0aC5wb3coLWIsYykqTWF0aC5wb3coLWEsMS1jKX06ZnVuY3Rpb24oYyl7cmV0dXJuIE1hdGgucG93KGIsYykqTWF0aC5wb3coYSwxLWMpfX1mdW5jdGlvbiBDKGEpe3JldHVybiBpc0Zpbml0ZShhKT8rKCIxZSIrYSk6YTwwPzA6YX1mdW5jdGlvbiBEKGEpe3JldHVybiAxMD09PWE/QzphPT09TWF0aC5FP01hdGguZXhwOmZ1bmN0aW9uKGIpe3JldHVybiBNYXRoLnBvdyhhLGIpfX1mdW5jdGlvbiBFKGEpe3JldHVybiBhPT09TWF0aC5FP01hdGgubG9nOjEwPT09YSYmTWF0aC5sb2cxMHx8Mj09PWEmJk1hdGgubG9nMnx8KGE9TWF0aC5sb2coYSksZnVuY3Rpb24oYil7cmV0dXJuIE1hdGgubG9nKGIpL2F9KX1mdW5jdGlvbiBGKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4tYSgtYil9fWZ1bmN0aW9uIEcoKXtmdW5jdGlvbiBhKCl7cmV0dXJuIGc9RShmKSxoPUQoZiksZCgpWzBdPDAmJihnPUYoZyksaD1GKGgpKSxjfXZhciBjPXUoQSxCKS5kb21haW4oWzEsMTBdKSxkPWMuZG9tYWluLGY9MTAsZz1FKDEwKSxoPUQoMTApO3JldHVybiBjLmJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9K2IsYSgpKTpmfSxjLmRvbWFpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZChiKSxhKCkpOmQoKX0sYy50aWNrcz1mdW5jdGlvbihhKXt2YXIgYyxlPWQoKSxpPWVbMF0saj1lW2UubGVuZ3RoLTFdOyhjPWo8aSkmJihuPWksaT1qLGo9bik7dmFyIGssbCxtLG49ZyhpKSxvPWcoaikscD1udWxsPT1hPzEwOithLHE9W107aWYoIShmJTEpJiZvLW48cCl7aWYobj1NYXRoLnJvdW5kKG4pLTEsbz1NYXRoLnJvdW5kKG8pKzEsaT4wKXtmb3IoO248bzsrK24pZm9yKGw9MSxrPWgobik7bDxmOysrbClpZihtPWsqbCwhKG08aSkpe2lmKG0+ailicmVhaztxLnB1c2gobSl9fWVsc2UgZm9yKDtuPG87KytuKWZvcihsPWYtMSxrPWgobik7bD49MTstLWwpaWYobT1rKmwsIShtPGkpKXtpZihtPmopYnJlYWs7cS5wdXNoKG0pfX1lbHNlIHE9Yi50aWNrcyhuLG8sTWF0aC5taW4oby1uLHApKS5tYXAoaCk7cmV0dXJuIGM/cS5yZXZlcnNlKCk6cX0sYy50aWNrRm9ybWF0PWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YiYmKGI9MTA9PT1mPyIuMGUiOiIsIiksImZ1bmN0aW9uIiE9dHlwZW9mIGImJihiPWUuZm9ybWF0KGIpKSxhPT09MS8wKXJldHVybiBiO251bGw9PWEmJihhPTEwKTt2YXIgZD1NYXRoLm1heCgxLGYqYS9jLnRpY2tzKCkubGVuZ3RoKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9YS9oKE1hdGgucm91bmQoZyhhKSkpO3JldHVybiBjKmY8Zi0uNSYmKGMqPWYpLGM8PWQ/YihhKToiIn19LGMubmljZT1mdW5jdGlvbigpe3JldHVybiBkKHooZCgpLHtmbG9vcjpmdW5jdGlvbihhKXtyZXR1cm4gaChNYXRoLmZsb29yKGcoYSkpKX0sY2VpbDpmdW5jdGlvbihhKXtyZXR1cm4gaChNYXRoLmNlaWwoZyhhKSkpfX0pKX0sYy5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHQoYyxHKCkuYmFzZShmKSl9LGN9ZnVuY3Rpb24gSChhLGIpe3JldHVybiBhPDA/LU1hdGgucG93KC1hLGIpOk1hdGgucG93KGEsYil9ZnVuY3Rpb24gSSgpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4oYj1IKGIsYyktKGE9SChhLGMpKSk/ZnVuY3Rpb24oZCl7cmV0dXJuKEgoZCxjKS1hKS9ifTptKGIpfWZ1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYj1IKGIsYyktKGE9SChhLGMpKSxmdW5jdGlvbihkKXtyZXR1cm4gSChhK2IqZCwxL2MpfX12YXIgYz0xLGQ9dShhLGIpLGU9ZC5kb21haW47cmV0dXJuIGQuZXhwb25lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9K2EsZShlKCkpKTpjfSxkLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdChkLEkoKS5leHBvbmVudChjKSl9LHcoZCl9ZnVuY3Rpb24gSigpe3JldHVybiBJKCkuZXhwb25lbnQoLjUpfWZ1bmN0aW9uIEsoKXtmdW5jdGlvbiBhKCl7dmFyIGE9MCxnPU1hdGgubWF4KDEsZS5sZW5ndGgpO2ZvcihmPW5ldyBBcnJheShnLTEpOysrYTxnOylmW2EtMV09Yi5xdWFudGlsZShkLGEvZyk7cmV0dXJuIGN9ZnVuY3Rpb24gYyhhKXtpZighaXNOYU4oYT0rYSkpcmV0dXJuIGVbYi5iaXNlY3QoZixhKV19dmFyIGQ9W10sZT1bXSxmPVtdO3JldHVybiBjLmludmVydEV4dGVudD1mdW5jdGlvbihhKXt2YXIgYj1lLmluZGV4T2YoYSk7cmV0dXJuIGI8MD9bTmFOLE5hTl06W2I+MD9mW2ItMV06ZFswXSxiPGYubGVuZ3RoP2ZbYl06ZFtkLmxlbmd0aC0xXV19LGMuZG9tYWluPWZ1bmN0aW9uKGMpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkLnNsaWNlKCk7ZD1bXTtmb3IodmFyIGUsZj0wLGc9Yy5sZW5ndGg7ZjxnOysrZillPWNbZl0sbnVsbD09ZXx8aXNOYU4oZT0rZSl8fGQucHVzaChlKTtyZXR1cm4gZC5zb3J0KGIuYXNjZW5kaW5nKSxhKCl9LGMucmFuZ2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9WS5jYWxsKGIpLGEoKSk6ZS5zbGljZSgpfSxjLnF1YW50aWxlcz1mdW5jdGlvbigpe3JldHVybiBmLnNsaWNlKCl9LGMuY29weT1mdW5jdGlvbigpe3JldHVybiBLKCkuZG9tYWluKGQpLnJhbmdlKGUpfSxjfWZ1bmN0aW9uIEwoKXtmdW5jdGlvbiBhKGEpe2lmKGE8PWEpcmV0dXJuIGhbYi5iaXNlY3QoZyxhLDAsZildfWZ1bmN0aW9uIGMoKXt2YXIgYj0tMTtmb3IoZz1uZXcgQXJyYXkoZik7KytiPGY7KWdbYl09KChiKzEpKmUtKGItZikqZCkvKGYrMSk7cmV0dXJuIGF9dmFyIGQ9MCxlPTEsZj0xLGc9Wy41XSxoPVswLDFdO3JldHVybiBhLmRvbWFpbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD0rYVswXSxlPSthWzFdLGMoKSk6W2QsZV19LGEucmFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9KGg9WS5jYWxsKGEpKS5sZW5ndGgtMSxjKCkpOmguc2xpY2UoKX0sYS5pbnZlcnRFeHRlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9aC5pbmRleE9mKGEpO3JldHVybiBiPDA/W05hTixOYU5dOmI8MT9bZCxnWzBdXTpiPj1mP1tnW2YtMV0sZV06W2dbYi0xXSxnW2JdXX0sYS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIEwoKS5kb21haW4oW2QsZV0pLnJhbmdlKGgpfSx3KGEpfWZ1bmN0aW9uIE0oKXtmdW5jdGlvbiBhKGEpe2lmKGE8PWEpcmV0dXJuIGRbYi5iaXNlY3QoYyxhLDAsZSldfXZhciBjPVsuNV0sZD1bMCwxXSxlPTE7cmV0dXJuIGEuZG9tYWluPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPVkuY2FsbChiKSxlPU1hdGgubWluKGMubGVuZ3RoLGQubGVuZ3RoLTEpLGEpOmMuc2xpY2UoKX0sYS5yYW5nZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1ZLmNhbGwoYiksZT1NYXRoLm1pbihjLmxlbmd0aCxkLmxlbmd0aC0xKSxhKTpkLnNsaWNlKCl9LGEuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWQuaW5kZXhPZihhKTtyZXR1cm5bY1tiLTFdLGNbYl1dfSxhLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gTSgpLmRvbWFpbihjKS5yYW5nZShkKX0sYX1mdW5jdGlvbiBOKGEpe3JldHVybiBuZXcgRGF0ZShhKX1mdW5jdGlvbiBPKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZT8rYTorbmV3IERhdGUoKCthKSl9ZnVuY3Rpb24gUChhLGMsZSxmLGcsaCxpLGosayl7ZnVuY3Rpb24gbChiKXtyZXR1cm4oaShiKTxiP3I6aChiKTxiP3M6ZyhiKTxiP3Y6ZihiKTxiP3c6YyhiKTxiP2UoYik8Yj94Onk6YShiKTxiP0E6QikoYil9ZnVuY3Rpb24gbShjLGQsZSxmKXtpZihudWxsPT1jJiYoYz0xMCksIm51bWJlciI9PXR5cGVvZiBjKXt2YXIgZz1NYXRoLmFicyhlLWQpL2MsaD1iLmJpc2VjdG9yKGZ1bmN0aW9uKGEpe3JldHVybiBhWzJdfSkucmlnaHQoQyxnKTtoPT09Qy5sZW5ndGg/KGY9Yi50aWNrU3RlcChkL2ZhLGUvZmEsYyksYz1hKTpoPyhoPUNbZy9DW2gtMV1bMl08Q1toXVsyXS9nP2gtMTpoXSxmPWhbMV0sYz1oWzBdKTooZj1iLnRpY2tTdGVwKGQsZSxjKSxjPWopfXJldHVybiBudWxsPT1mP2M6Yy5ldmVyeShmKX12YXIgbj11KG8sZC5pbnRlcnBvbGF0ZU51bWJlcikscD1uLmludmVydCxxPW4uZG9tYWluLHI9aygiLiVMIikscz1rKCI6JVMiKSx2PWsoIiVJOiVNIiksdz1rKCIlSSAlcCIpLHg9aygiJWEgJWQiKSx5PWsoIiViICVkIiksQT1rKCIlQiIpLEI9aygiJVkiKSxDPVtbaSwxLF9dLFtpLDUsNSpfXSxbaSwxNSwxNSpfXSxbaSwzMCwzMCpfXSxbaCwxLGFhXSxbaCw1LDUqYWFdLFtoLDE1LDE1KmFhXSxbaCwzMCwzMCphYV0sW2csMSxiYV0sW2csMywzKmJhXSxbZyw2LDYqYmFdLFtnLDEyLDEyKmJhXSxbZiwxLGNhXSxbZiwyLDIqY2FdLFtlLDEsZGFdLFtjLDEsZWFdLFtjLDMsMyplYV0sW2EsMSxmYV1dO3JldHVybiBuLmludmVydD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IERhdGUocChhKSl9LG4uZG9tYWluPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3EoWC5jYWxsKGEsTykpOnEoKS5tYXAoTil9LG4udGlja3M9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXEoKSxlPWRbMF0sZj1kW2QubGVuZ3RoLTFdLGc9ZjxlO3JldHVybiBnJiYoYz1lLGU9ZixmPWMpLGM9bShhLGUsZixiKSxjPWM/Yy5yYW5nZShlLGYrMSk6W10sZz9jLnJldmVyc2UoKTpjfSxuLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09Yj9sOmsoYil9LG4ubmljZT1mdW5jdGlvbihhLGIpe3ZhciBjPXEoKTtyZXR1cm4oYT1tKGEsY1swXSxjW2MubGVuZ3RoLTFdLGIpKT9xKHooYyxhKSk6bn0sbi5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHQobixQKGEsYyxlLGYsZyxoLGksaixrKSl9LG59ZnVuY3Rpb24gUSgpe3JldHVybiBQKGYudGltZVllYXIsZi50aW1lTW9udGgsZi50aW1lV2VlayxmLnRpbWVEYXksZi50aW1lSG91cixmLnRpbWVNaW51dGUsZi50aW1lU2Vjb25kLGYudGltZU1pbGxpc2Vjb25kLGcudGltZUZvcm1hdCkuZG9tYWluKFtuZXcgRGF0ZSgyZTMsMCwxKSxuZXcgRGF0ZSgyZTMsMCwyKV0pfWZ1bmN0aW9uIFIoKXtyZXR1cm4gUChmLnV0Y1llYXIsZi51dGNNb250aCxmLnV0Y1dlZWssZi51dGNEYXksZi51dGNIb3VyLGYudXRjTWludXRlLGYudXRjU2Vjb25kLGYudXRjTWlsbGlzZWNvbmQsZy51dGNGb3JtYXQpLmRvbWFpbihbRGF0ZS5VVEMoMmUzLDAsMSksRGF0ZS5VVEMoMmUzLDAsMildKX1mdW5jdGlvbiBTKGEpe3JldHVybiBhLm1hdGNoKC8uezZ9L2cpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4iIyIrYX0pfWZ1bmN0aW9uIFQoYSl7KGE8MHx8YT4xKSYmKGEtPU1hdGguZmxvb3IoYSkpO3ZhciBiPU1hdGguYWJzKGEtLjUpO3JldHVybiBuYS5oPTM2MCphLTEwMCxuYS5zPTEuNS0xLjUqYixuYS5sPS44LS45KmIsbmErIiJ9ZnVuY3Rpb24gVShhKXt2YXIgYj1hLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGFbTWF0aC5tYXgoMCxNYXRoLm1pbihiLTEsTWF0aC5mbG9vcihjKmIpKSldfX1mdW5jdGlvbiBWKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGY9KGItYykvKGQtYyk7cmV0dXJuIGEoZT9NYXRoLm1heCgwLE1hdGgubWluKDEsZikpOmYpfXZhciBjPTAsZD0xLGU9ITE7cmV0dXJuIGIuZG9tYWluPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSthWzBdLGQ9K2FbMV0sYik6W2MsZF19LGIuY2xhbXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ISFhLGIpOmV9LGIuaW50ZXJwb2xhdG9yPWZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWMsYik6YX0sYi5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIFYoYSkuZG9tYWluKFtjLGRdKS5jbGFtcChlKX0sdyhiKX12YXIgVz1BcnJheS5wcm90b3R5cGUsWD1XLm1hcCxZPVcuc2xpY2UsWj17bmFtZToiaW1wbGljaXQifSwkPVswLDFdLF89MWUzLGFhPTYwKl8sYmE9NjAqYWEsY2E9MjQqYmEsZGE9NypjYSxlYT0zMCpjYSxmYT0zNjUqY2EsZ2E9UygiMWY3N2I0ZmY3ZjBlMmNhMDJjZDYyNzI4OTQ2N2JkOGM1NjRiZTM3N2MyN2Y3ZjdmYmNiZDIyMTdiZWNmIiksaGE9UygiMzkzYjc5NTI1NGEzNmI2ZWNmOWM5ZWRlNjM3OTM5OGNhMjUyYjVjZjZiY2VkYjljOGM2ZDMxYmQ5ZTM5ZTdiYTUyZTdjYjk0ODQzYzM5YWQ0OTRhZDY2MTZiZTc5NjljN2I0MTczYTU1MTk0Y2U2ZGJkZGU5ZWQ2IiksaWE9UygiMzE4MmJkNmJhZWQ2OWVjYWUxYzZkYmVmZTY1NTBkZmQ4ZDNjZmRhZTZiZmRkMGEyMzFhMzU0NzRjNDc2YTFkOTliYzdlOWMwNzU2YmIxOWU5YWM4YmNiZGRjZGFkYWViNjM2MzYzOTY5Njk2YmRiZGJkZDlkOWQ5IiksamE9UygiMWY3N2I0YWVjN2U4ZmY3ZjBlZmZiYjc4MmNhMDJjOThkZjhhZDYyNzI4ZmY5ODk2OTQ2N2JkYzViMGQ1OGM1NjRiYzQ5Yzk0ZTM3N2MyZjdiNmQyN2Y3ZjdmYzdjN2M3YmNiZDIyZGJkYjhkMTdiZWNmOWVkYWU1Iiksa2E9ZC5pbnRlcnBvbGF0ZUN1YmVoZWxpeExvbmcoaC5jdWJlaGVsaXgoMzAwLC41LDApLGguY3ViZWhlbGl4KC0yNDAsLjUsMSkpLGxhPWQuaW50ZXJwb2xhdGVDdWJlaGVsaXhMb25nKGguY3ViZWhlbGl4KC0xMDAsLjc1LC4zNSksaC5jdWJlaGVsaXgoODAsMS41LC44KSksbWE9ZC5pbnRlcnBvbGF0ZUN1YmVoZWxpeExvbmcoaC5jdWJlaGVsaXgoMjYwLC43NSwuMzUpLGguY3ViZWhlbGl4KDgwLDEuNSwuOCkpLG5hPWguY3ViZWhlbGl4KCksb2E9VShTKCI0NDAxNTQ0NDAyNTY0NTA0NTc0NTA1NTk0NjA3NWE0NjA4NWM0NjBhNWQ0NjBiNWU0NzBkNjA0NzBlNjE0NzEwNjM0NzExNjQ0NzEzNjU0ODE0Njc0ODE2Njg0ODE3Njk0ODE4NmE0ODFhNmM0ODFiNmQ0ODFjNmU0ODFkNmY0ODFmNzA0ODIwNzE0ODIxNzM0ODIzNzQ0ODI0NzU0ODI1NzY0ODI2Nzc0ODI4Nzg0ODI5Nzk0NzJhN2E0NzJjN2E0NzJkN2I0NzJlN2M0NzJmN2Q0NjMwN2U0NjMyN2U0NjMzN2Y0NjM0ODA0NTM1ODE0NTM3ODE0NTM4ODI0NDM5ODM0NDNhODM0NDNiODQ0MzNkODQ0MzNlODU0MjNmODU0MjQwODY0MjQxODY0MTQyODc0MTQ0ODc0MDQ1ODg0MDQ2ODgzZjQ3ODgzZjQ4ODkzZTQ5ODkzZTRhODkzZTRjOGEzZDRkOGEzZDRlOGEzYzRmOGEzYzUwOGIzYjUxOGIzYjUyOGIzYTUzOGIzYTU0OGMzOTU1OGMzOTU2OGMzODU4OGMzODU5OGMzNzVhOGMzNzViOGQzNjVjOGQzNjVkOGQzNTVlOGQzNTVmOGQzNDYwOGQzNDYxOGQzMzYyOGQzMzYzOGQzMjY0OGUzMjY1OGUzMTY2OGUzMTY3OGUzMTY4OGUzMDY5OGUzMDZhOGUyZjZiOGUyZjZjOGUyZTZkOGUyZTZlOGUyZTZmOGUyZDcwOGUyZDcxOGUyYzcxOGUyYzcyOGUyYzczOGUyYjc0OGUyYjc1OGUyYTc2OGUyYTc3OGUyYTc4OGUyOTc5OGUyOTdhOGUyOTdiOGUyODdjOGUyODdkOGUyNzdlOGUyNzdmOGUyNzgwOGUyNjgxOGUyNjgyOGUyNjgyOGUyNTgzOGUyNTg0OGUyNTg1OGUyNDg2OGUyNDg3OGUyMzg4OGUyMzg5OGUyMzhhOGQyMjhiOGQyMjhjOGQyMjhkOGQyMThlOGQyMThmOGQyMTkwOGQyMTkxOGMyMDkyOGMyMDkyOGMyMDkzOGMxZjk0OGMxZjk1OGIxZjk2OGIxZjk3OGIxZjk4OGIxZjk5OGExZjlhOGExZTliOGExZTljODkxZTlkODkxZjllODkxZjlmODgxZmEwODgxZmExODgxZmExODcxZmEyODcyMGEzODYyMGE0ODYyMWE1ODUyMWE2ODUyMmE3ODUyMmE4ODQyM2E5ODMyNGFhODMyNWFiODIyNWFjODIyNmFkODEyN2FkODEyOGFlODAyOWFmN2YyYWIwN2YyY2IxN2UyZGIyN2QyZWIzN2MyZmI0N2MzMWI1N2IzMmI2N2EzNGI2NzkzNWI3NzkzN2I4NzgzOGI5NzczYWJhNzYzYmJiNzUzZGJjNzQzZmJjNzM0MGJkNzI0MmJlNzE0NGJmNzA0NmMwNmY0OGMxNmU0YWMxNmQ0Y2MyNmM0ZWMzNmI1MGM0NmE1MmM1Njk1NGM1Njg1NmM2Njc1OGM3NjU1YWM4NjQ1Y2M4NjM1ZWM5NjI2MGNhNjA2M2NiNWY2NWNiNWU2N2NjNWM2OWNkNWI2Y2NkNWE2ZWNlNTg3MGNmNTc3M2QwNTY3NWQwNTQ3N2QxNTM3YWQxNTE3Y2QyNTA3ZmQzNGU4MWQzNGQ4NGQ0NGI4NmQ1NDk4OWQ1NDg4YmQ2NDY4ZWQ2NDU5MGQ3NDM5M2Q3NDE5NWQ4NDA5OGQ4M2U5YmQ5M2M5ZGQ5M2JhMGRhMzlhMmRhMzdhNWRiMzZhOGRiMzRhYWRjMzJhZGRjMzBiMGRkMmZiMmRkMmRiNWRlMmJiOGRlMjliYWRlMjhiZGRmMjZjMGRmMjVjMmRmMjNjNWUwMjFjOGUwMjBjYWUxMWZjZGUxMWRkMGUxMWNkMmUyMWJkNWUyMWFkOGUyMTlkYWUzMTlkZGUzMThkZmUzMThlMmU0MThlNWU0MTllN2U0MTllYWU1MWFlY2U1MWJlZmU1MWNmMWU1MWRmNGU2MWVmNmU2MjBmOGU2MjFmYmU3MjNmZGU3MjUiKSkscGE9VShTKCIwMDAwMDQwMTAwMDUwMTAxMDYwMTAxMDgwMjAxMDkwMjAyMGIwMjAyMGQwMzAzMGYwMzAzMTIwNDA0MTQwNTA0MTYwNjA1MTgwNjA1MWEwNzA2MWMwODA3MWUwOTA3MjAwYTA4MjIwYjA5MjQwYzA5MjYwZDBhMjkwZTBiMmIxMDBiMmQxMTBjMmYxMjBkMzExMzBkMzQxNDBlMzYxNTBlMzgxNjBmM2IxODBmM2QxOTEwM2YxYTEwNDIxYzEwNDQxZDExNDcxZTExNDkyMDExNGIyMTExNGUyMjExNTAyNDEyNTMyNTEyNTUyNzEyNTgyOTExNWEyYTExNWMyYzExNWYyZDExNjEyZjExNjMzMTExNjUzMzEwNjczNDEwNjkzNjEwNmIzODEwNmMzOTBmNmUzYjBmNzAzZDBmNzEzZjBmNzI0MDBmNzQ0MjBmNzU0NDBmNzY0NTEwNzc0NzEwNzg0OTEwNzg0YTEwNzk0YzExN2E0ZTExN2I0ZjEyN2I1MTEyN2M1MjEzN2M1NDEzN2Q1NjE0N2Q1NzE1N2U1OTE1N2U1YTE2N2U1YzE2N2Y1ZDE3N2Y1ZjE4N2Y2MDE4ODA2MjE5ODA2NDFhODA2NTFhODA2NzFiODA2ODFjODE2YTFjODE2YjFkODE2ZDFkODE2ZTFlODE3MDFmODE3MjFmODE3MzIwODE3NTIxODE3NjIxODE3ODIyODE3OTIyODI3YjIzODI3YzIzODI3ZTI0ODI4MDI1ODI4MTI1ODE4MzI2ODE4NDI2ODE4NjI3ODE4ODI3ODE4OTI4ODE4YjI5ODE4YzI5ODE4ZTJhODE5MDJhODE5MTJiODE5MzJiODA5NDJjODA5NjJjODA5ODJkODA5OTJkODA5YjJlN2Y5YzJlN2Y5ZTJmN2ZhMDJmN2ZhMTMwN2VhMzMwN2VhNTMxN2VhNjMxN2RhODMyN2RhYTMzN2RhYjMzN2NhZDM0N2NhZTM0N2JiMDM1N2JiMjM1N2JiMzM2N2FiNTM2N2FiNzM3NzliODM3NzliYTM4NzhiYzM5NzhiZDM5NzdiZjNhNzdjMDNhNzZjMjNiNzVjNDNjNzVjNTNjNzRjNzNkNzNjODNlNzNjYTNlNzJjYzNmNzFjZDQwNzFjZjQwNzBkMDQxNmZkMjQyNmZkMzQzNmVkNTQ0NmRkNjQ1NmNkODQ1NmNkOTQ2NmJkYjQ3NmFkYzQ4NjlkZTQ5NjhkZjRhNjhlMDRjNjdlMjRkNjZlMzRlNjVlNDRmNjRlNTUwNjRlNzUyNjNlODUzNjJlOTU0NjJlYTU2NjFlYjU3NjBlYzU4NjBlZDVhNWZlZTViNWVlZjVkNWVmMDVmNWVmMTYwNWRmMjYyNWRmMjY0NWNmMzY1NWNmNDY3NWNmNDY5NWNmNTZiNWNmNjZjNWNmNjZlNWNmNzcwNWNmNzcyNWNmODc0NWNmODc2NWNmOTc4NWRmOTc5NWRmOTdiNWRmYTdkNWVmYTdmNWVmYTgxNWZmYjgzNWZmYjg1NjBmYjg3NjFmYzg5NjFmYzhhNjJmYzhjNjNmYzhlNjRmYzkwNjVmZDkyNjZmZDk0NjdmZDk2NjhmZDk4NjlmZDlhNmFmZDliNmJmZTlkNmNmZTlmNmRmZWExNmVmZWEzNmZmZWE1NzFmZWE3NzJmZWE5NzNmZWFhNzRmZWFjNzZmZWFlNzdmZWIwNzhmZWIyN2FmZWI0N2JmZWI2N2NmZWI3N2VmZWI5N2ZmZWJiODFmZWJkODJmZWJmODRmZWMxODVmZWMyODdmZWM0ODhmZWM2OGFmZWM4OGNmZWNhOGRmZWNjOGZmZWNkOTBmZWNmOTJmZWQxOTRmZWQzOTVmZWQ1OTdmZWQ3OTlmZWQ4OWFmZGRhOWNmZGRjOWVmZGRlYTBmZGUwYTFmZGUyYTNmZGUzYTVmZGU1YTdmZGU3YTlmZGU5YWFmZGViYWNmY2VjYWVmY2VlYjBmY2YwYjJmY2YyYjRmY2Y0YjZmY2Y2YjhmY2Y3YjlmY2Y5YmJmY2ZiYmRmY2ZkYmYiKSkscWE9VShTKCIwMDAwMDQwMTAwMDUwMTAxMDYwMTAxMDgwMjAxMGEwMjAyMGMwMjAyMGUwMzAyMTAwNDAzMTIwNDAzMTQwNTA0MTcwNjA0MTkwNzA1MWIwODA1MWQwOTA2MWYwYTA3MjIwYjA3MjQwYzA4MjYwZDA4MjkwZTA5MmIxMDA5MmQxMTBhMzAxMjBhMzIxNDBiMzQxNTBiMzcxNjBiMzkxODBjM2MxOTBjM2UxYjBjNDExYzBjNDMxZTBjNDUxZjBjNDgyMTBjNGEyMzBjNGMyNDBjNGYyNjBjNTEyODBiNTMyOTBiNTUyYjBiNTcyZDBiNTkyZjBhNWIzMTBhNWMzMjBhNWUzNDBhNWYzNjA5NjEzODA5NjIzOTA5NjMzYjA5NjQzZDA5NjUzZTA5NjY0MDBhNjc0MjBhNjg0NDBhNjg0NTBhNjk0NzBiNmE0OTBiNmE0YTBjNmI0YzBjNmI0ZDBkNmM0ZjBkNmM1MTBlNmM1MjBlNmQ1NDBmNmQ1NTBmNmQ1NzEwNmU1OTEwNmU1YTExNmU1YzEyNmU1ZDEyNmU1ZjEzNmU2MTEzNmU2MjE0NmU2NDE1NmU2NTE1NmU2NzE2NmU2OTE2NmU2YTE3NmU2YzE4NmU2ZDE4NmU2ZjE5NmU3MTE5NmU3MjFhNmU3NDFhNmU3NTFiNmU3NzFjNmQ3ODFjNmQ3YTFkNmQ3YzFkNmQ3ZDFlNmQ3ZjFlNmM4MDFmNmM4MjIwNmM4NDIwNmI4NTIxNmI4NzIxNmI4ODIyNmE4YTIyNmE4YzIzNjk4ZDIzNjk4ZjI0Njk5MDI1Njg5MjI1Njg5MzI2Njc5NTI2Njc5NzI3NjY5ODI3NjY5YTI4NjU5YjI5NjQ5ZDI5NjQ5ZjJhNjNhMDJhNjNhMjJiNjJhMzJjNjFhNTJjNjBhNjJkNjBhODJlNWZhOTJlNWVhYjJmNWVhZDMwNWRhZTMwNWNiMDMxNWJiMTMyNWFiMzMyNWFiNDMzNTliNjM0NThiNzM1NTdiOTM1NTZiYTM2NTViYzM3NTRiZDM4NTNiZjM5NTJjMDNhNTFjMTNhNTBjMzNiNGZjNDNjNGVjNjNkNGRjNzNlNGNjODNmNGJjYTQwNGFjYjQxNDljYzQyNDhjZTQzNDdjZjQ0NDZkMDQ1NDVkMjQ2NDRkMzQ3NDNkNDQ4NDJkNTRhNDFkNzRiM2ZkODRjM2VkOTRkM2RkYTRlM2NkYjUwM2JkZDUxM2FkZTUyMzhkZjUzMzdlMDU1MzZlMTU2MzVlMjU3MzRlMzU5MzNlNDVhMzFlNTVjMzBlNjVkMmZlNzVlMmVlODYwMmRlOTYxMmJlYTYzMmFlYjY0MjllYjY2MjhlYzY3MjZlZDY5MjVlZTZhMjRlZjZjMjNlZjZlMjFmMDZmMjBmMTcxMWZmMTczMWRmMjc0MWNmMzc2MWJmMzc4MTlmNDc5MThmNTdiMTdmNTdkMTVmNjdlMTRmNjgwMTNmNzgyMTJmNzg0MTBmODg1MGZmODg3MGVmODg5MGNmOThiMGJmOThjMGFmOThlMDlmYTkwMDhmYTkyMDdmYTk0MDdmYjk2MDZmYjk3MDZmYjk5MDZmYjliMDZmYjlkMDdmYzlmMDdmY2ExMDhmY2EzMDlmY2E1MGFmY2E2MGNmY2E4MGRmY2FhMGZmY2FjMTFmY2FlMTJmY2IwMTRmY2IyMTZmY2I0MThmYmI2MWFmYmI4MWRmYmJhMWZmYmJjMjFmYmJlMjNmYWMwMjZmYWMyMjhmYWM0MmFmYWM2MmRmOWM3MmZmOWM5MzJmOWNiMzVmOGNkMzdmOGNmM2FmN2QxM2RmN2QzNDBmNmQ1NDNmNmQ3NDZmNWQ5NDlmNWRiNGNmNGRkNGZmNGRmNTNmNGUxNTZmM2UzNWFmM2U1NWRmMmU2NjFmMmU4NjVmMmVhNjlmMWVjNmRmMWVkNzFmMWVmNzVmMWYxNzlmMmYyN2RmMmY0ODJmM2Y1ODZmM2Y2OGFmNGY4OGVmNWY5OTJmNmZhOTZmOGZiOWFmOWZjOWRmYWZkYTFmY2ZmYTQiKSkscmE9VShTKCIwZDA4ODcxMDA3ODgxMzA3ODkxNjA3OGExOTA2OGMxYjA2OGQxZDA2OGUyMDA2OGYyMjA2OTAyNDA2OTEyNjA1OTEyODA1OTIyYTA1OTMyYzA1OTQyZTA1OTUyZjA1OTYzMTA1OTczMzA1OTczNTA0OTgzNzA0OTkzODA0OWEzYTA0OWEzYzA0OWIzZTA0OWMzZjA0OWM0MTA0OWQ0MzAzOWU0NDAzOWU0NjAzOWY0ODAzOWY0OTAzYTA0YjAzYTE0YzAyYTE0ZTAyYTI1MDAyYTI1MTAyYTM1MzAyYTM1NTAyYTQ1NjAxYTQ1ODAxYTQ1OTAxYTU1YjAxYTU1YzAxYTY1ZTAxYTY2MDAxYTY2MTAwYTc2MzAwYTc2NDAwYTc2NjAwYTc2NzAwYTg2OTAwYTg2YTAwYTg2YzAwYTg2ZTAwYTg2ZjAwYTg3MTAwYTg3MjAxYTg3NDAxYTg3NTAxYTg3NzAxYTg3ODAxYTg3YTAyYTg3YjAyYTg3ZDAzYTg3ZTAzYTg4MDA0YTg4MTA0YTc4MzA1YTc4NDA1YTc4NjA2YTY4NzA3YTY4ODA4YTY4YTA5YTU4YjBhYTU4ZDBiYTU4ZTBjYTQ4ZjBkYTQ5MTBlYTM5MjBmYTM5NDEwYTI5NTExYTE5NjEzYTE5ODE0YTA5OTE1OWY5YTE2OWY5YzE3OWU5ZDE4OWQ5ZTE5OWRhMDFhOWNhMTFiOWJhMjFkOWFhMzFlOWFhNTFmOTlhNjIwOThhNzIxOTdhODIyOTZhYTIzOTVhYjI0OTRhYzI2OTRhZDI3OTNhZTI4OTJiMDI5OTFiMTJhOTBiMjJiOGZiMzJjOGViNDJlOGRiNTJmOGNiNjMwOGJiNzMxOGFiODMyODliYTMzODhiYjM0ODhiYzM1ODdiZDM3ODZiZTM4ODViZjM5ODRjMDNhODNjMTNiODJjMjNjODFjMzNkODBjNDNlN2ZjNTQwN2VjNjQxN2RjNzQyN2NjODQzN2JjOTQ0N2FjYTQ1N2FjYjQ2NzljYzQ3NzhjYzQ5NzdjZDRhNzZjZTRiNzVjZjRjNzRkMDRkNzNkMTRlNzJkMjRmNzFkMzUxNzFkNDUyNzBkNTUzNmZkNTU0NmVkNjU1NmRkNzU2NmNkODU3NmJkOTU4NmFkYTVhNmFkYTViNjlkYjVjNjhkYzVkNjdkZDVlNjZkZTVmNjVkZTYxNjRkZjYyNjNlMDYzNjNlMTY0NjJlMjY1NjFlMjY2NjBlMzY4NWZlNDY5NWVlNTZhNWRlNTZiNWRlNjZjNWNlNzZlNWJlNzZmNWFlODcwNTllOTcxNThlOTcyNTdlYTc0NTdlYjc1NTZlYjc2NTVlYzc3NTRlZDc5NTNlZDdhNTJlZTdiNTFlZjdjNTFlZjdlNTBmMDdmNGZmMDgwNGVmMTgxNGRmMTgzNGNmMjg0NGJmMzg1NGJmMzg3NGFmNDg4NDlmNDg5NDhmNThiNDdmNThjNDZmNjhkNDVmNjhmNDRmNzkwNDRmNzkxNDNmNzkzNDJmODk0NDFmODk1NDBmOTk3M2ZmOTk4M2VmOTlhM2VmYTliM2RmYTljM2NmYTllM2JmYjlmM2FmYmExMzlmYmEyMzhmY2EzMzhmY2E1MzdmY2E2MzZmY2E4MzVmY2E5MzRmZGFiMzNmZGFjMzNmZGFlMzJmZGFmMzFmZGIxMzBmZGIyMmZmZGI0MmZmZGI1MmVmZWI3MmRmZWI4MmNmZWJhMmNmZWJiMmJmZWJkMmFmZWJlMmFmZWMwMjlmZGMyMjlmZGMzMjhmZGM1MjdmZGM2MjdmZGM4MjdmZGNhMjZmZGNiMjZmY2NkMjVmY2NlMjVmY2QwMjVmY2QyMjVmYmQzMjRmYmQ1MjRmYmQ3MjRmYWQ4MjRmYWRhMjRmOWRjMjRmOWRkMjVmOGRmMjVmOGUxMjVmN2UyMjVmN2U0MjVmNmU2MjZmNmU4MjZmNWU5MjZmNWViMjdmNGVkMjdmM2VlMjdmM2YwMjdmMmYyMjdmMWY0MjZmMWY1MjVmMGY3MjRmMGY5MjEiKSk7YS5zY2FsZUJhbmQ9aixhLnNjYWxlUG9pbnQ9bCxhLnNjYWxlSWRlbnRpdHk9eSxhLnNjYWxlTGluZWFyPXgsYS5zY2FsZUxvZz1HLGEuc2NhbGVPcmRpbmFsPWksYS5zY2FsZUltcGxpY2l0PVosYS5zY2FsZVBvdz1JLGEuc2NhbGVTcXJ0PUosYS5zY2FsZVF1YW50aWxlPUssYS5zY2FsZVF1YW50aXplPUwsYS5zY2FsZVRocmVzaG9sZD1NLGEuc2NhbGVUaW1lPVEsYS5zY2FsZVV0Yz1SLGEuc2NoZW1lQ2F0ZWdvcnkxMD1nYSxhLnNjaGVtZUNhdGVnb3J5MjBiPWhhLGEuc2NoZW1lQ2F0ZWdvcnkyMGM9aWEsYS5zY2hlbWVDYXRlZ29yeTIwPWphLGEuaW50ZXJwb2xhdGVDdWJlaGVsaXhEZWZhdWx0PWthLGEuaW50ZXJwb2xhdGVSYWluYm93PVQsYS5pbnRlcnBvbGF0ZVdhcm09bGEsYS5pbnRlcnBvbGF0ZUNvb2w9bWEsYS5pbnRlcnBvbGF0ZVZpcmlkaXM9b2EsYS5pbnRlcnBvbGF0ZU1hZ21hPXBhLGEuaW50ZXJwb2xhdGVJbmZlcm5vPXFhLGEuaW50ZXJwb2xhdGVQbGFzbWE9cmEsYS5zY2FsZVNlcXVlbnRpYWw9VixPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KX0seyJkMy1hcnJheSI6MSwiZDMtY29sbGVjdGlvbiI6MiwiZDMtY29sb3IiOjMsImQzLWZvcm1hdCI6NSwiZDMtaW50ZXJwb2xhdGUiOjYsImQzLXRpbWUiOjksImQzLXRpbWUtZm9ybWF0Ijo4fV0sODpbZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihkLGUpeyJvYmplY3QiPT10eXBlb2YgYyYmInVuZGVmaW5lZCIhPXR5cGVvZiBiP2UoYyxhKCJkMy10aW1lIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImQzLXRpbWUiXSxlKTplKGQuZDM9ZC5kM3x8e30sZC5kMyl9KHRoaXMsZnVuY3Rpb24oYSxiKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYyhhKXtpZigwPD1hLnkmJmEueTwxMDApe3ZhciBiPW5ldyBEYXRlKCgtMSksYS5tLGEuZCxhLkgsYS5NLGEuUyxhLkwpO3JldHVybiBiLnNldEZ1bGxZZWFyKGEueSksYn1yZXR1cm4gbmV3IERhdGUoYS55LGEubSxhLmQsYS5ILGEuTSxhLlMsYS5MKX1mdW5jdGlvbiBkKGEpe2lmKDA8PWEueSYmYS55PDEwMCl7dmFyIGI9bmV3IERhdGUoRGF0ZS5VVEMoLTEsYS5tLGEuZCxhLkgsYS5NLGEuUyxhLkwpKTtyZXR1cm4gYi5zZXRVVENGdWxsWWVhcihhLnkpLGJ9cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGEueSxhLm0sYS5kLGEuSCxhLk0sYS5TLGEuTCkpfWZ1bmN0aW9uIGUoYSl7cmV0dXJue3k6YSxtOjAsZDoxLEg6MCxNOjAsUzowLEw6MH19ZnVuY3Rpb24gZihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnPVtdLGg9LTEsaT0wLGo9YS5sZW5ndGg7Zm9yKGMgaW5zdGFuY2VvZiBEYXRlfHwoYz1uZXcgRGF0ZSgoK2MpKSk7KytoPGo7KTM3PT09YS5jaGFyQ29kZUF0KGgpJiYoZy5wdXNoKGEuc2xpY2UoaSxoKSksbnVsbCE9KGU9ZGFbZD1hLmNoYXJBdCgrK2gpXSk/ZD1hLmNoYXJBdCgrK2gpOmU9ImUiPT09ZD8iICI6IjAiLChmPWJbZF0pJiYoZD1mKGMsZSkpLGcucHVzaChkKSxpPWgrMSk7cmV0dXJuIGcucHVzaChhLnNsaWNlKGksaCkpLGcuam9pbigiIil9fWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGY9ZSgxOTAwKSxoPWcoZixhLGMrPSIiLDApO2lmKGghPWMubGVuZ3RoKXJldHVybiBudWxsO2lmKCJwImluIGYmJihmLkg9Zi5IJTEyKzEyKmYucCksIlciaW4gZnx8IlUiaW4gZil7InciaW4gZnx8KGYudz0iVyJpbiBmPzE6MCk7dmFyIGk9IloiaW4gZj9kKGUoZi55KSkuZ2V0VVRDRGF5KCk6YihlKGYueSkpLmdldERheSgpO2YubT0wLGYuZD0iVyJpbiBmPyhmLncrNiklNys3KmYuVy0oaSs1KSU3OmYudys3KmYuVS0oaSs2KSU3fXJldHVybiJaImluIGY/KGYuSCs9Zi5aLzEwMHwwLGYuTSs9Zi5aJTEwMCxkKGYpKTpiKGYpfX1mdW5jdGlvbiBnKGEsYixjLGQpe2Zvcih2YXIgZSxmLGc9MCxoPWIubGVuZ3RoLGk9Yy5sZW5ndGg7ZzxoOyl7aWYoZD49aSlyZXR1cm4tMTtpZihlPWIuY2hhckNvZGVBdChnKyspLDM3PT09ZSl7aWYoZT1iLmNoYXJBdChnKyspLGY9TGFbZSBpbiBkYT9iLmNoYXJBdChnKyspOmVdLCFmfHwoZD1mKGEsYyxkKSk8MClyZXR1cm4tMX1lbHNlIGlmKGUhPWMuY2hhckNvZGVBdChkKyspKXJldHVybi0xfXJldHVybiBkfWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPXphLmV4ZWMoYi5zbGljZShjKSk7cmV0dXJuIGQ/KGEucD1BYVtkWzBdLnRvTG93ZXJDYXNlKCldLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIF8oYSxiLGMpe3ZhciBkPURhLmV4ZWMoYi5zbGljZShjKSk7cmV0dXJuIGQ/KGEudz1FYVtkWzBdLnRvTG93ZXJDYXNlKCldLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGFhKGEsYixjKXt2YXIgZD1CYS5leGVjKGIuc2xpY2UoYykpO3JldHVybiBkPyhhLnc9Q2FbZFswXS50b0xvd2VyQ2FzZSgpXSxjK2RbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBiYShhLGIsYyl7dmFyIGQ9SGEuZXhlYyhiLnNsaWNlKGMpKTtyZXR1cm4gZD8oYS5tPUlhW2RbMF0udG9Mb3dlckNhc2UoKV0sYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gY2EoYSxiLGMpe3ZhciBkPUZhLmV4ZWMoYi5zbGljZShjKSk7cmV0dXJuIGQ/KGEubT1HYVtkWzBdLnRvTG93ZXJDYXNlKCldLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGVhKGEsYixjKXtyZXR1cm4gZyhhLHJhLGIsYyl9ZnVuY3Rpb24gZmEoYSxiLGMpe3JldHVybiBnKGEsc2EsYixjKX1mdW5jdGlvbiBnYShhLGIsYyl7cmV0dXJuIGcoYSx0YSxiLGMpfWZ1bmN0aW9uIGhhKGEpe3JldHVybiB3YVthLmdldERheSgpXX1mdW5jdGlvbiBpYShhKXtyZXR1cm4gdmFbYS5nZXREYXkoKV19ZnVuY3Rpb24gamEoYSl7cmV0dXJuIHlhW2EuZ2V0TW9udGgoKV19ZnVuY3Rpb24ga2EoYSl7cmV0dXJuIHhhW2EuZ2V0TW9udGgoKV19ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIHVhWysoYS5nZXRIb3VycygpPj0xMildfWZ1bmN0aW9uIG1hKGEpe3JldHVybiB3YVthLmdldFVUQ0RheSgpXX1mdW5jdGlvbiBuYShhKXtyZXR1cm4gdmFbYS5nZXRVVENEYXkoKV19ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIHlhW2EuZ2V0VVRDTW9udGgoKV19ZnVuY3Rpb24gcGEoYSl7cmV0dXJuIHhhW2EuZ2V0VVRDTW9udGgoKV19ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIHVhWysoYS5nZXRVVENIb3VycygpPj0xMildfXZhciByYT1hLmRhdGVUaW1lLHNhPWEuZGF0ZSx0YT1hLnRpbWUsdWE9YS5wZXJpb2RzLHZhPWEuZGF5cyx3YT1hLnNob3J0RGF5cyx4YT1hLm1vbnRocyx5YT1hLnNob3J0TW9udGhzLHphPWkodWEpLEFhPWoodWEpLEJhPWkodmEpLENhPWoodmEpLERhPWkod2EpLEVhPWood2EpLEZhPWkoeGEpLEdhPWooeGEpLEhhPWkoeWEpLElhPWooeWEpLEphPXthOmhhLEE6aWEsYjpqYSxCOmthLGM6bnVsbCxkOnksZTp5LEg6eixJOkEsajpCLEw6QyxtOkQsTTpFLHA6bGEsUzpGLFU6Ryx3OkgsVzpJLHg6bnVsbCxYOm51bGwseTpKLFk6SyxaOkwsIiUiOiR9LEthPXthOm1hLEE6bmEsYjpvYSxCOnBhLGM6bnVsbCxkOk0sZTpNLEg6TixJOk8sajpQLEw6USxtOlIsTTpTLHA6cWEsUzpULFU6VSx3OlYsVzpXLHg6bnVsbCxYOm51bGwseTpYLFk6WSxaOlosIiUiOiR9LExhPXthOl8sQTphYSxiOmJhLEI6Y2EsYzplYSxkOnIsZTpyLEg6dCxJOnQsajpzLEw6dyxtOnEsTTp1LHA6aCxTOnYsVTpsLHc6ayxXOm0seDpmYSxYOmdhLHk6byxZOm4sWjpwLCIlIjp4fTtyZXR1cm4gSmEueD1iKHNhLEphKSxKYS5YPWIodGEsSmEpLEphLmM9YihyYSxKYSksS2EueD1iKHNhLEthKSxLYS5YPWIodGEsS2EpLEthLmM9YihyYSxLYSkse2Zvcm1hdDpmdW5jdGlvbihhKXt2YXIgYz1iKGErPSIiLEphKTtyZXR1cm4gYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBhfSxjfSxwYXJzZTpmdW5jdGlvbihhKXt2YXIgYj1mKGErPSIiLGMpO3JldHVybiBiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LGJ9LHV0Y0Zvcm1hdDpmdW5jdGlvbihhKXt2YXIgYz1iKGErPSIiLEthKTtyZXR1cm4gYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBhfSxjfSx1dGNQYXJzZTpmdW5jdGlvbihhKXt2YXIgYj1mKGEsZCk7cmV0dXJuIGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sYn19fWZ1bmN0aW9uIGcoYSxiLGMpe3ZhciBkPWE8MD8iLSI6IiIsZT0oZD8tYTphKSsiIixmPWUubGVuZ3RoO3JldHVybiBkKyhmPGM/bmV3IEFycmF5KGMtZisxKS5qb2luKGIpK2U6ZSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gYS5yZXBsYWNlKGdhLCJcXCQmIil9ZnVuY3Rpb24gaShhKXtyZXR1cm4gbmV3IFJlZ0V4cCgiXig/OiIrYS5tYXAoaCkuam9pbigifCIpKyIpIiwiaSIpfWZ1bmN0aW9uIGooYSl7Zm9yKHZhciBiPXt9LGM9LTEsZD1hLmxlbmd0aDsrK2M8ZDspYlthW2NdLnRvTG93ZXJDYXNlKCldPWM7cmV0dXJuIGJ9ZnVuY3Rpb24gayhhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMsYysxKSk7cmV0dXJuIGQ/KGEudz0rZFswXSxjK2RbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD1lYS5leGVjKGIuc2xpY2UoYykpO3JldHVybiBkPyhhLlU9K2RbMF0sYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMpKTtyZXR1cm4gZD8oYS5XPStkWzBdLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPWVhLmV4ZWMoYi5zbGljZShjLGMrNCkpO3JldHVybiBkPyhhLnk9K2RbMF0sYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gbyhhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMsYysyKSk7cmV0dXJuIGQ/KGEueT0rZFswXSsoK2RbMF0+Njg/MTkwMDoyZTMpLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBkPS9eKFopfChbKy1dXGRcZCkoPzpcOj8oXGRcZCkpPy8uZXhlYyhiLnNsaWNlKGMsYys2KSk7cmV0dXJuIGQ/KGEuWj1kWzFdPzA6LShkWzJdKyhkWzNdfHwiMDAiKSksYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMsYysyKSk7cmV0dXJuIGQ/KGEubT1kWzBdLTEsYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMsYysyKSk7cmV0dXJuIGQ/KGEuZD0rZFswXSxjK2RbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBzKGEsYixjKXt2YXIgZD1lYS5leGVjKGIuc2xpY2UoYyxjKzMpKTtyZXR1cm4gZD8oYS5tPTAsYS5kPStkWzBdLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHQoYSxiLGMpe3ZhciBkPWVhLmV4ZWMoYi5zbGljZShjLGMrMikpO3JldHVybiBkPyhhLkg9K2RbMF0sYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gdShhLGIsYyl7dmFyIGQ9ZWEuZXhlYyhiLnNsaWNlKGMsYysyKSk7cmV0dXJuIGQ/KGEuTT0rZFswXSxjK2RbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiB2KGEsYixjKXt2YXIgZD1lYS5leGVjKGIuc2xpY2UoYyxjKzIpKTtyZXR1cm4gZD8oYS5TPStkWzBdLGMrZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHcoYSxiLGMpe3ZhciBkPWVhLmV4ZWMoYi5zbGljZShjLGMrMykpO3JldHVybiBkPyhhLkw9K2RbMF0sYytkWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9ZmEuZXhlYyhiLnNsaWNlKGMsYysxKSk7cmV0dXJuIGQ/YytkWzBdLmxlbmd0aDotMX1mdW5jdGlvbiB5KGEsYil7cmV0dXJuIGcoYS5nZXREYXRlKCksYiwyKX1mdW5jdGlvbiB6KGEsYil7cmV0dXJuIGcoYS5nZXRIb3VycygpLGIsMil9ZnVuY3Rpb24gQShhLGIpe3JldHVybiBnKGEuZ2V0SG91cnMoKSUxMnx8MTIsYiwyKX1mdW5jdGlvbiBCKGEsYyl7cmV0dXJuIGcoMStiLnRpbWVEYXkuY291bnQoYi50aW1lWWVhcihhKSxhKSxjLDMpfWZ1bmN0aW9uIEMoYSxiKXtyZXR1cm4gZyhhLmdldE1pbGxpc2Vjb25kcygpLGIsMyl9ZnVuY3Rpb24gRChhLGIpe3JldHVybiBnKGEuZ2V0TW9udGgoKSsxLGIsMil9ZnVuY3Rpb24gRShhLGIpe3JldHVybiBnKGEuZ2V0TWludXRlcygpLGIsMil9ZnVuY3Rpb24gRihhLGIpe3JldHVybiBnKGEuZ2V0U2Vjb25kcygpLGIsMil9ZnVuY3Rpb24gRyhhLGMpe3JldHVybiBnKGIudGltZVN1bmRheS5jb3VudChiLnRpbWVZZWFyKGEpLGEpLGMsMil9ZnVuY3Rpb24gSChhKXtyZXR1cm4gYS5nZXREYXkoKX1mdW5jdGlvbiBJKGEsYyl7cmV0dXJuIGcoYi50aW1lTW9uZGF5LmNvdW50KGIudGltZVllYXIoYSksYSksYywyKX1mdW5jdGlvbiBKKGEsYil7cmV0dXJuIGcoYS5nZXRGdWxsWWVhcigpJTEwMCxiLDIpfWZ1bmN0aW9uIEsoYSxiKXtyZXR1cm4gZyhhLmdldEZ1bGxZZWFyKCklMWU0LGIsNCl9ZnVuY3Rpb24gTChhKXt2YXIgYj1hLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuKGI+MD8iLSI6KGIqPS0xLCIrIikpK2coYi82MHwwLCIwIiwyKStnKGIlNjAsIjAiLDIpfWZ1bmN0aW9uIE0oYSxiKXtyZXR1cm4gZyhhLmdldFVUQ0RhdGUoKSxiLDIpfWZ1bmN0aW9uIE4oYSxiKXtyZXR1cm4gZyhhLmdldFVUQ0hvdXJzKCksYiwyKX1mdW5jdGlvbiBPKGEsYil7cmV0dXJuIGcoYS5nZXRVVENIb3VycygpJTEyfHwxMixiLDIpfWZ1bmN0aW9uIFAoYSxjKXtyZXR1cm4gZygxK2IudXRjRGF5LmNvdW50KGIudXRjWWVhcihhKSxhKSxjLDMpfWZ1bmN0aW9uIFEoYSxiKXtyZXR1cm4gZyhhLmdldFVUQ01pbGxpc2Vjb25kcygpLGIsMyl9ZnVuY3Rpb24gUihhLGIpe3JldHVybiBnKGEuZ2V0VVRDTW9udGgoKSsxLGIsMil9ZnVuY3Rpb24gUyhhLGIpe3JldHVybiBnKGEuZ2V0VVRDTWludXRlcygpLGIsMil9ZnVuY3Rpb24gVChhLGIpe3JldHVybiBnKGEuZ2V0VVRDU2Vjb25kcygpLGIsMil9ZnVuY3Rpb24gVShhLGMpe3JldHVybiBnKGIudXRjU3VuZGF5LmNvdW50KGIudXRjWWVhcihhKSxhKSxjLDIpfWZ1bmN0aW9uIFYoYSl7cmV0dXJuIGEuZ2V0VVRDRGF5KCl9ZnVuY3Rpb24gVyhhLGMpe3JldHVybiBnKGIudXRjTW9uZGF5LmNvdW50KGIudXRjWWVhcihhKSxhKSxjLDIpfWZ1bmN0aW9uIFgoYSxiKXtyZXR1cm4gZyhhLmdldFVUQ0Z1bGxZZWFyKCklMTAwLGIsMil9ZnVuY3Rpb24gWShhLGIpe3JldHVybiBnKGEuZ2V0VVRDRnVsbFllYXIoKSUxZTQsYiw0KX1mdW5jdGlvbiBaKCl7cmV0dXJuIiswMDAwIn1mdW5jdGlvbiAkKCl7cmV0dXJuIiUifWZ1bmN0aW9uIF8oYil7cmV0dXJuIGNhPWYoYiksYS50aW1lRm9ybWF0PWNhLmZvcm1hdCxhLnRpbWVQYXJzZT1jYS5wYXJzZSxhLnV0Y0Zvcm1hdD1jYS51dGNGb3JtYXQsYS51dGNQYXJzZT1jYS51dGNQYXJzZSxjYX1mdW5jdGlvbiBhYShhKXtyZXR1cm4gYS50b0lTT1N0cmluZygpfWZ1bmN0aW9uIGJhKGEpe3ZhciBiPW5ldyBEYXRlKGEpO3JldHVybiBpc05hTihiKT9udWxsOmJ9dmFyIGNhLGRhPXsiLSI6IiIsXzoiICIsMDoiMCJ9LGVhPS9eXHMqXGQrLyxmYT0vXiUvLGdhPS9bXFxcXlwkXCpcK1w/XHxcW1xdXChcKVwuXHtcfV0vZztfKHtkYXRlVGltZToiJXgsICVYIixkYXRlOiIlLW0vJS1kLyVZIix0aW1lOiIlLUk6JU06JVMgJXAiLHBlcmlvZHM6WyJBTSIsIlBNIl0sZGF5czpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sc2hvcnREYXlzOlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sbW9udGhzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxzaG9ydE1vbnRoczpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdfSk7dmFyIGhhPSIlWS0lbS0lZFQlSDolTTolUy4lTFoiLGlhPURhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nP2FhOmEudXRjRm9ybWF0KGhhKSxqYT0rbmV3IERhdGUoIjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWiIpP2JhOmEudXRjUGFyc2UoaGEpO2EudGltZUZvcm1hdERlZmF1bHRMb2NhbGU9XyxhLnRpbWVGb3JtYXRMb2NhbGU9ZixhLmlzb0Zvcm1hdD1pYSxhLmlzb1BhcnNlPWphLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfSx7ImQzLXRpbWUiOjl9XSw5OltmdW5jdGlvbihhLGIsYyl7IWZ1bmN0aW9uKGEsZCl7Im9iamVjdCI9PXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGI/ZChjKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxkKTpkKGEuZDM9YS5kM3x8e30pfSh0aGlzLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYyxkLGcpe2Z1bmN0aW9uIGgoYil7cmV0dXJuIGEoYj1uZXcgRGF0ZSgoK2IpKSksYn1yZXR1cm4gaC5mbG9vcj1oLGguY2VpbD1mdW5jdGlvbihiKXtyZXR1cm4gYShiPW5ldyBEYXRlKGItMSkpLGMoYiwxKSxhKGIpLGJ9LGgucm91bmQ9ZnVuY3Rpb24oYSl7dmFyIGI9aChhKSxjPWguY2VpbChhKTtyZXR1cm4gYS1iPGMtYT9iOmN9LGgub2Zmc2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGMoYT1uZXcgRGF0ZSgoK2EpKSxudWxsPT1iPzE6TWF0aC5mbG9vcihiKSksYX0saC5yYW5nZT1mdW5jdGlvbihiLGQsZSl7dmFyIGY9W107aWYoYj1oLmNlaWwoYiksZT1udWxsPT1lPzE6TWF0aC5mbG9vcihlKSwhKGI8ZCYmZT4wKSlyZXR1cm4gZjtkbyBmLnB1c2gobmV3IERhdGUoKCtiKSkpO3doaWxlKGMoYixlKSxhKGIpLGI8ZCk7cmV0dXJuIGZ9LGguZmlsdGVyPWZ1bmN0aW9uKGQpe3JldHVybiBiKGZ1bmN0aW9uKGIpe2Zvcig7YShiKSwhZChiKTspYi5zZXRUaW1lKGItMSl9LGZ1bmN0aW9uKGEsYil7Zm9yKDstLWI+PTA7KWZvcig7YyhhLDEpLCFkKGEpOyk7fSl9LGQmJihoLmNvdW50PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGUuc2V0VGltZSgrYiksZi5zZXRUaW1lKCtjKSxhKGUpLGEoZiksTWF0aC5mbG9vcihkKGUsZikpfSxoLmV2ZXJ5PWZ1bmN0aW9uKGEpe3JldHVybiBhPU1hdGguZmxvb3IoYSksaXNGaW5pdGUoYSkmJmE+MD9hPjE/aC5maWx0ZXIoZz9mdW5jdGlvbihiKXtyZXR1cm4gZyhiKSVhPT09MH06ZnVuY3Rpb24oYil7cmV0dXJuIGguY291bnQoMCxiKSVhPT09MH0pOmg6bnVsbH0pLGh9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYihmdW5jdGlvbihiKXtiLnNldERhdGUoYi5nZXREYXRlKCktKGIuZ2V0RGF5KCkrNy1hKSU3KSxiLnNldEhvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihhLGIpe2Euc2V0RGF0ZShhLmdldERhdGUoKSs3KmIpfSxmdW5jdGlvbihhLGIpe3JldHVybihiLWEtKGIuZ2V0VGltZXpvbmVPZmZzZXQoKS1hLmdldFRpbWV6b25lT2Zmc2V0KCkpKmopL219KX1mdW5jdGlvbiBkKGEpe3JldHVybiBiKGZ1bmN0aW9uKGIpe2Iuc2V0VVRDRGF0ZShiLmdldFVUQ0RhdGUoKS0oYi5nZXRVVENEYXkoKSs3LWEpJTcpLGIuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGEsYil7YS5zZXRVVENEYXRlKGEuZ2V0VVRDRGF0ZSgpKzcqYil9LGZ1bmN0aW9uKGEsYil7cmV0dXJuKGItYSkvbX0pfXZhciBlPW5ldyBEYXRlLGY9bmV3IERhdGUsZz1iKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbihhLGIpe2Euc2V0VGltZSgrYStiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi1hfSk7Zy5ldmVyeT1mdW5jdGlvbihhKXtyZXR1cm4gYT1NYXRoLmZsb29yKGEpLGlzRmluaXRlKGEpJiZhPjA/YT4xP2IoZnVuY3Rpb24oYil7Yi5zZXRUaW1lKE1hdGguZmxvb3IoYi9hKSphKX0sZnVuY3Rpb24oYixjKXtiLnNldFRpbWUoK2IrYyphKX0sZnVuY3Rpb24oYixjKXtyZXR1cm4oYy1iKS9hfSk6ZzpudWxsfTt2YXIgaD1nLnJhbmdlLGk9MWUzLGo9NmU0LGs9MzZlNSxsPTg2NGU1LG09NjA0OGU1LG49YihmdW5jdGlvbihhKXthLnNldFRpbWUoTWF0aC5mbG9vcihhL2kpKmkpfSxmdW5jdGlvbihhLGIpe2Euc2V0VGltZSgrYStiKmkpfSxmdW5jdGlvbihhLGIpe3JldHVybihiLWEpL2l9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ1NlY29uZHMoKX0pLG89bi5yYW5nZSxwPWIoZnVuY3Rpb24oYSl7YS5zZXRUaW1lKE1hdGguZmxvb3IoYS9qKSpqKX0sZnVuY3Rpb24oYSxiKXthLnNldFRpbWUoK2ErYipqKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4oYi1hKS9qfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaW51dGVzKCl9KSxxPXAucmFuZ2Uscj1iKGZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0VGltZXpvbmVPZmZzZXQoKSpqJWs7YjwwJiYoYis9ayksYS5zZXRUaW1lKE1hdGguZmxvb3IoKCthLWIpL2spKmsrYil9LGZ1bmN0aW9uKGEsYil7YS5zZXRUaW1lKCthK2Iqayl9LGZ1bmN0aW9uKGEsYil7cmV0dXJuKGItYSkva30sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0SG91cnMoKX0pLHM9ci5yYW5nZSx0PWIoZnVuY3Rpb24oYSl7YS5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24oYSxiKXthLnNldERhdGUoYS5nZXREYXRlKCkrYil9LGZ1bmN0aW9uKGEsYil7cmV0dXJuKGItYS0oYi5nZXRUaW1lem9uZU9mZnNldCgpLWEuZ2V0VGltZXpvbmVPZmZzZXQoKSkqaikvbH0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RGF0ZSgpLTF9KSx1PXQucmFuZ2Usdj1jKDApLHc9YygxKSx4PWMoMikseT1jKDMpLHo9Yyg0KSxBPWMoNSksQj1jKDYpLEM9di5yYW5nZSxEPXcucmFuZ2UsRT14LnJhbmdlLEY9eS5yYW5nZSxHPXoucmFuZ2UsSD1BLnJhbmdlLEk9Qi5yYW5nZSxKPWIoZnVuY3Rpb24oYSl7YS5zZXREYXRlKDEpLGEuc2V0SG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGEsYil7YS5zZXRNb250aChhLmdldE1vbnRoKCkrYil9LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuZ2V0TW9udGgoKS1hLmdldE1vbnRoKCkrMTIqKGIuZ2V0RnVsbFllYXIoKS1hLmdldEZ1bGxZZWFyKCkpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNb250aCgpfSksSz1KLnJhbmdlLEw9YihmdW5jdGlvbihhKXthLnNldE1vbnRoKDAsMSksYS5zZXRIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24oYSxiKXthLnNldEZ1bGxZZWFyKGEuZ2V0RnVsbFllYXIoKStiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5nZXRGdWxsWWVhcigpLWEuZ2V0RnVsbFllYXIoKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RnVsbFllYXIoKX0pO0wuZXZlcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGlzRmluaXRlKGE9TWF0aC5mbG9vcihhKSkmJmE+MD9iKGZ1bmN0aW9uKGIpe2Iuc2V0RnVsbFllYXIoTWF0aC5mbG9vcihiLmdldEZ1bGxZZWFyKCkvYSkqYSksYi5zZXRNb250aCgwLDEpLGIuc2V0SG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGIsYyl7Yi5zZXRGdWxsWWVhcihiLmdldEZ1bGxZZWFyKCkrYyphKX0pOm51bGx9O3ZhciBNPUwucmFuZ2UsTj1iKGZ1bmN0aW9uKGEpe2Euc2V0VVRDU2Vjb25kcygwLDApfSxmdW5jdGlvbihhLGIpe2Euc2V0VGltZSgrYStiKmopfSxmdW5jdGlvbihhLGIpe3JldHVybihiLWEpL2p9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ01pbnV0ZXMoKX0pLE89Ti5yYW5nZSxQPWIoZnVuY3Rpb24oYSl7YS5zZXRVVENNaW51dGVzKDAsMCwwKX0sZnVuY3Rpb24oYSxiKXthLnNldFRpbWUoK2ErYiprKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4oYi1hKS9rfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENIb3VycygpfSksUT1QLnJhbmdlLFI9YihmdW5jdGlvbihhKXthLnNldFVUQ0hvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihhLGIpe2Euc2V0VVRDRGF0ZShhLmdldFVUQ0RhdGUoKStiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4oYi1hKS9sfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENEYXRlKCktMX0pLFM9Ui5yYW5nZSxUPWQoMCksVT1kKDEpLFY9ZCgyKSxXPWQoMyksWD1kKDQpLFk9ZCg1KSxaPWQoNiksJD1ULnJhbmdlLF89VS5yYW5nZSxhYT1WLnJhbmdlLGJhPVcucmFuZ2UsY2E9WC5yYW5nZSxkYT1ZLnJhbmdlLGVhPVoucmFuZ2UsZmE9YihmdW5jdGlvbihhKXthLnNldFVUQ0RhdGUoMSksYS5zZXRVVENIb3VycygwLDAsMCwwKX0sZnVuY3Rpb24oYSxiKXthLnNldFVUQ01vbnRoKGEuZ2V0VVRDTW9udGgoKStiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5nZXRVVENNb250aCgpLWEuZ2V0VVRDTW9udGgoKSsxMiooYi5nZXRVVENGdWxsWWVhcigpLWEuZ2V0VVRDRnVsbFllYXIoKSl9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ01vbnRoKCl9KSxnYT1mYS5yYW5nZSxoYT1iKGZ1bmN0aW9uKGEpe2Euc2V0VVRDTW9udGgoMCwxKSxhLnNldFVUQ0hvdXJzKDAsMCwwLDApfSxmdW5jdGlvbihhLGIpe2Euc2V0VVRDRnVsbFllYXIoYS5nZXRVVENGdWxsWWVhcigpK2IpfSxmdW5jdGlvbihhLGIpe3JldHVybiBiLmdldFVUQ0Z1bGxZZWFyKCktYS5nZXRVVENGdWxsWWVhcigpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENGdWxsWWVhcigpfSk7aGEuZXZlcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGlzRmluaXRlKGE9TWF0aC5mbG9vcihhKSkmJmE+MD9iKGZ1bmN0aW9uKGIpe2Iuc2V0VVRDRnVsbFllYXIoTWF0aC5mbG9vcihiLmdldFVUQ0Z1bGxZZWFyKCkvYSkqYSksYi5zZXRVVENNb250aCgwLDEpLGIuc2V0VVRDSG91cnMoMCwwLDAsMCl9LGZ1bmN0aW9uKGIsYyl7Yi5zZXRVVENGdWxsWWVhcihiLmdldFVUQ0Z1bGxZZWFyKCkrYyphKX0pOm51bGx9O3ZhciBpYT1oYS5yYW5nZTthLnRpbWVJbnRlcnZhbD1iLGEudGltZU1pbGxpc2Vjb25kPWcsYS50aW1lTWlsbGlzZWNvbmRzPWgsYS51dGNNaWxsaXNlY29uZD1nLGEudXRjTWlsbGlzZWNvbmRzPWgsYS50aW1lU2Vjb25kPW4sYS50aW1lU2Vjb25kcz1vLGEudXRjU2Vjb25kPW4sYS51dGNTZWNvbmRzPW8sYS50aW1lTWludXRlPXAsYS50aW1lTWludXRlcz1xLGEudGltZUhvdXI9cixhLnRpbWVIb3Vycz1zLGEudGltZURheT10LGEudGltZURheXM9dSxhLnRpbWVXZWVrPXYsYS50aW1lV2Vla3M9QyxhLnRpbWVTdW5kYXk9dixhLnRpbWVTdW5kYXlzPUMsYS50aW1lTW9uZGF5PXcsYS50aW1lTW9uZGF5cz1ELGEudGltZVR1ZXNkYXk9eCxhLnRpbWVUdWVzZGF5cz1FLGEudGltZVdlZG5lc2RheT15LGEudGltZVdlZG5lc2RheXM9RixhLnRpbWVUaHVyc2RheT16LGEudGltZVRodXJzZGF5cz1HLGEudGltZUZyaWRheT1BLGEudGltZUZyaWRheXM9SCxhLnRpbWVTYXR1cmRheT1CLGEudGltZVNhdHVyZGF5cz1JLGEudGltZU1vbnRoPUosYS50aW1lTW9udGhzPUssYS50aW1lWWVhcj1MLGEudGltZVllYXJzPU0sYS51dGNNaW51dGU9TixhLnV0Y01pbnV0ZXM9TyxhLnV0Y0hvdXI9UCxhLnV0Y0hvdXJzPVEsYS51dGNEYXk9UixhLnV0Y0RheXM9UyxhLnV0Y1dlZWs9VCxhLnV0Y1dlZWtzPSQsYS51dGNTdW5kYXk9VCxhLnV0Y1N1bmRheXM9JCxhLnV0Y01vbmRheT1VLGEudXRjTW9uZGF5cz1fLGEudXRjVHVlc2RheT1WLGEudXRjVHVlc2RheXM9YWEsYS51dGNXZWRuZXNkYXk9VyxhLnV0Y1dlZG5lc2RheXM9YmEsYS51dGNUaHVyc2RheT1YLGEudXRjVGh1cnNkYXlzPWNhLGEudXRjRnJpZGF5PVksYS51dGNGcmlkYXlzPWRhLGEudXRjU2F0dXJkYXk9WixhLnV0Y1NhdHVyZGF5cz1lYSxhLnV0Y01vbnRoPWZhLGEudXRjTW9udGhzPWdhLGEudXRjWWVhcj1oYSxhLnV0Y1llYXJzPWlhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfSx7fV0sMTA6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19ZnVuY3Rpb24gZSgpe2Z1bmN0aW9uIGEoYSl7dmFyIGg9Zy5kZWZhdWx0LmQzX2NhbGNUeXBlKGMsdyxtLG4scix1KSxpPWEuc2VsZWN0QWxsKCJnIikuZGF0YShbY10pO2kuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbysibGVnZW5kQ2VsbHMiKTt2YXIgaj1hLnNlbGVjdCgiLiIrbysibGVnZW5kQ2VsbHMiKS5zZWxlY3RBbGwoIi4iK28rImNlbGwiKS5kYXRhKGguZGF0YSkseT1qLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLG8rImNlbGwiKSx6PSh5LmFwcGVuZChkKS5hdHRyKCJjbGFzcyIsbysic3dhdGNoIiksYS5zZWxlY3RBbGwoImcuIitvKyJjZWxsICIrZCkpO2cuZGVmYXVsdC5kM19hZGRFdmVudHMoeSx4KSxqLmV4aXQoKS50cmFuc2l0aW9uKCkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGcuZGVmYXVsdC5kM19kcmF3U2hhcGVzKGQseixmLGUsayxiKSxnLmRlZmF1bHQuZDNfYWRkVGV4dChhLHksaC5sYWJlbHMsbyk7dmFyIEE9eS5zZWxlY3RBbGwoInRleHQiKSxCPXoubm9kZXMoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QkJveCgpfSk7cD96LmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4gbysic3dhdGNoICIraC5mZWF0dXJlKGEpfSk6ImxpbmUiPT1kP3ouc3R5bGUoInN0cm9rZSIsaC5mZWF0dXJlKTp6LnN0eWxlKCJmaWxsIixoLmZlYXR1cmUpO3ZhciBDLEQsRT0ic3RhcnQiPT10PzA6Im1pZGRsZSI9PXQ/LjU6MTsidmVydGljYWwiPT09dj8oQz1mdW5jdGlvbihhLGIpe3JldHVybiJ0cmFuc2xhdGUoMCwgIitiKihCW2JdLmhlaWdodCtsKSsiKSJ9LEQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4idHJhbnNsYXRlKCIrKEJbYl0ud2lkdGgrQltiXS54K3MpKyIsIisoQltiXS55K0JbYl0uaGVpZ2h0LzIrNSkrIikifSk6Imhvcml6b250YWwiPT09diYmKEM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4idHJhbnNsYXRlKCIrYiooQltiXS53aWR0aCtsKSsiLDApIn0sRD1mdW5jdGlvbihhLGIpe3JldHVybiJ0cmFuc2xhdGUoIisoQltiXS53aWR0aCpFK0JbYl0ueCkrIiwiKyhCW2JdLmhlaWdodCtCW2JdLnkrcys4KSsiKSJ9KSxnLmRlZmF1bHQuZDNfcGxhY2VtZW50KHYseSxDLEEsRCx0KSwKZy5kZWZhdWx0LmQzX3RpdGxlKGEscSxvKSxqLnRyYW5zaXRpb24oKS5zdHlsZSgib3BhY2l0eSIsMSl9dmFyIGIsYz0oMCxpLnNjYWxlTGluZWFyKSgpLGQ9InJlY3QiLGU9MTUsZj0xNSxrPTEwLGw9MixtPVs1XSxuPVtdLG89IiIscD0hMSxxPSIiLHI9KDAsai5mb3JtYXQpKCIuMDFmIikscz0xMCx0PSJtaWRkbGUiLHU9InRvIix2PSJ2ZXJ0aWNhbCIsdz0hMSx4PSgwLGguZGlzcGF0Y2gpKCJjZWxsb3ZlciIsImNlbGxvdXQiLCJjZWxsY2xpY2siKTtyZXR1cm4gYS5zY2FsZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1iLGEpOmN9LGEuY2VsbHM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KChiLmxlbmd0aD4xfHxiPj0yKSYmKG09YiksYSk6bX0sYS5zaGFwZT1mdW5jdGlvbihjLGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygoInJlY3QiPT1jfHwiY2lyY2xlIj09Y3x8ImxpbmUiPT1jfHwicGF0aCI9PWMmJiJzdHJpbmciPT10eXBlb2YgZSkmJihkPWMsYj1lKSxhKTpkfSxhLnNoYXBlV2lkdGg9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9K2IsYSk6ZX0sYS5zaGFwZUhlaWdodD1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj0rYixhKTpmfSxhLnNoYXBlUmFkaXVzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPStiLGEpOmt9LGEuc2hhcGVQYWRkaW5nPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPStiLGEpOmx9LGEubGFiZWxzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPWIsYSk6bn0sYS5sYWJlbEFsaWduPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygic3RhcnQiIT1iJiYiZW5kIiE9YiYmIm1pZGRsZSIhPWJ8fCh0PWIpLGEpOnR9LGEubGFiZWxGb3JtYXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9YixhKTpyfSxhLmxhYmVsT2Zmc2V0PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPStiLGEpOnN9LGEubGFiZWxEZWxpbWl0ZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9YixhKTp1fSxhLnVzZUNsYXNzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiIT09ITAmJmIhPT0hMXx8KHA9YiksYSk6cH0sYS5vcmllbnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9Yi50b0xvd2VyQ2FzZSgpLCJob3Jpem9udGFsIiE9YiYmInZlcnRpY2FsIiE9Ynx8KHY9YiksYSk6dn0sYS5hc2NlbmRpbmc9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHc9ISFiLGEpOnd9LGEuY2xhc3NQcmVmaXg9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89YixhKTpvfSxhLnRpdGxlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhxPWIsYSk6cX0sYS5vbj1mdW5jdGlvbigpe3ZhciBiPXgub24uYXBwbHkoeCxhcmd1bWVudHMpO3JldHVybiBiPT09eD9hOmJ9LGF9T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGMuZGVmYXVsdD1lO3ZhciBmPWEoIi4vbGVnZW5kIiksZz1kKGYpLGg9YSgiZDMtZGlzcGF0Y2giKSxpPWEoImQzLXNjYWxlIiksaj1hKCJkMy1mb3JtYXQiKX0seyIuL2xlZ2VuZCI6MTEsImQzLWRpc3BhdGNoIjo0LCJkMy1mb3JtYXQiOjUsImQzLXNjYWxlIjo3fV0sMTE6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGMuZGVmYXVsdD17ZDNfaWRlbnRpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGQzX21lcmdlTGFiZWxzOmZ1bmN0aW9uKGEsYil7aWYoMD09PWIubGVuZ3RoKXJldHVybiBhO2E9YT9hOltdO2Zvcih2YXIgYz1iLmxlbmd0aDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXSk7cmV0dXJuIGJ9LGQzX2xpbmVhckxlZ2VuZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107aWYoYi5sZW5ndGg+MSlkPWI7ZWxzZSBmb3IodmFyIGU9YS5kb21haW4oKSxmPShlW2UubGVuZ3RoLTFdLWVbMF0pLyhiLTEpLGc9MDtnPGI7ZysrKWQucHVzaChlWzBdK2cqZik7dmFyIGg9ZC5tYXAoYyk7cmV0dXJue2RhdGE6ZCxsYWJlbHM6aCxmZWF0dXJlOmZ1bmN0aW9uKGIpe3JldHVybiBhKGIpfX19LGQzX3F1YW50TGVnZW5kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnJhbmdlKCkubWFwKGZ1bmN0aW9uKGQpe3ZhciBlPWEuaW52ZXJ0RXh0ZW50KGQpO2IoZVswXSksYihlWzFdKTtyZXR1cm4gYihlWzBdKSsiICIrYysiICIrYihlWzFdKX0pO3JldHVybntkYXRhOmEucmFuZ2UoKSxsYWJlbHM6ZCxmZWF0dXJlOnRoaXMuZDNfaWRlbnRpdHl9fSxkM19vcmRpbmFsTGVnZW5kOmZ1bmN0aW9uKGEpe3JldHVybntkYXRhOmEuZG9tYWluKCksbGFiZWxzOmEuZG9tYWluKCksZmVhdHVyZTpmdW5jdGlvbihiKXtyZXR1cm4gYShiKX19fSxkM19kcmF3U2hhcGVzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXsicmVjdCI9PT1hP2IuYXR0cigiaGVpZ2h0IixjKS5hdHRyKCJ3aWR0aCIsZCk6ImNpcmNsZSI9PT1hP2IuYXR0cigiciIsZSk6ImxpbmUiPT09YT9iLmF0dHIoIngxIiwwKS5hdHRyKCJ4MiIsZCkuYXR0cigieTEiLDApLmF0dHIoInkyIiwwKToicGF0aCI9PT1hJiZiLmF0dHIoImQiLGYpfSxkM19hZGRUZXh0OmZ1bmN0aW9uKGEsYixjLGQpe2IuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLGQrImxhYmVsIiksYS5zZWxlY3RBbGwoImcuIitkKyJjZWxsIHRleHQiKS5kYXRhKGMpLnRleHQodGhpcy5kM19pZGVudGl0eSl9LGQzX2NhbGNUeXBlOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLmludmVydEV4dGVudD90aGlzLmQzX3F1YW50TGVnZW5kKGEsZSxmKTphLnRpY2tzP3RoaXMuZDNfbGluZWFyTGVnZW5kKGEsYyxlKTp0aGlzLmQzX29yZGluYWxMZWdlbmQoYSk7cmV0dXJuIGcubGFiZWxzPXRoaXMuZDNfbWVyZ2VMYWJlbHMoZy5sYWJlbHMsZCksYiYmKGcubGFiZWxzPXRoaXMuZDNfcmV2ZXJzZShnLmxhYmVscyksZy5kYXRhPXRoaXMuZDNfcmV2ZXJzZShnLmRhdGEpKSxnfSxkM19yZXZlcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWJbY109YVtkLWMtMV07cmV0dXJuIGJ9LGQzX3BsYWNlbWVudDpmdW5jdGlvbihhLGIsYyxkLGUsZil7Yi5hdHRyKCJ0cmFuc2Zvcm0iLGMpLGQuYXR0cigidHJhbnNmb3JtIixlKSwiaG9yaXpvbnRhbCI9PT1hJiZkLnN0eWxlKCJ0ZXh0LWFuY2hvciIsZil9LGQzX2FkZEV2ZW50czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YS5vbigibW91c2VvdmVyLmxlZ2VuZCIsZnVuY3Rpb24oYSl7Yy5kM19jZWxsT3ZlcihiLGEsdGhpcyl9KS5vbigibW91c2VvdXQubGVnZW5kIixmdW5jdGlvbihhKXtjLmQzX2NlbGxPdXQoYixhLHRoaXMpfSkub24oImNsaWNrLmxlZ2VuZCIsZnVuY3Rpb24oYSl7Yy5kM19jZWxsQ2xpY2soYixhLHRoaXMpfSl9LGQzX2NlbGxPdmVyOmZ1bmN0aW9uKGEsYixjKXthLmNhbGwoImNlbGxvdmVyIixjLGIpfSxkM19jZWxsT3V0OmZ1bmN0aW9uKGEsYixjKXthLmNhbGwoImNlbGxvdXQiLGMsYil9LGQzX2NlbGxDbGljazpmdW5jdGlvbihhLGIsYyl7YS5jYWxsKCJjZWxsY2xpY2siLGMsYil9LGQzX3RpdGxlOmZ1bmN0aW9uKGEsYixjKXtpZigiIiE9PWIpe3ZhciBkPWEuc2VsZWN0QWxsKCJ0ZXh0LiIrYysibGVnZW5kVGl0bGUiKTtkLmRhdGEoW2JdKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLmF0dHIoImNsYXNzIixjKyJsZWdlbmRUaXRsZSIpLGEuc2VsZWN0QWxsKCJ0ZXh0LiIrYysibGVnZW5kVGl0bGUiKS50ZXh0KGIpO3ZhciBlPWEuc2VsZWN0KCIuIitjKyJsZWdlbmRDZWxscyIpLGY9YS5zZWxlY3QoIi4iK2MrImxlZ2VuZFRpdGxlIikubm9kZXMoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QkJveCgpLmhlaWdodH0pWzBdLGc9LWUubm9kZXMoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QkJveCgpLnh9KVswXTtlLmF0dHIoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK2crIiwiKyhmKzEwKSsiKSIpfX19fSx7fV0sMTI6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19ZnVuY3Rpb24gZSgpe2Z1bmN0aW9uIGEoYSl7dmFyIGg9Zy5kZWZhdWx0LmQzX2NhbGNUeXBlKGMsdSxsLG0scCxzKSxpPWEuc2VsZWN0QWxsKCJnIikuZGF0YShbY10pO2kuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbisibGVnZW5kQ2VsbHMiKTt2YXIgaj1hLnNlbGVjdCgiLiIrbisibGVnZW5kQ2VsbHMiKS5zZWxlY3RBbGwoIi4iK24rImNlbGwiKS5kYXRhKGguZGF0YSksdz1qLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLG4rImNlbGwiKSx4PSh3LmFwcGVuZChkKS5hdHRyKCJjbGFzcyIsbisic3dhdGNoIiksYS5zZWxlY3RBbGwoImcuIituKyJjZWxsICIrZCkpO2cuZGVmYXVsdC5kM19hZGRFdmVudHModyx2KSxqLmV4aXQoKS50cmFuc2l0aW9uKCkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLCJsaW5lIj09PWQ/KGcuZGVmYXVsdC5kM19kcmF3U2hhcGVzKGQseCwwLGUpLHguYXR0cigic3Ryb2tlLXdpZHRoIixoLmZlYXR1cmUpKTpnLmRlZmF1bHQuZDNfZHJhd1NoYXBlcyhkLHgsaC5mZWF0dXJlLGguZmVhdHVyZSxoLmZlYXR1cmUsYiksZy5kZWZhdWx0LmQzX2FkZFRleHQoYSx3LGgubGFiZWxzLG4pO3ZhciB5LHosQT13LnNlbGVjdEFsbCgidGV4dCIpLEI9eC5ub2RlcygpLm1hcChmdW5jdGlvbihhLGIpe3ZhciBlPWEuZ2V0QkJveCgpLGY9YyhoLmRhdGFbYl0pO3JldHVybiJsaW5lIj09PWQmJiJob3Jpem9udGFsIj09PXQ/ZS5oZWlnaHQ9ZS5oZWlnaHQrZjoibGluZSI9PT1kJiYidmVydGljYWwiPT09dCYmKGUud2lkdGg9ZS53aWR0aCksZX0pLEM9KDAsay5tYXgpKEIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGVpZ2h0K2EueX0pLEQ9KDAsay5tYXgpKEIsZnVuY3Rpb24oYSl7cmV0dXJuIGEud2lkdGgrYS54fSksRT0ic3RhcnQiPT1yPzA6Im1pZGRsZSI9PXI/LjU6MTsidmVydGljYWwiPT09dD8oeT1mdW5jdGlvbihhLGIpe3ZhciBjPSgwLGsuc3VtKShCLnNsaWNlKDAsYisxKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5oZWlnaHR9KTtyZXR1cm4idHJhbnNsYXRlKDAsICIrKGMrYipmKSsiKSJ9LHo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4idHJhbnNsYXRlKCIrKEQrcSkrIiwiKyhCW2JdLnkrQltiXS5oZWlnaHQvMis1KSsiKSJ9KToiaG9yaXpvbnRhbCI9PT10JiYoeT1mdW5jdGlvbihhLGIpe3ZhciBjPSgwLGsuc3VtKShCLnNsaWNlKDAsYisxKSxmdW5jdGlvbihhKXtyZXR1cm4gYS53aWR0aH0pO3JldHVybiJ0cmFuc2xhdGUoIisoYytiKmYpKyIsMCkifSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuInRyYW5zbGF0ZSgiKyhCW2JdLndpZHRoKkUrQltiXS54KSsiLCIrKEMrcSkrIikifSksZy5kZWZhdWx0LmQzX3BsYWNlbWVudCh0LHcseSxBLHosciksZy5kZWZhdWx0LmQzX3RpdGxlKGEsbyxuKSxqLnRyYW5zaXRpb24oKS5zdHlsZSgib3BhY2l0eSIsMSl9dmFyIGIsYz0oMCxpLnNjYWxlTGluZWFyKSgpLGQ9InJlY3QiLGU9MTUsZj0yLGw9WzVdLG09W10sbj0iIixvPSIiLHA9KDAsai5mb3JtYXQpKCIuMDFmIikscT0xMCxyPSJtaWRkbGUiLHM9InRvIix0PSJ2ZXJ0aWNhbCIsdT0hMSx2PSgwLGguZGlzcGF0Y2gpKCJjZWxsb3ZlciIsImNlbGxvdXQiLCJjZWxsY2xpY2siKTtyZXR1cm4gYS5zY2FsZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1iLGEpOmN9LGEuY2VsbHM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KChiLmxlbmd0aD4xfHxiPj0yKSYmKGw9YiksYSk6bH0sYS5zaGFwZT1mdW5jdGlvbihjLGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygicmVjdCIhPWMmJiJjaXJjbGUiIT1jJiYibGluZSIhPWN8fChkPWMsYj1lKSxhKTpkfSxhLnNoYXBlV2lkdGg9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9K2IsYSk6ZX0sYS5zaGFwZVBhZGRpbmc9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9K2IsYSk6Zn0sYS5sYWJlbHM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG09YixhKTptfSxhLmxhYmVsQWxpZ249ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KCJzdGFydCIhPWImJiJlbmQiIT1iJiYibWlkZGxlIiE9Ynx8KHI9YiksYSk6cn0sYS5sYWJlbEZvcm1hdD1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1iLGEpOnB9LGEubGFiZWxPZmZzZXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHE9K2IsYSk6cX0sYS5sYWJlbERlbGltaXRlcj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz1iLGEpOnN9LGEub3JpZW50PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWIudG9Mb3dlckNhc2UoKSwiaG9yaXpvbnRhbCIhPWImJiJ2ZXJ0aWNhbCIhPWJ8fCh0PWIpLGEpOnR9LGEuYXNjZW5kaW5nPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PSEhYixhKTp1fSxhLmNsYXNzUHJlZml4PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPWIsYSk6bn0sYS50aXRsZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1iLGEpOm99LGEub249ZnVuY3Rpb24oKXt2YXIgYj12Lm9uLmFwcGx5KHYsYXJndW1lbnRzKTtyZXR1cm4gYj09PXY/YTpifSxhfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxjLmRlZmF1bHQ9ZTt2YXIgZj1hKCIuL2xlZ2VuZCIpLGc9ZChmKSxoPWEoImQzLWRpc3BhdGNoIiksaT1hKCJkMy1zY2FsZSIpLGo9YSgiZDMtZm9ybWF0Iiksaz1hKCJkMy1hcnJheSIpfSx7Ii4vbGVnZW5kIjoxMSwiZDMtYXJyYXkiOjEsImQzLWRpc3BhdGNoIjo0LCJkMy1mb3JtYXQiOjUsImQzLXNjYWxlIjo3fV0sMTM6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19ZnVuY3Rpb24gZSgpe2Z1bmN0aW9uIGEoYSl7dmFyIGg9Zy5kZWZhdWx0LmQzX2NhbGNUeXBlKGIsdixtLG4scSx0KSxpPWEuc2VsZWN0QWxsKCJnIikuZGF0YShbYl0pO2kuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbysibGVnZW5kQ2VsbHMiKTt2YXIgaj1hLnNlbGVjdCgiLiIrbysibGVnZW5kQ2VsbHMiKS5zZWxlY3RBbGwoIi4iK28rImNlbGwiKS5kYXRhKGguZGF0YSkseD1qLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLG8rImNlbGwiKSx5PSh4LmFwcGVuZChjKS5hdHRyKCJjbGFzcyIsbysic3dhdGNoIiksYS5zZWxlY3RBbGwoImcuIitvKyJjZWxsICIrYykpO2cuZGVmYXVsdC5kM19hZGRFdmVudHMoeCx3KSxqLmV4aXQoKS50cmFuc2l0aW9uKCkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGcuZGVmYXVsdC5kM19kcmF3U2hhcGVzKGMseSxlLGQsZixoLmZlYXR1cmUpLGcuZGVmYXVsdC5kM19hZGRUZXh0KGEseCxoLmxhYmVscyxvKTt2YXIgeixBLEI9eC5zZWxlY3RBbGwoInRleHQiKSxDPXkubm9kZXMoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QkJveCgpfSksRD0oMCxrLm1heCkoQyxmdW5jdGlvbihhKXtyZXR1cm4gYS5oZWlnaHR9KSxFPSgwLGsubWF4KShDLGZ1bmN0aW9uKGEpe3JldHVybiBhLndpZHRofSksRj0ic3RhcnQiPT1yPzA6Im1pZGRsZSI9PXI/LjU6MTsidmVydGljYWwiPT09dT8oej1mdW5jdGlvbihhLGIpe3JldHVybiJ0cmFuc2xhdGUoMCwgIitiKihEK2wpKyIpIn0sQT1mdW5jdGlvbihhLGIpe3JldHVybiJ0cmFuc2xhdGUoIisoRStzKSsiLCIrKENbYl0ueStDW2JdLmhlaWdodC8yKzUpKyIpIn0pOiJob3Jpem9udGFsIj09PXUmJih6PWZ1bmN0aW9uKGEsYil7cmV0dXJuInRyYW5zbGF0ZSgiK2IqKEUrbCkrIiwwKSJ9LEE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4idHJhbnNsYXRlKCIrKENbYl0ud2lkdGgqRitDW2JdLngpKyIsIisoRCtzKSsiKSJ9KSxnLmRlZmF1bHQuZDNfcGxhY2VtZW50KHUseCx6LEIsQSxyKSxnLmRlZmF1bHQuZDNfdGl0bGUoYSxwLG8pLGoudHJhbnNpdGlvbigpLnN0eWxlKCJvcGFjaXR5IiwxKX12YXIgYj0oMCxpLnNjYWxlTGluZWFyKSgpLGM9InBhdGgiLGQ9MTUsZT0xNSxmPTEwLGw9NSxtPVs1XSxuPVtdLG89IiIscD0iIixxPSgwLGouZm9ybWF0KSgiLjAxZiIpLHI9Im1pZGRsZSIscz0xMCx0PSJ0byIsdT0idmVydGljYWwiLHY9ITEsdz0oMCxoLmRpc3BhdGNoKSgiY2VsbG92ZXIiLCJjZWxsb3V0IiwiY2VsbGNsaWNrIik7cmV0dXJuIGEuc2NhbGU9ZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YyxhKTpifSxhLmNlbGxzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygoYi5sZW5ndGg+MXx8Yj49MikmJihtPWIpLGEpOm19LGEuc2hhcGVQYWRkaW5nPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPStiLGEpOmx9LGEubGFiZWxzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPWIsYSk6bn0sYS5sYWJlbEFsaWduPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygic3RhcnQiIT1iJiYiZW5kIiE9YiYmIm1pZGRsZSIhPWJ8fChyPWIpLGEpOnJ9LGEubGFiZWxGb3JtYXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHE9YixhKTpxfSxhLmxhYmVsT2Zmc2V0PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPStiLGEpOnN9LGEubGFiZWxEZWxpbWl0ZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YixhKTp0fSxhLm9yaWVudD1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1iLnRvTG93ZXJDYXNlKCksImhvcml6b250YWwiIT1iJiYidmVydGljYWwiIT1ifHwodT1iKSxhKTp1fSxhLmFzY2VuZGluZz1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odj0hIWIsYSk6dn0sYS5jbGFzc1ByZWZpeD1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1iLGEpOm99LGEudGl0bGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9YixhKTpwfSxhLm9uPWZ1bmN0aW9uKCl7dmFyIGI9dy5vbi5hcHBseSh3LGFyZ3VtZW50cyk7cmV0dXJuIGI9PT13P2E6Yn0sYX1PYmplY3QuZGVmaW5lUHJvcGVydHkoYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYy5kZWZhdWx0PWU7dmFyIGY9YSgiLi9sZWdlbmQiKSxnPWQoZiksaD1hKCJkMy1kaXNwYXRjaCIpLGk9YSgiZDMtc2NhbGUiKSxqPWEoImQzLWZvcm1hdCIpLGs9YSgiZDMtYXJyYXkiKX0seyIuL2xlZ2VuZCI6MTEsImQzLWFycmF5IjoxLCJkMy1kaXNwYXRjaCI6NCwiZDMtZm9ybWF0Ijo1LCJkMy1zY2FsZSI6N31dLDE0OltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGEmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fXZhciBlPWEoIi4vY29sb3IiKSxmPWQoZSksZz1hKCIuL3NpemUiKSxoPWQoZyksaT1hKCIuL3N5bWJvbCIpLGo9ZChpKTtkM3Y1LmxlZ2VuZENvbG9yPWYuZGVmYXVsdCxkM3Y1LmxlZ2VuZFNpemU9aC5kZWZhdWx0LGQzdjUubGVnZW5kU3ltYm9sPWouZGVmYXVsdH0seyIuL2NvbG9yIjoxMCwiLi9zaXplIjoxMiwiLi9zeW1ib2wiOjEzfV19LHt9LFsxNF0pOwo="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewoKZDN2NS5sYWJlbGVyID0gZnVuY3Rpb24oKSB7CiAgdmFyIGxhYiA9IFtdLAogICAgICBhbmMgPSBbXSwKICAgICAgdyA9IDEsIC8vIGJveCB3aWR0aAogICAgICBoID0gMSwgLy8gYm94IHdpZHRoCiAgICAgIGxhYmVsZXIgPSB7fTsKCiAgdmFyIG1heF9tb3ZlID0gMTUuMCwKICAgICAgbWF4X2FuZ2xlID0gMiwKICAgICAgYWNjID0gMCwKICAgICAgcmVqID0gMDsKCiAgLy8gd2VpZ2h0cwogIHZhciB3X2xlbiA9IDAuMSwgLy8gbGVhZGVyIGxpbmUgbGVuZ3RoIAogICAgICB3X2ludGVyID0gMzAuMCwgLy8gbGVhZGVyIGxpbmUgaW50ZXJzZWN0aW9uCiAgICAgIHdfbGFiMiA9IDMwLjAsIC8vIGxhYmVsLWxhYmVsIG92ZXJsYXAKICAgICAgd19sYWJfYW5jID0gMzAuMDsgLy8gbGFiZWwtYW5jaG9yIG92ZXJsYXAKICAgICAgd19saW5lX2xhYiA9IDMwLjA7IC8vIGxpbmUtbGFiZWwgb3ZlcmxhcAogICAgICB3X29yaWVudCA9IDAuMjsgLy8gb3JpZW50YXRpb24gYmlhcwoKICAvLyBib29sZWFucyBmb3IgdXNlciBkZWZpbmVkIGZ1bmN0aW9ucwogIHZhciB1c2VyX2VuZXJneSA9IGZhbHNlLAogICAgICB1c2VyX3NjaGVkdWxlID0gZmFsc2U7CgogIHZhciB1c2VyX2RlZmluZWRfZW5lcmd5LCAKICAgICAgdXNlcl9kZWZpbmVkX3NjaGVkdWxlOwoKICBlbmVyZ3kgPSBmdW5jdGlvbihpbmRleCkgewogIC8vIGVuZXJneSBmdW5jdGlvbiwgdGFpbG9yZWQgZm9yIGxhYmVsIHBsYWNlbWVudAoKICAgICAgdmFyIG0gPSBsYWIubGVuZ3RoLCAKICAgICAgICAgIGVuZXIgPSAwLAogICAgICAgICAgZHggPSBsYWJbaW5kZXhdLnggLSBhbmNbaW5kZXhdLngsCiAgICAgICAgICBkeSA9IGFuY1tpbmRleF0ueSAtIGxhYltpbmRleF0ueSwKICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpLAogICAgICAgICAgb3ZlcmxhcCA9IHRydWUsCiAgICAgICAgICBhbW91bnQgPSAwLAogICAgICAgICAgdGhldGEgPSAwOwoKICAgICAgLy8gcGVuYWx0eSBmb3IgbGVuZ3RoIG9mIGxlYWRlciBsaW5lCiAgICAgIGlmIChkaXN0ID4gMCkgZW5lciArPSBkaXN0ICogd19sZW47CgogICAgICAvLyBsYWJlbCBvcmllbnRhdGlvbiBiaWFzCiAgICAgIGR4IC89IGRpc3Q7CiAgICAgIGR5IC89IGRpc3Q7CiAgICAgIGlmIChkeSA8IDApIHsgZW5lciArPSB3X29yaWVudDsgfQogICAgICAvLyBpZiAoZHggPiAwICYmIGR5ID4gMCkgeyBlbmVyICs9IDAgKiB3X29yaWVudDsgfQogICAgICAvLyBlbHNlIGlmIChkeCA8IDAgJiYgZHkgPiAwKSB7IGVuZXIgKz0gMSAqIHdfb3JpZW50OyB9CiAgICAgIC8vIGVsc2UgaWYgKGR4IDwgMCAmJiBkeSA8IDApIHsgZW5lciArPSAyICogd19vcmllbnQ7IH0KICAgICAgLy8gZWxzZSB7IGVuZXIgKz0gMyAqIHdfb3JpZW50OyB9CgogICAgICB2YXIgeDIxID0gbGFiW2luZGV4XS54IC0gbGFiW2luZGV4XS53aWR0aCAvIDIsCiAgICAgICAgICB5MjEgPSBsYWJbaW5kZXhdLnkgLSAzICogbGFiW2luZGV4XS5oZWlnaHQgLyA0IC0gMiwKICAgICAgICAgIHgyMiA9IGxhYltpbmRleF0ueCArIGxhYltpbmRleF0ud2lkdGggLyAyLAogICAgICAgICAgeTIyID0gbGFiW2luZGV4XS55ICsgbGFiW2luZGV4XS5oZWlnaHQgLyA0IC0gMjsKICAgICAgdmFyIHgxMSwgeDEyLCB5MTEsIHkxMiwgeF9vdmVybGFwLCB5X292ZXJsYXAsIG92ZXJsYXBfYXJlYTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbTsgaSsrKSB7CiAgICAgICAgaWYgKGkgIT0gaW5kZXgpIHsKCiAgICAgICAgICAvLyBwZW5hbHR5IGZvciBpbnRlcnNlY3Rpb24gb2YgbGVhZGVyIGxpbmVzCiAgICAgICAgICBvdmVybGFwID0gaW50ZXJzZWN0KGFuY1tpbmRleF0ueCwgbGFiW2luZGV4XS54LCBhbmNbaV0ueCwgbGFiW2ldLngsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jW2luZGV4XS55LCBsYWJbaW5kZXhdLnksIGFuY1tpXS55LCBsYWJbaV0ueSk7CiAgICAgICAgICBpZiAob3ZlcmxhcCkgZW5lciArPSB3X2ludGVyOwoKICAgICAgICAgIC8vIHBlbmFsdHkgZm9yIGxhYmVsLWxhYmVsIG92ZXJsYXAKICAgICAgICAgIHgxMSA9IGxhYltpXS54IC0gbGFiW2ldLndpZHRoIC8gMiAtIDI7CiAgICAgICAgICB5MTEgPSBsYWJbaV0ueSAtIDMgKiBsYWJbaV0uaGVpZ2h0IC8gNCAtIDI7CiAgICAgICAgICB4MTIgPSBsYWJbaV0ueCArIGxhYltpXS53aWR0aCAvIDIgKyAyOwogICAgICAgICAgeTEyID0gbGFiW2ldLnkgKyBsYWJbaV0uaGVpZ2h0IC8gNCArIDI7CiAgICAgICAgICB4X292ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih4MTIseDIyKSAtIE1hdGgubWF4KHgxMSx4MjEpKTsKICAgICAgICAgIHlfb3ZlcmxhcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHkxMix5MjIpIC0gTWF0aC5tYXgoeTExLHkyMSkpOwogICAgICAgICAgb3ZlcmxhcF9hcmVhID0geF9vdmVybGFwICogeV9vdmVybGFwOwogICAgICAgICAgZW5lciArPSAob3ZlcmxhcF9hcmVhICogd19sYWIyKTsKCiAgICAgICAgICAvLyBwZW5hbHR5IGZvciBsaW5lLWxhYmVsIG92ZXJsYXAKICAgICAgICAgIG92ZXJsYXAgPSBpbnRlcnNlY3QoYW5jW2luZGV4XS54LCBsYWJbaW5kZXhdLngsIHgxMSwgeDEyLAogICAgICAgICAgICBhbmNbaW5kZXhdLnksIGxhYltpbmRleF0ueSwgeTExLCB5MTEpIHx8CiAgICAgICAgICBpbnRlcnNlY3QoYW5jW2luZGV4XS54LCBsYWJbaW5kZXhdLngsIHgxMSwgeDExLAogICAgICAgICAgICBhbmNbaW5kZXhdLnksIGxhYltpbmRleF0ueSwgeTExLCB5MTIpIHx8CiAgICAgICAgICBpbnRlcnNlY3QoYW5jW2luZGV4XS54LCBsYWJbaW5kZXhdLngsIHgxMSwgeDEyLAogICAgICAgICAgICBhbmNbaW5kZXhdLnksIGxhYltpbmRleF0ueSwgeTEyLCB5MTIpIHx8CiAgICAgICAgICBpbnRlcnNlY3QoYW5jW2luZGV4XS54LCBsYWJbaW5kZXhdLngsIHgxMiwgeDEyLAogICAgICAgICAgICBhbmNbaW5kZXhdLnksIGxhYltpbmRleF0ueSwgeTExLCB5MTIpIHx8CiAgICAgICAgICBpbnRlcnNlY3QoYW5jW2ldLngsIGxhYltpXS54LCB4MjEsIHgyMiwKICAgICAgICAgICAgYW5jW2ldLnksIGxhYltpXS55LCB5MjEsIHkyMSkgfHwKICAgICAgICAgIGludGVyc2VjdChhbmNbaV0ueCwgbGFiW2ldLngsIHgyMSwgeDIxLAogICAgICAgICAgICBhbmNbaV0ueSwgbGFiW2ldLnksIHkyMSwgeTIyKSB8fAogICAgICAgICAgaW50ZXJzZWN0KGFuY1tpXS54LCBsYWJbaV0ueCwgeDIxLCB4MjIsCiAgICAgICAgICAgIGFuY1tpXS55LCBsYWJbaV0ueSwgeTIyLCB5MjIpIHx8CiAgICAgICAgICBpbnRlcnNlY3QoYW5jW2ldLngsIGxhYltpXS54LCB4MjIsIHgyMiwKICAgICAgICAgICAgYW5jW2ldLnksIGxhYltpXS55LCB5MjEsIHkyMik7ICAKICAgICAgICAgIGlmIChvdmVybGFwKSBlbmVyICs9IHdfbGluZV9sYWI7CiAgICAgICAgfQoKICAgICAgICAgIC8vIHBlbmFsdHkgZm9yIGxhYmVsLWFuY2hvciBvdmVybGFwCiAgICAgICAgICB4MTEgPSBhbmNbaV0ueCAtIGFuY1tpXS5yOwogICAgICAgICAgeTExID0gYW5jW2ldLnkgLSBhbmNbaV0ucjsKICAgICAgICAgIHgxMiA9IGFuY1tpXS54ICsgYW5jW2ldLnI7CiAgICAgICAgICB5MTIgPSBhbmNbaV0ueSArIGFuY1tpXS5yOwogICAgICAgICAgeF9vdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oeDEyLHgyMikgLSBNYXRoLm1heCh4MTEseDIxKSk7CiAgICAgICAgICB5X292ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih5MTIseTIyKSAtIE1hdGgubWF4KHkxMSx5MjEpKTsKICAgICAgICAgIG92ZXJsYXBfYXJlYSA9IHhfb3ZlcmxhcCAqIHlfb3ZlcmxhcDsKICAgICAgICAgIGVuZXIgKz0gKG92ZXJsYXBfYXJlYSAqIHdfbGFiX2FuYyk7CgoKCiAgICAgIH0KICAgICAgcmV0dXJuIGVuZXI7CiAgfTsKCiAgbWNtb3ZlID0gZnVuY3Rpb24oY3VyclQpIHsKICAvLyBNb250ZSBDYXJsbyB0cmFuc2xhdGlvbiBtb3ZlCgogICAgICAvLyBzZWxlY3QgYSByYW5kb20gbGFiZWwKICAgICAgdmFyIGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsYWIubGVuZ3RoKTsgCgogICAgICAvLyBzYXZlIG9sZCBjb29yZGluYXRlcwogICAgICB2YXIgeF9vbGQgPSBsYWJbaV0ueDsKICAgICAgdmFyIHlfb2xkID0gbGFiW2ldLnk7CgogICAgICAvLyBvbGQgZW5lcmd5CiAgICAgIHZhciBvbGRfZW5lcmd5OwogICAgICBpZiAodXNlcl9lbmVyZ3kpIHtvbGRfZW5lcmd5ID0gdXNlcl9kZWZpbmVkX2VuZXJneShpLCBsYWIsIGFuYyl9CiAgICAgIGVsc2Uge29sZF9lbmVyZ3kgPSBlbmVyZ3koaSl9CgogICAgICAvLyByYW5kb20gdHJhbnNsYXRpb24KICAgICAgbGFiW2ldLnggKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogbWF4X21vdmU7CiAgICAgIGxhYltpXS55ICs9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIG1heF9tb3ZlOwoKICAgICAgLy8gaGFyZCB3YWxsIGJvdW5kYXJpZXMKICAgICAgaWYgKGxhYltpXS54ID4gdykgbGFiW2ldLnggPSB4X29sZDsKICAgICAgaWYgKGxhYltpXS54IDwgMCkgbGFiW2ldLnggPSB4X29sZDsKICAgICAgaWYgKGxhYltpXS55ID4gaCkgbGFiW2ldLnkgPSB5X29sZDsKICAgICAgaWYgKGxhYltpXS55IDwgMCkgbGFiW2ldLnkgPSB5X29sZDsKCiAgICAgIC8vIG5ldyBlbmVyZ3kKICAgICAgdmFyIG5ld19lbmVyZ3k7CiAgICAgIGlmICh1c2VyX2VuZXJneSkge25ld19lbmVyZ3kgPSB1c2VyX2RlZmluZWRfZW5lcmd5KGksIGxhYiwgYW5jKX0KICAgICAgZWxzZSB7bmV3X2VuZXJneSA9IGVuZXJneShpKX0KCiAgICAgIC8vIGRlbHRhIEUKICAgICAgdmFyIGRlbHRhX2VuZXJneSA9IG5ld19lbmVyZ3kgLSBvbGRfZW5lcmd5OwoKICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBNYXRoLmV4cCgtZGVsdGFfZW5lcmd5IC8gY3VyclQpKSB7CiAgICAgICAgYWNjICs9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gbW92ZSBiYWNrIHRvIG9sZCBjb29yZGluYXRlcwogICAgICAgIGxhYltpXS54ID0geF9vbGQ7CiAgICAgICAgbGFiW2ldLnkgPSB5X29sZDsKICAgICAgICByZWogKz0gMTsKICAgICAgfQoKICB9OwoKICBtY3JvdGF0ZSA9IGZ1bmN0aW9uKGN1cnJUKSB7CiAgLy8gTW9udGUgQ2FybG8gcm90YXRpb24gbW92ZQoKICAgICAgLy8gc2VsZWN0IGEgcmFuZG9tIGxhYmVsCiAgICAgIHZhciBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGFiLmxlbmd0aCk7IAoKICAgICAgLy8gc2F2ZSBvbGQgY29vcmRpbmF0ZXMKICAgICAgdmFyIHhfb2xkID0gbGFiW2ldLng7CiAgICAgIHZhciB5X29sZCA9IGxhYltpXS55OwoKICAgICAgLy8gb2xkIGVuZXJneQogICAgICB2YXIgb2xkX2VuZXJneTsKICAgICAgaWYgKHVzZXJfZW5lcmd5KSB7b2xkX2VuZXJneSA9IHVzZXJfZGVmaW5lZF9lbmVyZ3koaSwgbGFiLCBhbmMpfQogICAgICBlbHNlIHtvbGRfZW5lcmd5ID0gZW5lcmd5KGkpfQoKICAgICAgLy8gcmFuZG9tIGFuZ2xlCiAgICAgIHZhciBhbmdsZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIG1heF9hbmdsZTsKCiAgICAgIHZhciBzID0gTWF0aC5zaW4oYW5nbGUpOwogICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTsKCiAgICAgIC8vIHRyYW5zbGF0ZSBsYWJlbCAocmVsYXRpdmUgdG8gYW5jaG9yIGF0IG9yaWdpbik6CiAgICAgIGxhYltpXS54IC09IGFuY1tpXS54CiAgICAgIGxhYltpXS55IC09IGFuY1tpXS55CgogICAgICAvLyByb3RhdGUgbGFiZWwKICAgICAgdmFyIHhfbmV3ID0gbGFiW2ldLnggKiBjIC0gbGFiW2ldLnkgKiBzLAogICAgICAgICAgeV9uZXcgPSBsYWJbaV0ueCAqIHMgKyBsYWJbaV0ueSAqIGM7CgogICAgICAvLyB0cmFuc2xhdGUgbGFiZWwgYmFjawogICAgICBsYWJbaV0ueCA9IHhfbmV3ICsgYW5jW2ldLngKICAgICAgbGFiW2ldLnkgPSB5X25ldyArIGFuY1tpXS55CgogICAgICAvLyBoYXJkIHdhbGwgYm91bmRhcmllcwogICAgICBpZiAobGFiW2ldLnggPiB3KSBsYWJbaV0ueCA9IHhfb2xkOwogICAgICBpZiAobGFiW2ldLnggPCAwKSBsYWJbaV0ueCA9IHhfb2xkOwogICAgICBpZiAobGFiW2ldLnkgPiBoKSBsYWJbaV0ueSA9IHlfb2xkOwogICAgICBpZiAobGFiW2ldLnkgPCAwKSBsYWJbaV0ueSA9IHlfb2xkOwoKICAgICAgLy8gbmV3IGVuZXJneQogICAgICB2YXIgbmV3X2VuZXJneTsKICAgICAgaWYgKHVzZXJfZW5lcmd5KSB7bmV3X2VuZXJneSA9IHVzZXJfZGVmaW5lZF9lbmVyZ3koaSwgbGFiLCBhbmMpfQogICAgICBlbHNlIHtuZXdfZW5lcmd5ID0gZW5lcmd5KGkpfQoKICAgICAgLy8gZGVsdGEgRQogICAgICB2YXIgZGVsdGFfZW5lcmd5ID0gbmV3X2VuZXJneSAtIG9sZF9lbmVyZ3k7CgogICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IE1hdGguZXhwKC1kZWx0YV9lbmVyZ3kgLyBjdXJyVCkpIHsKICAgICAgICBhY2MgKz0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBtb3ZlIGJhY2sgdG8gb2xkIGNvb3JkaW5hdGVzCiAgICAgICAgbGFiW2ldLnggPSB4X29sZDsKICAgICAgICBsYWJbaV0ueSA9IHlfb2xkOwogICAgICAgIHJlaiArPSAxOwogICAgICB9CiAgICAgIAogIH07CgogIGludGVyc2VjdCA9IGZ1bmN0aW9uKHgxLCB4MiwgeDMsIHg0LCB5MSwgeTIsIHkzLCB5NCkgewogIC8vIHJldHVybnMgdHJ1ZSBpZiB0d28gbGluZXMgaW50ZXJzZWN0LCBlbHNlIGZhbHNlCiAgLy8gZnJvbSBodHRwOi8vcGF1bGJvdXJrZS5uZXQvZ2VvbWV0cnkvbGluZWxpbmUyZC8KCiAgICB2YXIgbXVhLCBtdWI7CiAgICB2YXIgZGVub20sIG51bWVyYSwgbnVtZXJiOwoKICAgIGRlbm9tID0gKHk0IC0geTMpICogKHgyIC0geDEpIC0gKHg0IC0geDMpICogKHkyIC0geTEpOwogICAgbnVtZXJhID0gKHg0IC0geDMpICogKHkxIC0geTMpIC0gKHk0IC0geTMpICogKHgxIC0geDMpOwogICAgbnVtZXJiID0gKHgyIC0geDEpICogKHkxIC0geTMpIC0gKHkyIC0geTEpICogKHgxIC0geDMpOwoKICAgIC8qIElzIHRoZSBpbnRlcnNlY3Rpb24gYWxvbmcgdGhlIHRoZSBzZWdtZW50cyAqLwogICAgbXVhID0gbnVtZXJhIC8gZGVub207CiAgICBtdWIgPSBudW1lcmIgLyBkZW5vbTsKICAgIGlmICghKG11YSA8IDAgfHwgbXVhID4gMSB8fCBtdWIgPCAwIHx8IG11YiA+IDEpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBjb29saW5nX3NjaGVkdWxlID0gZnVuY3Rpb24oY3VyclQsIGluaXRpYWxULCBuc3dlZXBzKSB7CiAgLy8gbGluZWFyIGNvb2xpbmcKICAgIHJldHVybiAoY3VyclQgLSAoaW5pdGlhbFQgLyBuc3dlZXBzKSk7CiAgfQoKICBsYWJlbGVyLnN0YXJ0ID0gZnVuY3Rpb24obnN3ZWVwcykgewogIC8vIG1haW4gc2ltdWxhdGVkIGFubmVhbGluZyBmdW5jdGlvbgogICAgICB2YXIgbSA9IGxhYi5sZW5ndGgsCiAgICAgICAgICBjdXJyVCA9IDEuMCwKICAgICAgICAgIGluaXRpYWxUID0gMS4wOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5zd2VlcHM7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbTsgaisrKSB7IAogICAgICAgICAgLy9tY21vdmUoY3VyclQpOwogICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHsgbWNtb3ZlKGN1cnJUKTsgfQogICAgICAgICAgZWxzZSB7IG1jcm90YXRlKGN1cnJUKTsgfQogICAgICAgIH0KICAgICAgICBjdXJyVCA9IGNvb2xpbmdfc2NoZWR1bGUoY3VyclQsIGluaXRpYWxULCBuc3dlZXBzKTsKICAgICAgfQogIH07CgogIGxhYmVsZXIud2lkdGggPSBmdW5jdGlvbih4KSB7CiAgLy8gdXNlcnMgaW5zZXJ0IGdyYXBoIHdpZHRoCiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB3OwogICAgdyA9IHg7CiAgICByZXR1cm4gbGFiZWxlcjsKICB9OwoKICBsYWJlbGVyLmhlaWdodCA9IGZ1bmN0aW9uKHgpIHsKICAvLyB1c2VycyBpbnNlcnQgZ3JhcGggaGVpZ2h0CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBoOwogICAgaCA9IHg7ICAgIAogICAgcmV0dXJuIGxhYmVsZXI7CiAgfTsKCiAgbGFiZWxlci5sYWJlbCA9IGZ1bmN0aW9uKHgpIHsKICAvLyB1c2VycyBpbnNlcnQgbGFiZWwgcG9zaXRpb25zCiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBsYWI7CiAgICBsYWIgPSB4OwogICAgcmV0dXJuIGxhYmVsZXI7CiAgfTsKCiAgbGFiZWxlci5hbmNob3IgPSBmdW5jdGlvbih4KSB7CiAgLy8gdXNlcnMgaW5zZXJ0IGFuY2hvciBwb3NpdGlvbnMKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGFuYzsKICAgIGFuYyA9IHg7CiAgICByZXR1cm4gbGFiZWxlcjsKICB9OwoKICBsYWJlbGVyLmFsdF9lbmVyZ3kgPSBmdW5jdGlvbih4KSB7CiAgLy8gdXNlciBkZWZpbmVkIGVuZXJneQogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZW5lcmd5OwogICAgdXNlcl9kZWZpbmVkX2VuZXJneSA9IHg7CiAgICB1c2VyX2VuZXJneSA9IHRydWU7CiAgICByZXR1cm4gbGFiZWxlcjsKICB9OwoKICBsYWJlbGVyLmFsdF9zY2hlZHVsZSA9IGZ1bmN0aW9uKHgpIHsKICAvLyB1c2VyIGRlZmluZWQgY29vbGluZ19zY2hlZHVsZQogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gIGNvb2xpbmdfc2NoZWR1bGU7CiAgICB1c2VyX2RlZmluZWRfc2NoZWR1bGUgPSB4OwogICAgdXNlcl9zY2hlZHVsZSA9IHRydWU7CiAgICByZXR1cm4gbGFiZWxlcjsKICB9OwoKICByZXR1cm4gbGFiZWxlcjsKfTsKCn0pKCk7Cgo="></script>
<link href="data:text/css;charset=utf-8,%2Elasso%20path%20%7B%0Astroke%3A%20rgb%2880%2C80%2C80%29%3B%0Astroke%2Dwidth%3A%202px%3B%0A%7D%0A%2Elasso%20%2Edrawn%20%7B%0Afill%3A%20%23CCCCCC%3B%0Afill%2Dopacity%3A%20%2E15%20%3B%0A%7D%0A%2Elasso%20%2Eloop%5Fclose%20%7B%0Afill%3A%20none%3B%0Astroke%2Ddasharray%3A%204%2C4%3B%0A%7D%0A%2Elasso%20%2Eorigin%20%7B%0Afill%3A%20%233399FF%3B%0Afill%2Dopacity%3A%20%2E5%3B%0A%7D%0A%2EscatterD3%20%2Enot%2Dpossible%2Dlasso%20%7B%0Afill%3A%20rgb%28150%2C150%2C150%29%3B%0Aopacity%3A%201%3B%0A%7D%0A%2EscatterD3%20%2Earrow%2Enot%2Dpossible%2Dlasso%20%7B%0Astroke%3A%20rgb%28200%2C200%2C200%29%3B%0A%7D%0A%2EscatterD3%20%2Epoint%2Dlabel%2Dline%2Enot%2Dpossible%2Dlasso%20%7B%0Astroke%3A%20rgb%28200%2C200%2C200%29%3B%0A%7D%0A%2EscatterD3%20%2Epossible%2Dlasso%20%7B%0Afill%3A%20%23EC888C%3B%0Aopacity%3A%201%3B%0A%7D%0A%2EscatterD3%20%2Earrow%2Epossible%2Dlasso%20%7B%0Astroke%3A%20%23EC888C%3B%0A%7D%0A%2EscatterD3%20%2Epoint%2Dlabel%2Dline%2Epossible%2Dlasso%20%7B%0Astroke%3A%20%23EC888C%3B%0A%7D%0A%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,ZDN2NS5sYXNzbyA9IGZ1bmN0aW9uKCkgewoKICAgIHZhciBpdGVtcyA9IG51bGwsCiAgICAgICAgY2xvc2VQYXRoRGlzdGFuY2UgPSA3NSwKICAgICAgICBjbG9zZVBhdGhTZWxlY3QgPSB0cnVlLAogICAgICAgIGlzUGF0aENsb3NlZCA9IGZhbHNlLAogICAgICAgIGhvdmVyU2VsZWN0ID0gdHJ1ZSwKICAgICAgICBwb2ludHMgPSBbXSwKICAgICAgICBhcmVhID0gbnVsbCwKICAgICAgICBvbiA9IHtzdGFydDpmdW5jdGlvbigpe30sIGRyYXc6IGZ1bmN0aW9uKCl7fSwgZW5kOiBmdW5jdGlvbigpe319OwoKICAgIGZ1bmN0aW9uIGxhc3NvKHNlbGVjdGlvbikgewoKICAgICAgICAvLyB0aGUgZWxlbWVudCB3aGVyZSB0aGUgbGFzc28gd2FzIGNhbGxlZAogICAgICAgIHZhciBfdGhpcyA9IHNlbGVjdGlvbjsKCiAgICAgICAgLy8gYWRkIGEgbmV3IGdyb3VwIGZvciB0aGUgbGFzc28KICAgICAgICB2YXIgZyA9IF90aGlzLmFwcGVuZCgiZyIpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImNsYXNzIiwibGFzc28iKTsKCiAgICAgICAgLy8gYWRkIHRoZSBkcmF3biBwYXRoIGZvciB0aGUgbGFzc28KICAgICAgICB2YXIgZHluX3BhdGggPSBnLmFwcGVuZCgicGF0aCIpCiAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsImRyYXduIik7CgogICAgICAgIC8vIGFkZCBhIHBhdGggdXNlZCBmb3IgY2FsY3VsYXRpb25zCiAgICAgICAgdmFyIGNhbGNfcGF0aCA9IGcuYXBwZW5kKCJwYXRoIikKICAgICAgICAgICAgLmF0dHIoImRpc3BsYXkiLCJub25lIik7CgogICAgICAgIC8vIGFkZCBhIGNsb3NlZCBwYXRoCiAgICAgICAgdmFyIGNsb3NlX3BhdGggPSBnLmFwcGVuZCgicGF0aCIpCiAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsImxvb3BfY2xvc2UiKTsKCiAgICAgICAgLy8gYWRkIGEgY2xvc2UgcGF0aCB1c2VkIGZvciBjYWxjdWxhdGlvbnMKICAgICAgICB2YXIgY2FsY19jbG9zZV9wYXRoID0gZy5hcHBlbmQoInBhdGgiKQogICAgICAgICAgICAuYXR0cigiZGlzcGxheSIsIm5vbmUiKTsKCiAgICAgICAgLy8gYWRkIGFuIG9yaWdpbiBub2RlCiAgICAgICAgdmFyIG9yaWdpbl9ub2RlID0gZy5hcHBlbmQoImNpcmNsZSIpCiAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsIm9yaWdpbiIpOwoKICAgICAgICAvLyBUaGUgbGFzc28gcGF0aCBmb3IgY2FsY3VsYXRpb25zCiAgICAgICAgdmFyIHBhdGg7CgogICAgICAgIC8vIFRoZSB0cmFuc2Zvcm1lZCBsYXNzbyBwYXRoIGZvciByZW5kZXJpbmcKICAgICAgICB2YXIgdHBhdGg7CgogICAgICAgIC8vIFRoZSBsYXNzbyBvcmlnaW4gZm9yIGNhbGN1bGF0aW9ucwogICAgICAgIHZhciBvcmlnaW47CgogICAgICAgIC8vIFRoZSB0cmFuc2Zvcm1lZCBsYXNzbyBvcmlnaW4gZm9yIHJlbmRlcmluZwogICAgICAgIHZhciB0b3JpZ2luOwoKICAgICAgICAvLyBUaGUgbGFzdCBrbm93biBwb2ludCBvbiB0aGUgbGFzc28gZHVyaW5nIGRyYWcgLSBuZWVkZWQgZm9yIGV2YWx1YXRpbmcgZWRnZXMKICAgICAgICB2YXIgbGFzdF9rbm93bl9wb2ludDsKCiAgICAgICAgLy8gVGhlIHN0YXJ0aW5nIHBvaW50IGZvciBldmFsdWF0aW5nIHRoZSBwYXRoCiAgICAgICAgdmFyIHBhdGhfbGVuZ3RoX3N0YXJ0OwoKICAgICAgICAvLyBBcHBseSBkcmFnIGJlaGF2aW9ycwogICAgICAgIHZhciBkcmFnID0gZDN2NS5kcmFnKCkKICAgICAgICAgICAgLm9uKCJzdGFydCIsIGRyYWdzdGFydCkKICAgICAgICAgICAgLm9uKCJkcmFnIiwgZHJhZ21vdmUpCiAgICAgICAgICAgIC5vbigiZW5kIiwgZHJhZ2VuZCk7CgoJLy8gSW5pdCBET00tbG9jYWwgZGF0YQoJdmFyIHJpZ2h0X2VkZ2VzID0gZDN2NS5sb2NhbCgpOwoJdmFyIGxlZnRfZWRnZXMgPSBkM3Y1LmxvY2FsKCk7Cgl2YXIgY2xvc2VfcmlnaHRfZWRnZXMgPSBkM3Y1LmxvY2FsKCk7Cgl2YXIgY2xvc2VfbGVmdF9lZGdlcyA9IGQzdjUubG9jYWwoKTsKCiAgICAgICAgLy8gQ2FsbCBkcmFnCiAgICAgICAgYXJlYS5jYWxsKGRyYWcpOwoKICAgICAgICBmdW5jdGlvbiBkcmFnc3RhcnQoKSB7CiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgcGF0aHMKICAgICAgICAgICAgcGF0aD0iIjsKICAgICAgICAgICAgdHBhdGggPSAiIjsKICAgICAgICAgICAgZHluX3BhdGguYXR0cigiZCIsICJNMCAwIik7CiAgICAgICAgICAgIGNsb3NlX3BhdGguYXR0cigiZCIsICJNMCAwIik7CgogICAgICAgICAgICAvLyBTZXQgcGF0aCBsZW5ndGggc3RhcnQKICAgICAgICAgICAgcGF0aF9sZW5ndGhfc3RhcnQgPSAwOwogICAgICAgICAgICAvLyBTZXQgZXZlcnkgaXRlbSB0byBoYXZlIGEgZmFsc2Ugc2VsZWN0aW9uIGFuZCByZXNldCB0aGVpciBjZW50ZXIgcG9pbnQgYW5kIGNvdW50ZXJzCiAgICAgICAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgZC5ob3ZlclNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBkLmxvb3BTZWxlY3RlZCA9IGZhbHNlOwoJCS8vIElnbm9yZSB0ZXh0IGxhYmVscyBmb3IgY2VudGVyIGNvb3JkaW5hdGVzCgkJaWYgKHRoaXMudGFnTmFtZSAhPSAidGV4dCIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICBkLmxhc3NvUG9pbnQgPSB7CgkJCWN4OiBNYXRoLnJvdW5kKGJveC5sZWZ0ICsgYm94LndpZHRoLzIpLAoJCQljeTogTWF0aC5yb3VuZChib3gudG9wICsgYm94LmhlaWdodC8yKQogICAgICAgICAgICAgICAgICAgIH07CgkJfQoJCXJpZ2h0X2VkZ2VzLnNldCh0aGlzLCAwKTsKCQlsZWZ0X2VkZ2VzLnNldCh0aGlzLCAwKTsKCQljbG9zZV9yaWdodF9lZGdlcy5zZXQodGhpcywgMCk7CgkJY2xvc2VfbGVmdF9lZGdlcy5zZXQodGhpcywgMCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gaWYgaG92ZXIgaXMgb24sIGFkZCBob3ZlciBmdW5jdGlvbgogICAgICAgICAgICBpZihob3ZlclNlbGVjdD09PXRydWUpIHsKICAgICAgICAgICAgICAgIGl0ZW1zLm9uKCJtb3VzZW92ZXIubGFzc28iLGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIC8vIGlmIGhvdmVyZWQsIGNoYW5nZSBsYXNzbyBzZWxlY3Rpb24gYXR0cmlidXRlIHRvIHRydWUKICAgICAgICAgICAgICAgICAgICBkM3Y1LnNlbGVjdCh0aGlzKS5ob3ZlclNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSdW4gdXNlciBkZWZpbmVkIHN0YXJ0IGZ1bmN0aW9uCiAgICAgICAgICAgIG9uLnN0YXJ0KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkcmFnbW92ZSgpIHsKICAgICAgICAgICAgLy8gR2V0IG1vdXNlIHBvc2l0aW9uIHdpdGhpbiBib2R5LCB1c2VkIGZvciBjYWxjdWxhdGlvbnMKICAgICAgICAgICAgdmFyIHggPSBkM3Y1LmV2ZW50LnNvdXJjZUV2ZW50LmNsaWVudFg7CiAgICAgICAgICAgIHZhciB5ID0gZDN2NS5ldmVudC5zb3VyY2VFdmVudC5jbGllbnRZOwogICAgICAgICAgICAvLyBHZXQgbW91c2UgcG9zaXRpb24gd2l0aGluIGRyYXdpbmcgYXJlYSwgdXNlZCBmb3IgcmVuZGVyaW5nCiAgICAgICAgICAgIHZhciB0eCA9IGQzdjUubW91c2UodGhpcylbMF07CiAgICAgICAgICAgIHZhciB0eSA9IGQzdjUubW91c2UodGhpcylbMV07CgogICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBwYXRoIG9yIGFkZCB0aGUgbGF0ZXN0IHBvaW50IHRvIGl0CiAgICAgICAgICAgIGlmIChwYXRoPT09IiIpIHsKICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoICsgIk0gIiArIHggKyAiICIgKyB5OwogICAgICAgICAgICAgICAgdHBhdGggPSB0cGF0aCArICJNICIgKyB0eCArICIgIiArIHR5OwogICAgICAgICAgICAgICAgb3JpZ2luID0gW3gseV07CiAgICAgICAgICAgICAgICB0b3JpZ2luID0gW3R4LHR5XTsKICAgICAgICAgICAgICAgIC8vIERyYXcgb3JpZ2luIG5vZGUKICAgICAgICAgICAgICAgIG9yaWdpbl9ub2RlCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoImN4Iix0eCkKICAgICAgICAgICAgICAgICAgICAuYXR0cigiY3kiLHR5KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJyIiw3KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJkaXNwbGF5IixudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoICsgIiBMICIgKyB4ICsgIiAiICsgeTsKICAgICAgICAgICAgICAgIHRwYXRoID0gdHBhdGggKyAiIEwgIiArIHR4ICsgIiAiICsgdHk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFJlc2V0IGNsb3NlZCBlZGdlcyBjb3VudGVyCiAgICAgICAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24oZCkgewoJCWNsb3NlX2xlZnRfZWRnZXMuc2V0KHRoaXMsIDApOwoJCWNsb3NlX3JpZ2h0X2VkZ2VzLnNldCh0aGlzLCAwKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgZGlzdGFuY2UgZnJvbSB0aGUgbGFzc28gb3JpZ2luCiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh4LW9yaWdpblswXSwyKStNYXRoLnBvdyh5LW9yaWdpblsxXSwyKSk7CgogICAgICAgICAgICAvLyBTZXQgdGhlIGNsb3NlZCBwYXRoIGxpbmUKICAgICAgICAgICAgdmFyIGNsb3NlX2RyYXdfcGF0aCA9ICJNICIgKyB0eCArICIgIiArIHR5ICsgIiBMICIgKyB0b3JpZ2luWzBdICsgIiAiICsgdG9yaWdpblsxXTsKCiAgICAgICAgICAgIC8vIFNldCB0aGUgY2FsYyBjbG9zZWQgcGF0aCBsaW5lCiAgICAgICAgICAgIHZhciBjYWxjX2Nsb3NlX2RyYXdfcGF0aCA9ICJNICIgKyB4ICsgIiAiICsgeSArICIgTCAiICsgb3JpZ2luWzBdICsgIiAiICsgb3JpZ2luWzFdOwoKICAgICAgICAgICAgLy8gRHJhdyB0aGUgbGluZXMKICAgICAgICAgICAgZHluX3BhdGguYXR0cigiZCIsdHBhdGgpOwoKICAgICAgICAgICAgLy8gcGF0aCBmb3IgY2FsY3MKICAgICAgICAgICAgY2FsY19wYXRoLmF0dHIoImQiLHBhdGgpOwoKICAgICAgICAgICAgY2FsY19jbG9zZV9wYXRoLmF0dHIoImQiLGNhbGNfY2xvc2VfZHJhd19wYXRoKTsKCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXRoIGlzIGNsb3NlZAogICAgICAgICAgICBpc1BhdGhDbG9zZWQgPSBkaXN0YW5jZTw9Y2xvc2VQYXRoRGlzdGFuY2UgPyB0cnVlIDogZmFsc2U7CgogICAgICAgICAgICAvLyBJZiB3aXRoaW4gdGhlIGNsb3NlZCBwYXRoIGRpc3RhbmNlIHBhcmFtZXRlciwgc2hvdyB0aGUgY2xvc2VkIHBhdGguIG90aGVyd2lzZSwgaGlkZSBpdAogICAgICAgICAgICBpZihpc1BhdGhDbG9zZWQpIHsKICAgICAgICAgICAgICAgIGNsb3NlX3BhdGguYXR0cigiZGlzcGxheSIsbnVsbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBjbG9zZV9wYXRoLmF0dHIoImRpc3BsYXkiLCJub25lIik7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICAvLyBHZXQgcGF0aCBsZW5ndGgKICAgICAgICAgICAgdmFyIHBhdGhfbm9kZSA9IGNhbGNfcGF0aC5ub2RlKCk7CiAgICAgICAgICAgIHZhciBwYXRoX2xlbmd0aF9lbmQgPSBwYXRoX25vZGUuZ2V0VG90YWxMZW5ndGgoKTsKICAgICAgICAgICAgLy8gR2V0IHRoZSBlbmRpbmcgcG9pbnQgb2YgdGhlIHBhdGgKICAgICAgICAgICAgdmFyIGxhc3RfcG9zID0gcGF0aF9ub2RlLmdldFBvaW50QXRMZW5ndGgocGF0aF9sZW5ndGhfc3RhcnQtMSk7CgogICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBwb2ludCBvbiB0aGUgcGF0aAogICAgICAgICAgICBmb3IgKHZhciBpID0gcGF0aF9sZW5ndGhfc3RhcnQ7IGk8PXBhdGhfbGVuZ3RoX2VuZDsgaSsrKSB7CiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29vcmRpbmF0ZXMgb24gdGhlIHBhdGgKICAgICAgICAgICAgICAgIHZhciBjdXJfcG9zID0gcGF0aF9ub2RlLmdldFBvaW50QXRMZW5ndGgoaSk7CiAgICAgICAgICAgICAgICB2YXIgY3VyX3Bvc19vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgeDpNYXRoLnJvdW5kKGN1cl9wb3MueCoxMDApLzEwMCwKICAgICAgICAgICAgICAgICAgICB5Ok1hdGgucm91bmQoY3VyX3Bvcy55KjEwMCkvMTAwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwcmlvciBjb29yZGluYXRlcyBvbiB0aGUgcGF0aAogICAgICAgICAgICAgICAgdmFyIHByaW9yX3BvcyA9IHBhdGhfbm9kZS5nZXRQb2ludEF0TGVuZ3RoKGktMSk7CiAgICAgICAgICAgICAgICB2YXIgcHJpb3JfcG9zX29iaiA9IHsKICAgICAgICAgICAgICAgICAgICB4Ok1hdGgucm91bmQocHJpb3JfcG9zLngqMTAwKS8xMDAsCiAgICAgICAgICAgICAgICAgICAgeTpNYXRoLnJvdW5kKHByaW9yX3Bvcy55KjEwMCkvMTAwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggaXRlbQogICAgICAgICAgICAgICAgaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYTsKICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgb24gdGhlIHNhbWUgeSBwb3NpdGlvbiBhcyB0aGUgaXRlbSBhbmQgd2Ugd2VyZW4ndCBvbiB0aGlzIHkgYmVmb3JlLAogICAgICAgICAgICAgICAgICAgIC8vIG1hcmsgYXMgdGhlIGxhc3Qga25vd24gcG9pbnQuIFJldHVybiBmYWxzZSAtIHdlIGRvbid0IG5lZWQgdG8gY291bnQgYW4gZWRnZSB5ZXQKICAgICAgICAgICAgICAgICAgICBpZihkLmxhc3NvUG9pbnQuY3kgPT09IGN1cl9wb3Nfb2JqLnkgJiYgZC5sYXNzb1BvaW50LmN5ICE9IHByaW9yX3Bvc19vYmoueSkgewogICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2tub3duX3BvaW50ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcHJpb3JfcG9zX29iai54LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogcHJpb3JfcG9zX29iai55CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGE9ZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBvbiB0aGUgc2FtZSB5IHBvc2l0aW9uIGFzIHRoZSBpdGVtIGFuZCB3ZSB3ZXJlIG9uIHRoaXMgeSBiZWZvcmUsCiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlIC0gd2UgZG9uJ3QgbmVlZCB0byBjb3VudCBhbiBlZGdlIHlldAogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGQubGFzc29Qb2ludC5jeSA9PT0gY3VyX3Bvc19vYmoueSAmJiBkLmxhc3NvUG9pbnQuY3kgPT09IHByaW9yX3Bvc19vYmoueSkgewogICAgICAgICAgICAgICAgICAgICAgICBhID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBub3Qgb24gdGhlIHNhbWUgeSBwb3NpdGlvbiBhcyB0aGUgaXRlbSBidXQgd2Ugd2VyZSBwcmV2aW91c2x5LAogICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBpZiB3ZSBwYXNzZWQgYnkgdGhlIGl0ZW0gb3IgY2FtZSB1cCB0byBpdCBhbmQgdHVybmVkIGFyb3VuZC4KICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBpZiB3ZSBwYXNzZWQgaXQgc28gdGhhdCB3ZSBjYW4gZXZhbHVhdGUgZm9yIGFuIGVkZ2UKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkLmxhc3NvUG9pbnQuY3kgIT0gY3VyX3Bvc19vYmoueSAmJiBkLmxhc3NvUG9pbnQuY3kgPT09IHByaW9yX3Bvc19vYmoueSkgewogICAgICAgICAgICAgICAgICAgICAgICBhID0gc2lnbihkLmxhc3NvUG9pbnQuY3ktY3VyX3Bvc19vYmoueSkhPXNpZ24oZC5sYXNzb1BvaW50LmN5LWxhc3Rfa25vd25fcG9pbnQueSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIG1hcmsgYSBsYXN0IGtub3duIHBvaW50IGFuZCBjaGVjayBmb3IgYSBjcm9zc2luZy4KICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjcm9zc2VkLCB3ZSBuZWVkIHRvIGV2YWx1YXRlIGZvciBlZGdlcwogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2tub3duX3BvaW50ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcHJpb3JfcG9zX29iai54LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogcHJpb3JfcG9zX29iai55CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBzaWduKGQubGFzc29Qb2ludC5jeS1jdXJfcG9zX29iai55KSE9c2lnbihkLmxhc3NvUG9pbnQuY3ktcHJpb3JfcG9zX29iai55KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBvYmplY3QgYW5kIGFkZCBhbiBlZGdlIHRvIHRoZSBsZWZ0IG9yIHJpZ2h0CiAgICAgICAgICAgICAgICAgICAgaWYoY3VyX3Bvc19vYmoueD5kLmxhc3NvUG9pbnQuY3gpIHsKCQkJcmlnaHRfZWRnZXMuc2V0KHRoaXMsIHJpZ2h0X2VkZ2VzLmdldCh0aGlzKSArIDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihjdXJfcG9zX29iai54PGQubGFzc29Qb2ludC5jeCkgewoJCQlsZWZ0X2VkZ2VzLnNldCh0aGlzLCBsZWZ0X2VkZ2VzLmdldCh0aGlzKSArIDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSWYgdGhlIHBhdGggaXMgY2xvc2VkIGFuZCBjbG9zZSBzZWxlY3QgaXMgc2V0IHRvIHRydWUsIGRyYXcgdGhlIGNsb3NlZCBwYXRocyBhbmQgY291bnQgZWRnZXMKICAgICAgICAgICAgIGlmKGlzUGF0aENsb3NlZCA9PT0gdHJ1ZSAmJiBjbG9zZVBhdGhTZWxlY3QgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGNsb3NlX3BhdGguYXR0cigiZCIsY2xvc2VfZHJhd19wYXRoKTsKICAgICAgICAgICAgICAgIHZhciBjbG9zZV9wYXRoX25vZGUgPSBjYWxjX2Nsb3NlX3BhdGgubm9kZSgpOwogICAgICAgICAgICAgICAgdmFyIGNsb3NlX3BhdGhfbGVuZ3RoID0gY2xvc2VfcGF0aF9ub2RlLmdldFRvdGFsTGVuZ3RoKCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaTw9Y2xvc2VfcGF0aF9sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBjdXJfcG9zID0gY2xvc2VfcGF0aF9ub2RlLmdldFBvaW50QXRMZW5ndGgoaSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW9yX3BvcyA9IGNsb3NlX3BhdGhfbm9kZS5nZXRQb2ludEF0TGVuZ3RoKGktMSk7CgogICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQubGFzc29Qb2ludC5jeT09TWF0aC5yb3VuZChjdXJfcG9zLnkpO30pLmVhY2goZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZihNYXRoLnJvdW5kKGN1cl9wb3MueSkhPU1hdGgucm91bmQocHJpb3JfcG9zLnkpICYmIE1hdGgucm91bmQoY3VyX3Bvcy54KT5kLmxhc3NvUG9pbnQuY3gpIHsKCQkJICAgIGNsb3NlX3JpZ2h0X2VkZ2VzLnNldCh0aGlzLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihNYXRoLnJvdW5kKGN1cl9wb3MueSkhPU1hdGgucm91bmQocHJpb3JfcG9zLnkpICYmIE1hdGgucm91bmQoY3VyX3Bvcy54KTxkLmxhc3NvUG9pbnQuY3gpIHsKCQkJICAgIGNsb3NlX2xlZnRfZWRnZXMuc2V0KHRoaXMsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIENoZWNrIGFuZCBzZWUgaWYgdGhlIHBvaW50cyBoYXZlIGF0IGxlYXN0IG9uZSBlZGdlIHRvIHRoZSBsZWZ0LCBhbmQgYW4gb2RkICMgb2YgZWRnZXMgdG8gdGhlIHJpZ2h0LiBJZiBzbywgbWFyayBhcyBzZWxlY3RlZC4KICAgICAgICAgICAgICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgICAgICAgaWYoKGxlZnRfZWRnZXMuZ2V0KHRoaXMpICsgY2xvc2VfbGVmdF9lZGdlcy5nZXQodGhpcykpPjAgJiYgKHJpZ2h0X2VkZ2VzLmdldCh0aGlzKSArIGNsb3NlX3JpZ2h0X2VkZ2VzLmdldCh0aGlzKSkgJSAyID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYS5sb29wU2VsZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGEubG9vcFNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICAgICAgZC5sb29wU2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFRhZyBwb3NzaWJsZSBpdGVtcwogICAgICAgICAgICBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiAoZC5sb29wU2VsZWN0ZWQgJiYgaXNQYXRoQ2xvc2VkKSB8fCBkLmhvdmVyU2VsZWN0ZWQ7fSkKICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHsgZC5wb3NzaWJsZSA9IHRydWU7fSk7CgogICAgICAgICAgICBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiAhKChkLmxvb3BTZWxlY3RlZCAmJiBpc1BhdGhDbG9zZWQpIHx8IGQuaG92ZXJTZWxlY3RlZCk7fSkKICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtkLnBvc3NpYmxlID0gZmFsc2U7fSk7CgogICAgICAgICAgICBvbi5kcmF3KCk7CgogICAgICAgICAgICAvLyBDb250aW51ZSBkcmF3aW5nIHBhdGggZnJvbSB3aGVyZSBpdCBsZWZ0IG9mZgogICAgICAgICAgICBwYXRoX2xlbmd0aF9zdGFydCA9IHBhdGhfbGVuZ3RoX2VuZCsxOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZHJhZ2VuZCgpIHsKICAgICAgICAgICAgLy8gUmVtb3ZlIG1vdXNlb3ZlciB0YWdnaW5nIGZ1bmN0aW9uCiAgICAgICAgICAgIGl0ZW1zLm9uKCJtb3VzZW92ZXIubGFzc28iLG51bGwpOwoKICAgICAgICAgICAgLy8gVGFnIHNlbGVjdGVkIGl0ZW1zCiAgICAgICAgICAgIGl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQucG9zc2libGUgPT09IHRydWU7fSkKICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtkLnNlbGVjdGVkID0gdHJ1ZTt9KTsKCiAgICAgICAgICAgIGl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQucG9zc2libGUgPT09IGZhbHNlO30pCiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbihkKSB7ZC5zZWxlY3RlZCA9IGZhbHNlO30pOwoKICAgICAgICAgICAgLy8gUmVzZXQgcG9zc2libGUgaXRlbXMKICAgICAgICAgICAgaXRlbXMKICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtkLnBvc3NpYmxlID0gZmFsc2U7fSk7CgogICAgICAgICAgICAvLyBDbGVhciBsYXNzbwogICAgICAgICAgICBkeW5fcGF0aC5hdHRyKCJkIiwgIk0wIDAiKTsKICAgICAgICAgICAgY2xvc2VfcGF0aC5hdHRyKCJkIiwgIk0wIDAiKTsKICAgICAgICAgICAgb3JpZ2luX25vZGUuYXR0cigiZGlzcGxheSIsIm5vbmUiKTsKICAgICAgICAgICAgLy8gUnVuIHVzZXIgZGVmaW5lZCBlbmQgZnVuY3Rpb24KICAgICAgICAgICAgb24uZW5kKCk7CgogICAgICAgIH0KICAgIH0KCiAgICBsYXNzby5pdGVtcyAgPSBmdW5jdGlvbihfKSB7CgogICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGl0ZW1zOwogICAgICAgIGl0ZW1zID0gXzsKICAgICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBkM3Y1LnNlbGVjdCh0aGlzKTsKICAgICAgICAgICAgaWYodHlwZW9mIGl0ZW0uZGF0dW0oKSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIGl0ZW0uZGF0dW0oe3Bvc3NpYmxlOmZhbHNlLHNlbGVjdGVkOmZhbHNlfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAvL2l0ZW0uYXR0cigiZCIsZnVuY3Rpb24oZSkge2UucG9zc2libGUgPSBmYWxzZTsgZS5zZWxlY3RlZCA9IGZhbHNlOyByZXR1cm4gZTt9KTsKICAgICAgICAgICAgICAgIHZhciBlID0gaXRlbS5kYXR1bSgpOwogICAgICAgICAgICAgICAgZS5wb3NzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgZS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaXRlbS5kYXR1bShlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBsYXNzbzsKICAgIH07CgogICAgbGFzc28uY2xvc2VQYXRoRGlzdGFuY2UgID0gZnVuY3Rpb24oXykgewogICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGNsb3NlUGF0aERpc3RhbmNlOwogICAgICAgIGNsb3NlUGF0aERpc3RhbmNlID0gXzsKICAgICAgICByZXR1cm4gbGFzc287CiAgICB9OwoKICAgIGxhc3NvLmNsb3NlUGF0aFNlbGVjdCA9IGZ1bmN0aW9uKF8pIHsKICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBjbG9zZVBhdGhTZWxlY3Q7CiAgICAgICAgY2xvc2VQYXRoU2VsZWN0ID0gXz09PXRydWUgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgcmV0dXJuIGxhc3NvOwogICAgfTsKCiAgICBsYXNzby5pc1BhdGhDbG9zZWQgPSBmdW5jdGlvbihfKSB7CiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaXNQYXRoQ2xvc2VkOwogICAgICAgIGlzUGF0aENsb3NlZCA9IF89PT10cnVlID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIHJldHVybiBsYXNzbzsKICAgIH07CgogICAgbGFzc28uaG92ZXJTZWxlY3QgPSBmdW5jdGlvbihfKSB7CiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaG92ZXJTZWxlY3Q7CiAgICAgICAgaG92ZXJTZWxlY3QgPSBfPT09dHJ1ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgICByZXR1cm4gbGFzc287CiAgICB9OwoKICAgIGxhc3NvLm9uID0gZnVuY3Rpb24odHlwZSxfKSB7CiAgICAgICAgaWYoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBvbjsKICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoPT09MSkgcmV0dXJuIG9uW3R5cGVdOwogICAgICAgIHZhciB0eXBlcyA9IFsic3RhcnQiLCJkcmF3IiwiZW5kIl07CiAgICAgICAgaWYodHlwZXMuaW5kZXhPZih0eXBlKT4tMSkgewogICAgICAgICAgICBvblt0eXBlXSA9IF87CiAgICAgICAgfQogICAgICAgIHJldHVybiBsYXNzbzsKICAgIH07CgogICAgbGFzc28uYXJlYSA9IGZ1bmN0aW9uKF8pIHsKICAgICAgICBpZighYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGFyZWE7CiAgICAgICAgYXJlYT1fOwogICAgICAgIHJldHVybiBsYXNzbzsKICAgIH07CgogICAgZnVuY3Rpb24gc2lnbih4KSB7CiAgICAgICAgcmV0dXJuIHg/eDwwPy0xOjE6MDsKICAgIH0KCgogICAgcmV0dXJuIGxhc3NvOwoKfTsK"></script>
<link href="data:text/css;charset=utf-8,%0A%2EscatterD3%2Dtooltip%20%7B%0Aposition%3A%20absolute%3B%0Acolor%3A%20%23222%3B%0Abackground%3A%20%23fff%3B%0Apadding%3A%20%2E5em%3B%0Atext%2Dshadow%3A%20%23f5f5f5%200%201px%200%3B%0Aborder%2Dradius%3A%202px%3B%0Abox%2Dshadow%3A%200px%200px%207px%201px%20%23a6a6a6%3B%0Aopacity%3A%200%2E95%3B%0Afont%2Dfamily%3A%20Open%20Sans%2C%20Droid%20Sans%2C%20Helvetica%2C%20Verdana%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2010px%3B%0Az%2Dindex%3A%2010%3B%0A%7D%0A%0A%2EscatterD3%2Dmenu%20%7B%0Aposition%3A%20absolute%3B%0Aopacity%3A%200%3B%0Awidth%3A%200%3B%0Aoverflow%3A%20hidden%3B%0Atop%3A%2037px%3B%0Aright%3A%2015px%3B%0Az%2Dindex%3A%2010%3B%0Abackground%3A%20%23F5F7F9%3B%0Abox%2Dshadow%3A%200px%200px%202px%201px%20%23d6d6d6%3B%0Afont%2Dfamily%3A%20Open%20Sans%2C%20Droid%20Sans%2C%20Helvetica%2C%20Verdana%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2011px%3B%0Atext%2Dalign%3A%20right%3B%0Alist%2Dstyle%3A%20none%3B%0Apadding%3A%200%2E2em%3B%0Amargin%3A%200%3B%0A%7D%0A%2EscatterD3%2Dmenu%20li%20%7B%0Awhite%2Dspace%3A%20nowrap%3B%0Apadding%3A%200%2E6em%200%2E8em%3B%0Amargin%3A%200%3B%0A%7D%0A%2EscatterD3%2Dmenu%20li%20a%20%7B%0Acursor%3A%20pointer%3B%0Acolor%3A%20%23727476%3B%0A%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Dtransform%3A%20uppercase%3B%0A%7D%0A%2EscatterD3%2Dmenu%20li%20a%3Ahover%20%7B%0Acolor%3A%20%2325282A%3B%0A%7D%0A%0A%2EscatterD3%20%2Egear%2Dmenu%20%7B%0Acursor%3A%20pointer%3B%0Aheight%3A%2025px%3B%0Awidth%3A%2025px%3B%0A%7D%0A%2EscatterD3%20%2Egear%2Dmenu%20path%20%7B%0Aopacity%3A%200%2E2%3B%0Atransition%3A%20opacity%20%2E3s%3B%0A%7D%0A%2EscatterD3%20%2Egear%2Dmenu%3Ahover%20path%2C%0A%2EscatterD3%20%2Egear%2Dmenu%2Eselected%20path%20%7B%0Aopacity%3A%200%2E8%3B%0Atransition%3A%20opacity%20%2E3s%3B%0A%7D%0A%0A%2EscatterD3%2Dcaption%20%7B%0Abackground%3A%20%23F5F7F9%3B%0Acolor%3A%20%23727476%3B%0Abox%2Dshadow%3A%200px%200px%202px%201px%20%23d6d6d6%3B%0Afont%2Dfamily%3A%20Open%20Sans%2C%20Droid%20Sans%2C%20Helvetica%2C%20Verdana%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%201px%3B%0Atext%2Dalign%3A%20left%3B%0Apadding%3A%2010px%200%3B%0Amargin%3A%200%3B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%2010%3B%0Awidth%3A%20100%25%3B%0Atransition%3A%20all%20%2E3s%3B%0Aopacity%3A%200%3B%0A%7D%0A%2EscatterD3%2Dcaption%2Evisible%20%7B%0Aopacity%3A%200%2E97%3B%0Acursor%3A%20pointer%3B%0A%7D%0A%2EscatterD3%2Dcaption%20h1%2C%0A%2EscatterD3%2Dcaption%20h2%2C%0A%2EscatterD3%2Dcaption%20p%0A%7B%0Amargin%3A%205px%2015px%3B%0Aline%2Dheight%3A%201%2E35%3B%0Apadding%3A%200%3B%0Aborder%3A%20none%3B%0A%7D%0A%2EscatterD3%2Dcaption%20h1%20%7B%0Afont%2Dsize%3A%2014px%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2EscatterD3%2Dcaption%20h2%20%7B%0Afont%2Dsize%3A%2013px%3B%0Afont%2Dweight%3A%20normal%3B%0A%7D%0A%2EscatterD3%2Dcaption%20%2Ecaption%20%7B%0Afont%2Dsize%3A%2011px%3B%0Afont%2Dweight%3A%20normal%3B%0A%7D%0A%0A%2EscatterD3%20%2Ecaption%2Dicon%20%7B%0Acursor%3A%20pointer%3B%0Aheight%3A%2025px%3B%0Awidth%3A%2025px%3B%0A%7D%0A%2EscatterD3%20%2Ecaption%2Dicon%20path%20%7B%0Aopacity%3A%200%2E2%3B%0Atransition%3A%20opacity%20%2E3s%3B%0A%7D%0A%2EscatterD3%20%2Ecaption%2Dicon%3Ahover%20path%2C%0A%2EscatterD3%20%2Ecaption%2Dicon%2Eselected%20path%20%7B%0Aopacity%3A%200%2E8%3B%0Atransition%3A%20opacity%20%2E3s%3B%0A%7D%0A%0A%2Ehidden%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2EscatterD3%20%2Edot%20%7B%0Acursor%3A%20default%3B%0A%7D%0A%2EscatterD3%20%2Epoint%2Dlabel%20%7B%0Acursor%3A%20pointer%3B%0Apaint%2Dorder%3A%20stroke%3B%0Astroke%2Dwidth%3A%204px%3B%0Astroke%3A%20%23FFFFFF%3B%0A%7D%0A%2EscatterD3%2C%20%2EscatterD3%3Afocus%20%7B%0Aoutline%3A%200px%20solid%20transparent%0A%7D%0A%2EscatterD3%20%2Eroot%20%7B%0Acursor%3A%20move%3B%0A%7D%0A%2EscatterD3%20%2Ex%2Daxis%2Dlabel%2C%0A%2EscatterD3%20%2Ey%2Daxis%2Dlabel%20%7B%0Apaint%2Dorder%3A%20stroke%3B%0Astroke%2Dwidth%3A%205px%3B%0Astroke%3A%20%23FFFFFF%3B%0A%7D%0A%0A%2Eshiny%2Dbound%2Doutput%20%2Elabel%20%7B%0Afont%2Dsize%3A%20100%25%3B%0Afont%2Dweight%3A%20normal%3B%0Atext%2Dalign%3A%20left%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,Ly8gQ2xlYW4gdmFyaWFibGVzIGxldmVscyB0byBiZSB2YWxpZCBDU1MgY2xhc3NlcwpmdW5jdGlvbiBjc3NfY2xlYW4ocykgewogICAgaWYgKHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuICIiOwogICAgcmV0dXJuIHMudG9TdHJpbmcoKS5yZXBsYWNlKC9bXlx3LV0vZywgIl8iKTsKfQoKLy8gRGVmYXVsdCB0cmFuc2xhdGlvbiBmdW5jdGlvbiBmb3IgcG9pbnRzIGFuZCBsYWJlbHMKZnVuY3Rpb24gdHJhbnNsYXRpb24oZCwgc2NhbGVzKSB7CiAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgc2NhbGVzLngoZC54KSArICIsIiArIHNjYWxlcy55KGQueSkgKyAiKSI7Cn0KCi8vIEtleSBmdW5jdGlvbiB0byBpZGVudGlmeSByb3dzIHdoZW4gaW50ZXJhY3RpdmVseSBmaWx0ZXJpbmcKZnVuY3Rpb24ga2V5KGQpIHsKICAgIHJldHVybiBkLmtleV92YXI7Cn0KCgovLyBDcmVhdGUgdG9vbHRpcCBjb250ZW50IGZ1bmN0aW9uCmZ1bmN0aW9uIHRvb2x0aXBfY29udGVudChkLCBjaGFydCkgewoKICAgIHZhciBzZXR0aW5ncyA9IGNoYXJ0LnNldHRpbmdzKCk7CgogICAgLy8gbm8gdG9vbHRpcHMKICAgIGlmICghc2V0dGluZ3MuaGFzX3Rvb2x0aXBzKSByZXR1cm4gbnVsbDsKICAgIGlmIChzZXR0aW5ncy5oYXNfY3VzdG9tX3Rvb2x0aXBzKSB7CiAgICAgICAgLy8gY3VzdG9tIHRvb2x0aXBzbAogICAgICAgIHJldHVybiBkLnRvb2x0aXBfdGV4dDsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZGVmYXVsdCB0b29sdGlwcwogICAgICAgIHZhciB0ZXh0ID0gQXJyYXkoKTsKICAgICAgICBpZiAoc2V0dGluZ3MuaGFzX2xhYmVscykgdGV4dC5wdXNoKCI8Yj4iICsgZC5sYWIgKyAiPC9iPiIpOwogICAgICAgIHZhciB4X3ZhbHVlID0gc2V0dGluZ3MueF9jYXRlZ29yaWNhbCA/IGQueCA6IGQueC50b0ZpeGVkKDMpOwogICAgICAgIHZhciB5X3ZhbHVlID0gc2V0dGluZ3MueV9jYXRlZ29yaWNhbCA/IGQueSA6IGQueS50b0ZpeGVkKDMpOwogICAgICAgIHRleHQucHVzaCgiPGI+IiArIHNldHRpbmdzLnhsYWIgKyAiOjwvYj4gIiArIHhfdmFsdWUpOwogICAgICAgIHRleHQucHVzaCgiPGI+IiArIHNldHRpbmdzLnlsYWIgKyAiOjwvYj4gIiArIHlfdmFsdWUpOwogICAgICAgIGlmIChzZXR0aW5ncy5oYXNfY29sb3JfdmFyKSB0ZXh0LnB1c2goIjxiPiIgKyBzZXR0aW5ncy5jb2xfbGFiICsgIjo8L2I+ICIgKyBkLmNvbF92YXIpOwogICAgICAgIGlmIChzZXR0aW5ncy5oYXNfc3ltYm9sX3ZhcikgdGV4dC5wdXNoKCI8Yj4iICsgc2V0dGluZ3Muc3ltYm9sX2xhYiArICI6PC9iPiAiICsgZC5zeW1ib2xfdmFyKTsKICAgICAgICBpZiAoc2V0dGluZ3MuaGFzX3NpemVfdmFyKSB0ZXh0LnB1c2goIjxiPiIgKyBzZXR0aW5ncy5zaXplX2xhYiArICI6PC9iPiAiICsgZC5zaXplX3Zhcik7CiAgICAgICAgaWYgKHNldHRpbmdzLmhhc19vcGFjaXR5X3ZhcikgdGV4dC5wdXNoKCI8Yj4iICsgc2V0dGluZ3Mub3BhY2l0eV9sYWIgKyAiOjwvYj4gIiArIGQub3BhY2l0eV92YXIpOwogICAgICAgIHJldHVybiB0ZXh0LmpvaW4oIjxiciAvPiIpOwogICAgfQp9CgovLyBDdXN0b20gY29sb3Igc2NoZW1lCmZ1bmN0aW9uIGN1c3RvbV9zY2hlbWUxMCgpIHsKICAgIC8vIHNsaWNlKCkgdG8gY3JlYXRlIGEgY29weQogICAgdmFyIHNjaGVtZSA9IGQzdjUuc2NoZW1lQ2F0ZWdvcnkxMC5zbGljZSgpOwogICAgLy8gU3dpdGNoIG9yYW5nZSBhbmQgcmVkCiAgICB2YXIgdG1wID0gc2NoZW1lWzNdOwogICAgc2NoZW1lWzNdID0gc2NoZW1lWzFdOwogICAgc2NoZW1lWzFdID0gdG1wOwogICAgcmV0dXJuIHNjaGVtZTsKfQoKLy8gR2VhciBpY29uIHBhdGgKZnVuY3Rpb24gZ2Vhcl9wYXRoKCkgewogICAgcmV0dXJuICJtIDI0LjI4LDcuMjA4NzM3NCAtMS4zMDc3OTYsMCBjIC0wLjE3MDUyLC0wLjY1NTMzOCAtMC40MzM0ODYsLTEuMjg2MzQ5IC0wLjc3MjIwOCwtMS44NTg4NDYgbCAwLjkyNzU2NiwtMC45Mjk3OTcgYyAwLjI4MTI3MywtMC4yODExODggMC4yODEyNzMsLTAuNzM4MTM5IDAsLTEuMDE5MzEyIEwgMjEuNjAwMTg1LDEuODcyODcyNyBDIDIxLjMxOTA4OCwxLjU5MTY4NSAyMC44NjMxNDYsMS41OTE0MjE5IDIwLjU4MjA0OCwxLjg3MjYwOTYgTCAxOS42NTAwNjksMi44MDAxMzU4IEMgMTkuMDc3NjA2LDIuNDYxNDE3MyAxOC40NDY2MDIsMi4xOTgyMjk2IDE3Ljc5MTI2MiwyLjAyNzgzODkgbCAwLC0xLjMwNzgzODQ2IGMgMCwtMC4zOTc2MiAtMC4zMTM2NDUsLTAuNzIgLTAuNzExMjYyLC0wLjcyIGwgLTIuMTYsMCBjIC0wLjM5NzYxOCwwIC0wLjcxMTI2MiwwLjMyMjM4IC0wLjcxMTI2MiwwLjcyIGwgMCwxLjMwNzgzODQ2IGMgLTAuNjU1MzQsMC4xNzAzOTA3IC0xLjI4NjM0NSwwLjQzMzQ0IC0xLjg1ODg0OSwwLjc3MjIxMzggTCAxMS40MjAwOTIsMS44NzI0NDM1IGMgLTAuMjgxMTg1LC0wLjI4MTI4NDYgLTAuNzM4MTMxLC0wLjI4MTI4NDYgLTEuMDE5MzE1LDAgTCA4Ljg3Mjg3MzcsMy4zOTk4MTI0IEMgOC41OTE2ODg4LDMuNjgwOTE3NCA4LjU5MTQyNyw0LjEzNjg1NzQgOC44NzI2MTIsNC40MTc5NDg0IGwgMC45Mjc1MjM0LDAuOTMxOTg0IGMgLTAuMzM4ODA5OSwwLjU3MjQ1NiAtMC42MDE5MDc2LDEuMjAzNDY3IC0wLjc3MjI5NTYsMS44NTg4MDUgbCAtMS4zMDc4Mzk4LDAgYyAtMC4zOTc2MTU5LDAgLTAuNzIsMC4zMTM2NDMgLTAuNzIsMC43MTEyNjMgTCA3LDEwLjA4IGMgMCwwLjM5NzY2MSAwLjMyMjM4NDEsMC43MTEyNjMgMC43MiwwLjcxMTI2MyBsIDEuMzA3ODM5OCwwIGMgMC4xNzAzODgsMC42NTUzMzggMC40MzM0NDE0LDEuMjg2MzQ5IDAuNzcyMjA4NCwxLjg1ODg0NiBMIDguODcyMzQ5LDEzLjU3OTkwNiBjIC0wLjI4MTE4MzYsMC4yODExMDUgLTAuMjgxMTgzNiwwLjczODEzOSAwLDEuMDE5MTg4IGwgMS41MjczNzgsMS41Mjc5NTEgYyAwLjI4MTE4NSwwLjI4MTI3IDAuNzM3MDQxLDAuMjgxNTMzIDEuMDE4MjI0LDMuMDRlLTQgbCAwLjkzMTk4MSwtMC45Mjc0ODQgYyAwLjU3MjQ2MSwwLjMzODcxOCAxLjIwMzQ2NiwwLjYwMTgyMyAxLjg1ODgwNiwwLjc3MjMzOCBsIDAsMS4zMDc3OTcgYyAwLDAuMzk3NjYyIDAuMzEzNjQ0LDAuNzIgMC43MTEyNjIsMC43MiBsIDIuMTYsMCBjIDAuMzk3NjYsMCAwLjcxMTI2MiwtMC4zMjIzOCAwLjcxMTI2MiwtMC43MiBsIDAsLTEuMzA3Nzk3IGMgMC42NTUzNCwtMC4xNzA1MTUgMS4yODYzNDQsLTAuNDMzNDgxIDEuODU4ODQ5LC0wLjc3MjIxNCBsIDAuOTI5Nzk3LDAuOTI3NTY4IGMgMC4yODEwOTgsMC4yODEyNzEgMC43MzgxMzEsMC4yODEyNzEgMS4wMTkxODQsMCBsIDEuNTI3OTQ3LC0xLjUyNzM2OSBjIDAuMjgxMjczLC0wLjI4MTEwNSAwLjI4MTUzNCwtMC43MzcwNDUgMy4wNmUtNCwtMS4wMTgxMzYgbCAtMC45Mjc0OCwtMC45MzE5ODQgYyAwLjMzODcyMywtMC41NzI0NTYgMC42MDE4MTksLTEuMjAzNDY3IDAuNzcyMzM5LC0xLjg1ODgwNSBsIDEuMzA3Nzk2LDAgYyAwLjM5NzY2LDAgMC43MiwtMC4zMTM2NDMgMC43MiwtMC43MTEyNjMgbCAwLC0yLjE1OTk5OTYgYyAwLC0wLjM5NzYyIC0wLjMyMjM4NCwtMC43MTEyNjMgLTAuNzIsLTAuNzExMjYzIHogTSAxNiwxMi42IGMgLTEuOTg4MjU4LDAgLTMuNiwtMS42MTE3ODkgLTMuNiwtMy41OTk5OTk2IDAsLTEuOTg4MjUyIDEuNjExNzQyLC0zLjYgMy42LC0zLjYgMS45ODgyNTgsMCAzLjYsMS42MTE3NDggMy42LDMuNiBDIDE5LjYsMTAuOTg4MjUyIDE3Ljk4ODI1OCwxMi42IDE2LDEyLjYgWiI7Cn0KCi8vIENhcHRpb24gaWNvbiBwYXRoCmZ1bmN0aW9uIGNhcHRpb25fcGF0aCgpIHsKICAgIHJldHVybiAibSA5LjAwODQ3NjUsMC4wMDMyMTYzIHEgMS44MjQ5NjQ1LDAgMy40OTM5Mzk1LDAuNzA5NzUzOSAxLjY2ODk3NCwwLjcwOTYxNTMgMi44Nzc4MSwxLjkxODUyMyAxLjIwODgzOSwxLjIwODc3MDcgMS45MTg1NSwyLjg3Nzc4NDcgMC43MDk3MDIsMS42NjkwMTU1IDAuNzA5NzAyLDMuNDkzOTM4NyAwLDEuODI0OTIzNCAtMC43MDk3MDIsMy40OTM5Mzg0IC0wLjcwOTcxMSwxLjY2OTAxNSAtMS45MTg1NSwyLjg3Nzc4NCAtMS4yMDg4MzYsMS4yMDg5MDcgLTIuODc3ODEsMS45MTg1MjMgLTEuNjY4OTc1LDAuNzA5NzU0IC0zLjQ5MzkzOTUsMC43MDk3NTQgLTEuODI0OTUwMiwwIC0zLjQ5MzkyNCwtMC43MDk3NTQgUSAzLjg0NTU2NTEsMTYuNTgzODQ2IDIuNjM2NzI2NywxNS4zNzQ5MzkgMS40Mjc4ODg1LDE0LjE2NjE3IDAuNzE4MTksMTIuNDk3MTU1IDAuMDA4NDc3OCwxMC44MjgxNCAwLjAwODQ3NzgsOS4wMDMyMTY2IDAuMDA4NDc3OCw3LjE3ODI5MzQgMC43MTgxOSw1LjUwOTI3NzkgMS40Mjc4ODg1LDMuODQwMjYyNSAyLjYzNjcyNjcsMi42MzE0OTMyIDMuODQ1NTY1MSwxLjQyMjU4NTUgNS41MTQ1NTI1LDAuNzEyOTcwMiA3LjE4MzUyNjMsMC4wMDMyMTYzIDkuMDA4NDc2NSwwLjAwMzIxNjMgWiBtIDEuMTY5ODQ3NSwyLjc2MDc4NiAtMi4zMzk2ODEsMCBxIC0wLjE1NTk5MDUsMCAtMC4yNzI5NjMyLDAuMTE3NjkyNCAtMC4xMTcsMC4xMTYzMDc2IC0wLjExNywwLjI3MzA0NjIgbCAwLDIuMzM5NTg0NyBxIDAsMC4xNTYwNDYyIDAuMTE3LDAuMjczMDQ0NyAwLjExNywwLjExNzY5MjQgMC4yNzI5NjMyLDAuMTE3NjkyNCBsIDIuMzM5NjgxLDAgcSAwLjE1NTk3NywwIDAuMjcyOTYzLC0wLjExNzY5MjQgMC4xMTcsLTAuMTE2MzA3NiAwLjExNywtMC4yNzMwNDQ3IGwgMCwtMi4zMzk1ODQ3IHEgMCwtMC4xNTYwNDYyIC0wLjExNywtMC4yNzMwNDYyIC0wLjExNywtMC4xMTc2OTI0IC0wLjI3Mjk2MywtMC4xMTc2OTI0IHogbSAwLDQuNjc5NDQ2MyAtMy44OTk0Nzc3LDAgcSAtMC4xNTU5NzcyLDAgLTAuMjcyOTYzLDAuMTE3NjkyNCAtMC4xMTcsMC4xMTYzMDc2IC0wLjExNywwLjI3MjkwNzggbCAwLDAuNzc5OTUyNCBxIDAsMC4xNTU5MDc4IDAuMTE3LDAuMjcyOTA3OCAwLjExNywwLjExNjMwNzYgMC4yNzI5NjMsMC4xMTYzMDc2IGwgMS4xNjk4NDc1LDAgMCwzLjExOTUzOTQgLTEuMTY5ODQ3NSwwIHEgLTAuMTU1OTc3MiwwIC0wLjI3Mjk2MywwLjExNzY5NiAtMC4xMTcsMC4xMTYzMDQgLTAuMTE3LDAuMjczMDQ2IGwgMCwwLjc3OTgxNSBxIDAsMC4xNTYwNDYgMC4xMTcsMC4yNzMwNDYgMC4xMTcsMC4xMTYzMDQgMC4yNzI5NjMsMC4xMTYzMDQgbCA1LjQ1OTI3NDcsMCBxIDAuMTU1OTc3LDAgMC4yNzI5NjQsLTAuMTE2MzA0IDAuMTE3LC0wLjExNjMwNCAwLjExNywtMC4yNzMwNDYgbCAwLC0wLjc3OTgxNSBxIDAsLTAuMTU2MDQ2IC0wLjExNywtMC4yNzMwNDYgLTAuMTE3LC0wLjExNzY5NiAtMC4yNzI5NjQsLTAuMTE3Njk2IGwgLTEuMTY5ODQ4LDAgMCwtNC4yODkzOTk2IHEgMCwtMC4xNTU5MDc4IC0wLjExNywtMC4yNzI5MDc4IC0wLjExNywtMC4xMTc2OTI0IC0wLjI3Mjk2MywtMC4xMTc2OTI0IHoiOwp9Cg=="></script>
<script src="data:application/x-javascript;base64,CgoKLy8gQ29tcHV0ZSB4IGFuZCB5IGF4ZXMgbGltaXRzCmZ1bmN0aW9uIGNvbXB1dGVfbGltaXRzKGNoYXJ0KSB7CgogICAgdmFyIG1pbl94LCBtaW5feSwgbWF4X3gsIG1heF95LCBnYXBfeCwgZ2FwX3k7CiAgICB2YXIgc2V0dGluZ3MgPSBjaGFydC5zZXR0aW5ncygpOwogICAgdmFyIGRhdGEgPSBjaGFydC5kYXRhKCk7CgogICAgLy8geCBhbmQgeSBsaW1pdHMKICAgIGlmIChzZXR0aW5ncy54bGltID09PSBudWxsKSB7CiAgICAgICAgbWluX3ggPSBkM3Y1Lm1pbihkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQueCk7IH0pOwogICAgICAgIG1heF94ID0gZDN2NS5tYXgoZGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkLngpOyB9KTsKICAgICAgICBnYXBfeCA9IChtYXhfeCAtIG1pbl94KSAqIDAuMjsKICAgICAgICBpZiAobWluX3ggPT0gbWF4X3gpIHsKICAgICAgICAgICAgbWluX3ggPSBtaW5feCAqIDAuODsKICAgICAgICAgICAgbWF4X3ggPSBtYXhfeCAqIDEuMjsKICAgICAgICAgICAgZ2FwX3ggPSAwOwogICAgICAgIH0KICAgICAgICBpZiAobWluX3ggPT0gMCAmJiBtYXhfeCA9PSAwKSB7CiAgICAgICAgICAgIG1pbl94ID0gLTE7CiAgICAgICAgICAgIG1heF94ID0gMTsKICAgICAgICAgICAgZ2FwX3ggPSAwLjE7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBtaW5feCA9IHNldHRpbmdzLnhsaW1bMF07CiAgICAgICAgbWF4X3ggPSBzZXR0aW5ncy54bGltWzFdOwogICAgICAgIGdhcF94ID0gMDsKICAgIH0KICAgIGlmIChzZXR0aW5ncy55bGltID09PSBudWxsKSB7CiAgICAgICAgbWluX3kgPSBkM3Y1Lm1pbihkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQueSk7IH0pOwogICAgICAgIG1heF95ID0gZDN2NS5tYXgoZGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkLnkpOyB9KTsKICAgICAgICBnYXBfeSA9IChtYXhfeSAtIG1pbl95KSAqIDAuMjsKICAgICAgICBpZiAobWluX3kgPT0gbWF4X3kpIHsKICAgICAgICAgICAgbWluX3kgPSBtaW5feSAqIDAuODsKICAgICAgICAgICAgbWF4X3kgPSBtYXhfeSAqIDEuMjsKICAgICAgICAgICAgZ2FwX3kgPSAwOwogICAgICAgIH0KICAgICAgICBpZiAobWluX3kgPT0gMCAmJiBtYXhfeSA9PSAwKSB7CiAgICAgICAgICAgIG1pbl95ID0gLTE7CiAgICAgICAgICAgIG1heF95ID0gMTsKICAgICAgICAgICAgZ2FwX3kgPSAwLjE7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBtaW5feSA9IHNldHRpbmdzLnlsaW1bMF07CiAgICAgICAgbWF4X3kgPSBzZXR0aW5ncy55bGltWzFdOwogICAgICAgIGdhcF95ID0gMDsKICAgIH0KCiAgICBtaW5feCA9IHNldHRpbmdzLnhfbG9nID8gbWluX3ggKiAwLjggOiBtaW5feCAtIGdhcF94OwogICAgbWF4X3ggPSBzZXR0aW5ncy54X2xvZyA/IG1heF94ICogMS4zIDogbWF4X3ggKyBnYXBfeDsKICAgIG1pbl95ID0gc2V0dGluZ3MueV9sb2cgPyBtaW5feSAqIDAuOSA6IG1pbl95IC0gZ2FwX3k7CiAgICBtYXhfeSA9IHNldHRpbmdzLnlfbG9nID8gbWF4X3kgKiAxLjEgOiBtYXhfeSArIGdhcF95OwoKICAgIC8vIEZpeGVkIHJhdGlvCiAgICB2YXIgcmFuZ2VfeCA9IG1heF94IC0gbWluX3g7CiAgICB2YXIgbWlkX3ggPSAobWF4X3ggKyBtaW5feCkgLyAyOwogICAgdmFyIHJhbmdlX3kgPSBtYXhfeSAtIG1pbl95OwogICAgdmFyIG1pZF95ID0gKG1heF95ICsgbWluX3kpIC8gMjsKICAgIGlmIChzZXR0aW5ncy5maXhlZCAmJiBzZXR0aW5ncy54bGltID09PSBudWxsICYmIHNldHRpbmdzLnlsaW0gPT09IG51bGwpIHsKICAgICAgICB2YXIgcmF0aW8gPSAocmFuZ2VfeSAvIHJhbmdlX3gpOwogICAgICAgIGlmIChyYXRpbyA+IDEpIHsKICAgICAgICAgICAgcmFuZ2VfeCA9IHJhbmdlX3ggKiByYXRpbzsKICAgICAgICAgICAgbWluX3ggPSBtaWRfeCAtIHJhbmdlX3ggLyAyOwogICAgICAgICAgICBtYXhfeCA9IG1pZF94ICsgcmFuZ2VfeCAvIDI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmFuZ2VfeSA9IHJhbmdlX3kgLyByYXRpbzsKICAgICAgICAgICAgbWluX3kgPSBtaWRfeSAtIHJhbmdlX3kgLyAyOwogICAgICAgICAgICBtYXhfeSA9IG1pZF95ICsgcmFuZ2VfeSAvIDI7CiAgICAgICAgfQogICAgfQogICAgaWYgKHNldHRpbmdzLmZpeGVkICYmIHNldHRpbmdzLnhsaW0gIT0gbnVsbCkgewogICAgICAgIHJhbmdlX3kgPSByYW5nZV94OwogICAgICAgIG1pbl95ID0gbWlkX3kgLSByYW5nZV95IC8gMjsKICAgICAgICBtYXhfeSA9IG1pZF95ICsgcmFuZ2VfeSAvIDI7CiAgICB9CiAgICBpZiAoc2V0dGluZ3MuZml4ZWQgJiYgc2V0dGluZ3MueWxpbSAhPSBudWxsKSB7CiAgICAgICAgcmFuZ2VfeCA9IHJhbmdlX3k7CiAgICAgICAgbWluX3ggPSBtaWRfeCAtIHJhbmdlX3ggLyAyOwogICAgICAgIG1heF94ID0gbWlkX3ggKyByYW5nZV94IC8gMjsKICAgIH0KCiAgICByZXR1cm4ge21pbl94OiBtaW5feCwgbWF4X3g6IG1heF94LCBtaW5feTogbWluX3ksIG1heF95OiBtYXhfeX07Cn0KCgoKLy8gQ29tcHV0ZSBhbmQgc2V0dXAgc2NhbGVzCmZ1bmN0aW9uIHNldHVwX3NjYWxlcyhjaGFydCkgewoKICAgIHZhciBzY2FsZXMgPSB7fTsKICAgIHZhciBzZXR0aW5ncyA9IGNoYXJ0LnNldHRpbmdzKCk7CiAgICB2YXIgZGltcyA9IGNoYXJ0LmRpbXMoKTsKICAgIHZhciBkYXRhID0gY2hhcnQuZGF0YSgpOwoKICAgIC8vIGlmIGRhdGEgaXMgZW1wdHkKICAgIGlmIChkYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgc2V0dGluZ3MueF9jYXRlZ29yaWNhbCA9IGZhbHNlOwogICAgICAgIHNldHRpbmdzLnlfY2F0ZWdvcmljYWwgPSBmYWxzZTsKICAgICAgICBjaGFydC5zZXR0aW5ncyhzZXR0aW5ncyk7CiAgICAgICAgY2hhcnQuZGF0YShbeyB4OiAwLCB5OiAwLCBrZXk6IDEgfV0pOwogICAgfQoKICAgIHZhciBsaW1pdHMgPSBjb21wdXRlX2xpbWl0cyhjaGFydCk7CgogICAgLy8geCwgeSBzY2FsZXMKICAgIGlmICghc2V0dGluZ3MueF9jYXRlZ29yaWNhbCkgewogICAgICAgIHNjYWxlcy54ID0gc2V0dGluZ3MueF9sb2cgPyBkM3Y1LnNjYWxlTG9nKCkgOiBkM3Y1LnNjYWxlTGluZWFyKCk7CiAgICAgICAgc2NhbGVzLngucmFuZ2UoWzAsIGRpbXMud2lkdGhdKQogICAgICAgICAgICAuZG9tYWluKFtsaW1pdHMubWluX3gsIGxpbWl0cy5tYXhfeF0pOwogICAgfSBlbHNlIHsKICAgICAgICBzY2FsZXMueCA9IGQzdjUuc2NhbGVQb2ludCgpCiAgICAgICAgICAgIC5yYW5nZShbMCwgZGltcy53aWR0aF0pCiAgICAgICAgICAgIC5wYWRkaW5nKDAuOSkKICAgICAgICAgICAgLmRvbWFpbihkM3Y1Lm1hcChkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC54OyB9KS5rZXlzKCkuc29ydCgpKTsKICAgIH0KICAgIGlmICghc2V0dGluZ3MueV9jYXRlZ29yaWNhbCkgewogICAgICAgIHNjYWxlcy55ID0gc2V0dGluZ3MueV9sb2cgPyBkM3Y1LnNjYWxlTG9nKCkgOiBkM3Y1LnNjYWxlTGluZWFyKCk7CiAgICAgICAgc2NhbGVzLnkucmFuZ2UoW2RpbXMuaGVpZ2h0LCAwXSkKICAgICAgICAgICAgLmRvbWFpbihbbGltaXRzLm1pbl95LCBsaW1pdHMubWF4X3ldKTsKICAgIH0gZWxzZSB7CiAgICAgICAgc2NhbGVzLnkgPSBkM3Y1LnNjYWxlUG9pbnQoKQogICAgICAgICAgICAucmFuZ2UoW2RpbXMuaGVpZ2h0LCAwXSkKICAgICAgICAgICAgLnBhZGRpbmcoMC45KQogICAgICAgICAgICAuZG9tYWluKGQzdjUubWFwKGRhdGEsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnk7IH0pLmtleXMoKS5zb3J0KCkpOwogICAgfQogICAgLy8gS2VlcCB0cmFjayBvZiBvcmlnaW5hbCBzY2FsZXMKICAgIHNjYWxlcy54X29yaWcgPSBzY2FsZXMueDsKICAgIHNjYWxlcy55X29yaWcgPSBzY2FsZXMueTsKICAgIC8vIHggYW5kIHkgYXhpcyBmdW5jdGlvbnMKICAgIHNjYWxlcy54QXhpcyA9IGQzdjUuYXhpc0JvdHRvbShzY2FsZXMueCkKICAgICAgICAudGlja1NpemUoLWRpbXMuaGVpZ2h0KTsKICAgIGlmICghc2V0dGluZ3MueF9jYXRlZ29yaWNhbCkgewogICAgICAgIHNjYWxlcy54QXhpcy50aWNrRm9ybWF0KGQzdjUuZm9ybWF0KCIiKSk7CiAgICB9CiAgICBzY2FsZXMueUF4aXMgPSBkM3Y1LmF4aXNMZWZ0KHNjYWxlcy55KQogICAgICAgIC50aWNrU2l6ZSgtZGltcy53aWR0aCk7CiAgICBpZiAoIXNldHRpbmdzLnlfY2F0ZWdvcmljYWwpIHsKICAgICAgICBzY2FsZXMueUF4aXMudGlja0Zvcm1hdChkM3Y1LmZvcm1hdCgiIikpOwogICAgfQoKICAgIC8vIENvbnRpbnVvdXMgY29sb3Igc2NhbGUKICAgIGlmIChzZXR0aW5ncy5jb2xfY29udGludW91cykgewogICAgICAgIGlmIChzZXR0aW5ncy5jb2xvcnMgPT09IG51bGwpIHsKICAgICAgICAgICAgc2NhbGVzLmNvbG9yID0gZDN2NS5zY2FsZVNlcXVlbnRpYWwoZDN2NS5pbnRlcnBvbGF0ZVZpcmlkaXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNjYWxlcy5jb2xvciA9IGQzdjUuc2NhbGVTZXF1ZW50aWFsKGQzdjVbc2V0dGluZ3MuY29sb3JzXSk7CiAgICAgICAgfQogICAgICAgIHNjYWxlcy5jb2xvciA9IHNjYWxlcy5jb2xvcgogICAgICAgICAgICAuZG9tYWluKFtkM3Y1Lm1pbihkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQuY29sX3Zhcik7IH0pLAogICAgICAgICAgICAgICAgICAgICBkM3Y1Lm1heChkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQuY29sX3Zhcik7IH0pXSk7CiAgICB9CiAgICAvLyBPcmRpbmFsIGNvbG9yIHNjYWxlCiAgICBlbHNlIHsKICAgICAgICBpZiAoc2V0dGluZ3MuY29sb3JzID09PSBudWxsKSB7CiAgICAgICAgICAgIC8vIE51bWJlciBvZiBkaWZmZXJlbnQgbGV2ZWxzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL2lzc3Vlcy80NzIKICAgICAgICAgICAgdmFyIG4gPSBkM3Y1Lm1hcChkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb2xfdmFyOyB9KS5zaXplKCk7CiAgICAgICAgICAgIHNjYWxlcy5jb2xvciA9IG4gPD0gMTAgPyBkM3Y1LnNjYWxlT3JkaW5hbChjdXN0b21fc2NoZW1lMTAoKSkgOiBkM3Y1LnNjYWxlT3JkaW5hbChkM3Y1LnNjaGVtZVBhaXJlZCk7CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNldHRpbmdzLmNvbG9ycykpIHsKICAgICAgICAgICAgc2NhbGVzLmNvbG9yID0gZDN2NS5zY2FsZU9yZGluYWwoKS5yYW5nZShzZXR0aW5ncy5jb2xvcnMpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChzZXR0aW5ncy5jb2xvcnMpID09PSAic3RyaW5nIikgewogICAgICAgICAgICAvLyBTaW5nbGUgc3RyaW5nIGdpdmVuCiAgICAgICAgICAgIHNjYWxlcy5jb2xvciA9IGQzdjUuc2NhbGVPcmRpbmFsKCkucmFuZ2UoQXJyYXkoc2V0dGluZ3MuY29sb3JzKSk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHNldHRpbmdzLmNvbG9ycykgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHNjYWxlcy5jb2xvciA9IGQzdjUuc2NhbGVPcmRpbmFsKCkKICAgICAgICAgICAgICAgIC5yYW5nZShkM3Y1LnZhbHVlcyhzZXR0aW5ncy5jb2xvcnMpKQogICAgICAgICAgICAgICAgLmRvbWFpbihkM3Y1LmtleXMoc2V0dGluZ3MuY29sb3JzKSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFN5bWJvbCBzY2FsZQogICAgdmFyIHN5bWJvbF90YWJsZSA9IHsKICAgICAgICAiY2lyY2xlIjogZDN2NS5zeW1ib2xDaXJjbGUsCiAgICAgICAgImNyb3NzIjogZDN2NS5zeW1ib2xDcm9zcywKICAgICAgICAiZGlhbW9uZCI6IGQzdjUuc3ltYm9sRGlhbW9uZCwKICAgICAgICAic3F1YXJlIjogZDN2NS5zeW1ib2xTcXVhcmUsCiAgICAgICAgInN0YXIiOiBkM3Y1LnN5bWJvbFN0YXIsCiAgICAgICAgInRyaWFuZ2xlIjogZDN2NS5zeW1ib2xUcmlhbmdsZSwKICAgICAgICAid3llIjogZDN2NS5zeW1ib2xXeWUsCiAgICB9CiAgICBpZiAoc2V0dGluZ3Muc3ltYm9scyA9PT0gbnVsbCkgewogICAgICAgIHNjYWxlcy5zeW1ib2wgPSBkM3Y1LnNjYWxlT3JkaW5hbCgpLnJhbmdlKGQzdjUuc3ltYm9scyk7CiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2V0dGluZ3Muc3ltYm9scykpIHsKICAgICAgICBzY2FsZXMuc3ltYm9sID0gZDN2NS5zY2FsZU9yZGluYWwoKS5yYW5nZShzZXR0aW5ncy5zeW1ib2xzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gc3ltYm9sX3RhYmxlW2RdOyB9KSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoc2V0dGluZ3Muc3ltYm9scykgPT09ICJzdHJpbmciKSB7CiAgICAgICAgLy8gU2luZ2xlIHN0cmluZyBnaXZlbgogICAgICAgIHNjYWxlcy5zeW1ib2wgPSBkM3Y1LnNjYWxlT3JkaW5hbCgpLnJhbmdlKEFycmF5KHN5bWJvbF90YWJsZVtzZXR0aW5ncy5zeW1ib2xzXSkpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgKHNldHRpbmdzLnN5bWJvbHMpID09PSAib2JqZWN0IikgewogICAgICAgIHNjYWxlcy5zeW1ib2wgPSBkM3Y1LnNjYWxlT3JkaW5hbCgpCiAgICAgICAgICAgIC5yYW5nZShkM3Y1LnZhbHVlcyhzZXR0aW5ncy5zeW1ib2xzKS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHN5bWJvbF90YWJsZVtkXTsgfSkpCiAgICAgICAgICAgIC5kb21haW4oZDN2NS5rZXlzKHNldHRpbmdzLnN5bWJvbHMpKQogICAgfQoKICAgIC8vIFNpemUgc2NhbGUKICAgIGlmIChzZXR0aW5ncy5zaXplcyA9PT0gbnVsbCkgewogICAgICAgIHNjYWxlcy5zaXplID0gZDN2NS5zY2FsZUxpbmVhcigpCiAgICAgICAgICAgIC5yYW5nZShzZXR0aW5ncy5zaXplX3JhbmdlKQogICAgICAgICAgICAuZG9tYWluKFtkM3Y1Lm1pbihkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQuc2l6ZV92YXIpOyB9KSwKICAgICAgICAgICAgZDN2NS5tYXgoZGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkLnNpemVfdmFyKTsgfSldKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mKHNldHRpbmdzLnNpemVzKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBzY2FsZXMuc2l6ZSA9IGQzdjUuc2NhbGVPcmRpbmFsKCkKICAgICAgICAgICAgLnJhbmdlKGQzdjUudmFsdWVzKHNldHRpbmdzLnNpemVzKSkKICAgICAgICAgICAgLmRvbWFpbihkM3Y1LmtleXMoc2V0dGluZ3Muc2l6ZXMpKTsKICAgIH0KCiAgICAvLyBPcGFjaXR5IHNjYWxlCiAgICBpZiAoc2V0dGluZ3Mub3BhY2l0aWVzID09PSBudWxsKSB7CiAgICAgICAgc2NhbGVzLm9wYWNpdHkgPSBkM3Y1LnNjYWxlTGluZWFyKCkKICAgICAgICAgICAgLnJhbmdlKFswLjEsIDFdKQogICAgICAgICAgICAuZG9tYWluKFtkM3Y1Lm1pbihkYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQub3BhY2l0eV92YXIpOyB9KSwKICAgICAgICAgICAgZDN2NS5tYXgoZGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkLm9wYWNpdHlfdmFyKTsgfSldKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mKHNldHRpbmdzLm9wYWNpdGllcykgPT09ICJvYmplY3QiKSB7CiAgICAgICAgc2NhbGVzLm9wYWNpdHkgPSBkM3Y1LnNjYWxlT3JkaW5hbCgpCiAgICAgICAgICAgIC5yYW5nZShkM3Y1LnZhbHVlcyhzZXR0aW5ncy5vcGFjaXRpZXMpKQogICAgICAgICAgICAuZG9tYWluKGQzdjUua2V5cyhzZXR0aW5ncy5vcGFjaXRpZXMpKTsKICAgIH0KCiAgICByZXR1cm4gc2NhbGVzOwoKfQ=="></script>
<script src="data:application/x-javascript;base64,CgovLyBTZXR1cCBkaW1lbnNpb25zCmZ1bmN0aW9uIHNldHVwX2RpbXMoY2hhcnQpIHsKCiAgICB2YXIgZGltcyA9IHt9LAogICAgICAgIG1hcmdpbnMgPSB7IHRvcDogNSwgcmlnaHQ6IDEwLCBib3R0b206IDIwLCBsZWZ0OiAzMCB9OwoKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmxlZnRfbWFyZ2luICE9PSBudWxsKSB7CiAgICAgICAgbWFyZ2lucy5sZWZ0ID0gY2hhcnQuc2V0dGluZ3MoKS5sZWZ0X21hcmdpbjsKICAgIH0KCiAgICBkaW1zLnN2Z193aWR0aCA9IGNoYXJ0LndpZHRoKCk7CiAgICBkaW1zLnN2Z19oZWlnaHQgPSBjaGFydC5oZWlnaHQoKTsKCiAgICBkaW1zLmxlZ2VuZF93aWR0aCA9IDA7CiAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGVnZW5kKSBkaW1zLmxlZ2VuZF93aWR0aCA9IGNoYXJ0LnNldHRpbmdzKCkubGVnZW5kX3dpZHRoOwoKICAgIGRpbXMud2lkdGggPSBkaW1zLnN2Z193aWR0aCAtIGRpbXMubGVnZW5kX3dpZHRoOwogICAgZGltcy5oZWlnaHQgPSBkaW1zLnN2Z19oZWlnaHQ7CiAgICBkaW1zLmhlaWdodCA9IGRpbXMuaGVpZ2h0IC0gbWFyZ2lucy50b3AgLSBtYXJnaW5zLmJvdHRvbTsKICAgIGRpbXMud2lkdGggPSBkaW1zLndpZHRoIC0gbWFyZ2lucy5sZWZ0IC0gbWFyZ2lucy5yaWdodDsKCiAgICAvLyBGaXhlZCByYXRpbwogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuZml4ZWQpIHsKICAgICAgICBkaW1zLmhlaWdodCA9IE1hdGgubWluKGRpbXMuaGVpZ2h0LCBkaW1zLndpZHRoKTsKICAgICAgICBkaW1zLndpZHRoID0gZGltcy5oZWlnaHQ7CiAgICB9CgogICAgZGltcy50b3RhbF93aWR0aCA9IGRpbXMud2lkdGggKyBtYXJnaW5zLmxlZnQgKyBtYXJnaW5zLnJpZ2h0ICsgZGltcy5sZWdlbmRfd2lkdGg7CiAgICBkaW1zLnRvdGFsX2hlaWdodCA9IGRpbXMuaGVpZ2h0ICsgbWFyZ2lucy50b3AgKyBtYXJnaW5zLmJvdHRvbTsKCiAgICBkaW1zLmxlZ2VuZF94ID0gZGltcy50b3RhbF93aWR0aCAtIG1hcmdpbnMucmlnaHQgLSBkaW1zLmxlZ2VuZF93aWR0aCArIDI0OwoKICAgIGRpbXMubWFyZ2lucyA9IG1hcmdpbnM7CgogICAgcmV0dXJuIGRpbXM7Cn0KCi8vIENvbXB1dGUgYW5kIHNldHVwIGxlZ2VuZCBwb3NpdGlvbnMKZnVuY3Rpb24gc2V0dXBfbGVnZW5kX2RpbXMoY2hhcnQpIHsKCiAgICB2YXIgZGltcyA9IGNoYXJ0LmRpbXMoKTsKCiAgICBkaW1zLm1hcmdpbnMubGVnZW5kX3RvcCA9IDUwOwoKICAgIC8vIEhlaWdodCBvZiBjb2xvciBsZWdlbmQKICAgIHZhciBjb2xvcl9sZWdlbmRfaGVpZ2h0ID0gMDsKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmhhc19jb2xvcl92YXIpIHsKICAgICAgICB2YXIgbiA9IGNoYXJ0LnNldHRpbmdzKCkuY29sX2NvbnRpbnVvdXMgPyA2IDogY2hhcnQuc2NhbGVzKCkuY29sb3IuZG9tYWluKCkubGVuZ3RoOwogICAgICAgIGNvbG9yX2xlZ2VuZF9oZWlnaHQgPSBuICogMjAgKyAzMDsKICAgIH0KICAgIGRpbXMubWFyZ2lucy5zeW1ib2xfbGVnZW5kX3RvcCA9IGNvbG9yX2xlZ2VuZF9oZWlnaHQgKyBkaW1zLm1hcmdpbnMubGVnZW5kX3RvcDsKCiAgICAvLyBIZWlnaHQgb2Ygc3ltYm9sIGxlZ2VuZAogICAgdmFyIHN5bWJvbF9sZWdlbmRfaGVpZ2h0ID0gY2hhcnQuc2V0dGluZ3MoKS5oYXNfc3ltYm9sX3ZhciA/IGNoYXJ0LnNjYWxlcygpLnN5bWJvbC5kb21haW4oKS5sZW5ndGggKiAyMCArIDMwIDogMDsKICAgIGRpbXMubWFyZ2lucy5zaXplX2xlZ2VuZF90b3AgPSBjb2xvcl9sZWdlbmRfaGVpZ2h0ICsgc3ltYm9sX2xlZ2VuZF9oZWlnaHQgKyBkaW1zLm1hcmdpbnMubGVnZW5kX3RvcDsKCiAgICByZXR1cm4gZGltczsKfQoKCgo="></script>
<script src="data:application/x-javascript;base64,Ly8gQWRkIG1lbnUgdG8gY2hhcnQKZnVuY3Rpb24gbWVudV9jcmVhdGUoY2hhcnQpIHsKCiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnKCk7CgogICAgLy8gR2VhciBpY29uCiAgICB2YXIgZ2VhciA9IHN2Zy5hcHBlbmQoImciKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJnZWFyLW1lbnUiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyAoY2hhcnQud2lkdGgoKSAtIDQwKSArICIsIiArIDEwICsgIikiKTsKICAgIGdlYXIuYXBwZW5kKCJyZWN0IikKICAgICAgICAuYXR0cigiY2xhc3MiLCAiZ2Vhci10b2dnbGUiKQogICAgICAgIC5hdHRyKCJ3aWR0aCIsICIyNSIpCiAgICAgICAgLmF0dHIoImhlaWdodCIsICIyNSIpCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgIiNGRkZGRkYiKTsKICAgIGdlYXIuYXBwZW5kKCJwYXRoIikKICAgICAgICAuYXR0cigiZCIsIGdlYXJfcGF0aCgpKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKC0zLDMpIikKICAgICAgICAuc3R5bGUoImZpbGwiLCAiIzY2NjY2NiIpOwoKICAgIHZhciBtZW51X3BhcmVudCA9IGQzdjUuc2VsZWN0KHN2Zy5ub2RlKCkucGFyZW50Tm9kZSk7CiAgICBtZW51X3BhcmVudC5zdHlsZSgicG9zaXRpb24iLCAicmVsYXRpdmUiKTsKICAgIHZhciBtZW51ID0gbWVudV9wYXJlbnQuc2VsZWN0KCIuc2NhdHRlckQzLW1lbnUiKTsKCiAgICBtZW51LmF0dHIoImlkIiwgInNjYXR0ZXJEMy1tZW51LSIgKyBjaGFydC5zZXR0aW5ncygpLmh0bWxfaWQpOwoKICAgIG1lbnUuYXBwZW5kKCJsaSIpCiAgICAgICAgLmFwcGVuZCgiYSIpCiAgICAgICAgLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgcmVzZXRfem9vbShjaGFydCkgfSkKICAgICAgICAuaHRtbCgiUmVzZXQgem9vbSIpOwoKICAgIG1lbnUuYXBwZW5kKCJsaSIpCiAgICAgICAgLmFwcGVuZCgiYSIpCiAgICAgICAgLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgZXhwb3J0X3N2Zyh0aGlzLCBjaGFydCk7IH0pCiAgICAgICAgLmh0bWwoIkV4cG9ydCB0byBTVkciKTsKCiAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5sYXNzbykgewogICAgICAgIG1lbnUuYXBwZW5kKCJsaSIpCiAgICAgICAgICAgIC5hcHBlbmQoImEiKQogICAgICAgICAgICAuYXR0cigiY2xhc3MiLCAibGFzc28tZW50cnkiKQogICAgICAgICAgICAub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7IGxhc3NvX3RvZ2dsZShjaGFydCk7IH0pCiAgICAgICAgICAgIC5odG1sKCJUb2dnbGUgbGFzc28gb24iKTsKICAgIH0KCiAgICB2YXIgbGFiZWxfZXhwb3J0ID0gbWVudS5hcHBlbmQoImxpIikKICAgICAgICAuYXR0cigiY2xhc3MiLCAibGFiZWwtZXhwb3J0Iik7CiAgICBsYWJlbF9leHBvcnQuYXBwZW5kKCJhIikKICAgICAgICAub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgeyBleHBvcnRfbGFiZWxzX3Bvc2l0aW9uKHRoaXMsIGNoYXJ0KTsgfSkKICAgICAgICAuaHRtbCgiRXhwb3J0IGxhYmVscyBwb3NpdGlvbnMiKTsKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGFiZWxzKSB7CiAgICAgICAgbGFiZWxfZXhwb3J0LnN0eWxlKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgIH0KCiAgICBnZWFyLm9uKCJjbGljayIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgdmFyIG1lbnVfcGFyZW50ID0gZDN2NS5zZWxlY3Qoc3ZnLm5vZGUoKS5wYXJlbnROb2RlKTsKICAgICAgICB2YXIgbWVudSA9IG1lbnVfcGFyZW50LnNlbGVjdCgiLnNjYXR0ZXJEMy1tZW51Iik7CiAgICAgICAgdmFyIGdlYXIgPSBzdmcuc2VsZWN0KCIuZ2Vhci1tZW51Iik7CiAgICAgICAgaWYgKCFtZW51LmNsYXNzZWQoIm9wZW4iKSkgewogICAgICAgICAgICBtZW51LnRyYW5zaXRpb24oKS5kdXJhdGlvbigzMDApCiAgICAgICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMC45NSIpCiAgICAgICAgICAgICAgICAuc3R5bGUoIndpZHRoIiwgIjE2NXB4Iik7CiAgICAgICAgICAgIGdlYXIuY2xhc3NlZCgic2VsZWN0ZWQiLCB0cnVlKTsKICAgICAgICAgICAgbWVudS5jbGFzc2VkKCJvcGVuIiwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbWVudS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMzAwKQogICAgICAgICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKQogICAgICAgICAgICAgICAgLnN0eWxlKCJ3aWR0aCIsICIwcHgiKTsKICAgICAgICAgICAgZ2Vhci5jbGFzc2VkKCJzZWxlY3RlZCIsIGZhbHNlKTsKICAgICAgICAgICAgbWVudS5jbGFzc2VkKCJvcGVuIiwgZmFsc2UpOwogICAgICAgIH0KICAgIH0pOwp9CgovLyBNb3ZlIG1lbnUgaWNvbiB3aGVuIHBsb3QgaXMgcmVzaXplZApmdW5jdGlvbiBtZW51X21vdmUoY2hhcnQpIHsKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5tZW51KSByZXR1cm47CiAgICBjaGFydC5zdmcoKS5zZWxlY3QoIi5nZWFyLW1lbnUiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyAoY2hhcnQud2lkdGgoKSAtIDQwKSArICIsIiArIDEwICsgIikiKTsKfQoKCi8vIEFkZCBjYXB0aW9uCmZ1bmN0aW9uIGNhcHRpb25fY3JlYXRlKGNoYXJ0KSB7CgogICAgdmFyIGNhcHRpb25fcGFyZW50ID0gZDN2NS5zZWxlY3QoY2hhcnQuc3ZnKCkubm9kZSgpLnBhcmVudE5vZGUpOwogICAgdmFyIGNhcHRpb24gPSBjYXB0aW9uX3BhcmVudC5zZWxlY3QoIi5zY2F0dGVyRDMtY2FwdGlvbiIpOwoKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmNhcHRpb24udGl0bGUpCiAgICAgICAgY2FwdGlvbi5hcHBlbmQoImgxIikuYXR0cigiY2xhc3MiLCAidGl0bGUiKS5odG1sKGNoYXJ0LnNldHRpbmdzKCkuY2FwdGlvbi50aXRsZSk7CiAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5jYXB0aW9uLnN1YnRpdGxlKQogICAgICAgIGNhcHRpb24uYXBwZW5kKCJoMiIpLmF0dHIoImNsYXNzIiwgInN1YnRpdGxlIikuaHRtbChjaGFydC5zZXR0aW5ncygpLmNhcHRpb24uc3VidGl0bGUpOwogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuY2FwdGlvbi50ZXh0KQogICAgICAgIGNhcHRpb24uYXBwZW5kKCJwIikuYXR0cigiY2xhc3MiLCAiY2FwdGlvbiIpLmh0bWwoY2hhcnQuc2V0dGluZ3MoKS5jYXB0aW9uLnRleHQpOwogICAgY2FwdGlvbi5zdHlsZSgidG9wIiwgY2hhcnQuZGltcygpLnN2Z19oZWlnaHQgKyAicHgiKTsKCiAgICAvLyBDYXB0aW9uIGljb24KICAgIHZhciBjYXB0aW9uX3RvcF9tYXJnaW4gPSBjaGFydC5zZXR0aW5ncygpLm1lbnUgPyAzNSA6IDEwOwogICAgdmFyIGNhcHRpb25faWNvbiA9IGNoYXJ0LnN2ZygpLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgImNhcHRpb24taWNvbiIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIChjaGFydC5kaW1zKCkuc3ZnX3dpZHRoIC0gNDApICsgIiwiICsgKGNoYXJ0LmRpbXMoKS5zdmdfaGVpZ2h0IC0gNzEpICsgIikiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyAoY2hhcnQuZGltcygpLnN2Z193aWR0aCAtIDQwKSArICIsIiArIGNhcHRpb25fdG9wX21hcmdpbiArICIpIik7CiAgICBjYXB0aW9uX2ljb24uYXBwZW5kKCJyZWN0IikKICAgICAgICAuYXR0cigiY2xhc3MiLCAiY2FwdGlvbi10b2dnbGUiKQogICAgICAgIC5hdHRyKCJ3aWR0aCIsICIyNSIpCiAgICAgICAgLmF0dHIoImhlaWdodCIsICIyNSIpCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgIiNGRkZGRkYiKTsKICAgIGNhcHRpb25faWNvbi5hcHBlbmQoInBhdGgiKQogICAgICAgIC5hdHRyKCJkIiwgY2FwdGlvbl9wYXRoKCkpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoNCw0KSIpCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgIiM2NjY2NjYiKTsKCiAgICBjYXB0aW9uX2ljb24ub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghY2FwdGlvbi5jbGFzc2VkKCJ2aXNpYmxlIikpIHsKICAgICAgICAgICAgY2FwdGlvbi5jbGFzc2VkKCJ2aXNpYmxlIiwgdHJ1ZSk7CiAgICAgICAgICAgIGNhcHRpb24uc3R5bGUoIm1hcmdpbi10b3AiLCAtY2FwdGlvbi5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgInB4Iik7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBjYXB0aW9uLmNsYXNzZWQoInZpc2libGUiLCBmYWxzZSk7CiAgICAgICAgICAgIGNhcHRpb24uc3R5bGUoIm1hcmdpbi10b3AiLCAiMHB4Iik7CiAgICAgICAgfQogICAgfSk7CgogICAgY2FwdGlvbi5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FwdGlvbi5jbGFzc2VkKCJ2aXNpYmxlIiwgZmFsc2UpOwogICAgICAgIGNhcHRpb24uc3R5bGUoIm1hcmdpbi10b3AiLCAiMHB4Iik7CiAgICB9KTsKCn0KCi8vIE1vdmUgY2FwdGlvbiBpY29uIGFuZCBwb3NpdGlvbiB3aGVuIHBsb3QgaXMgcmVzaXplZApmdW5jdGlvbiBjYXB0aW9uX21vdmUoY2hhcnQpIHsKCWlmICghY2hhcnQuc2V0dGluZ3MoKS5jYXB0aW9uKSByZXR1cm47Cgl2YXIgY2FwdGlvbl90b3BfbWFyZ2luID0gY2hhcnQuc2V0dGluZ3MoKS5tZW51ID8gMzUgOiAxMDsKCWNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNhcHRpb24taWNvbiIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIChjaGFydC5kaW1zKCkuc3ZnX3dpZHRoIC0gNDApICsgIiwiICsgY2FwdGlvbl90b3BfbWFyZ2luICsgIikiKTsKCWQzdjUuc2VsZWN0KGNoYXJ0LnN2ZygpLm5vZGUoKS5wYXJlbnROb2RlKQoJCS5zZWxlY3QoIi5zY2F0dGVyRDMtY2FwdGlvbiIpCgkJLnN0eWxlKCJ0b3AiLCBjaGFydC5kaW1zKCkuc3ZnX2hlaWdodCArICJweCIpOwoKfQ=="></script>
<script src="data:application/x-javascript;base64,Ly8gQ3JlYXRlIGFuZCBkcmF3IHggYW5kIHkgYXhlcwpmdW5jdGlvbiBhZGRfYXhlcyhzZWxlY3Rpb24sIGNoYXJ0KSB7CgogICAgdmFyIGRpbXMgPSBjaGFydC5kaW1zKCk7CiAgICB2YXIgc2V0dGluZ3MgPSBjaGFydC5zZXR0aW5ncygpOwogICAgdmFyIHNjYWxlcyA9IGNoYXJ0LnNjYWxlcygpOwoKICAgIC8vIHggYXhpcwogICAgc2VsZWN0aW9uLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgInggYXhpcyIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgZGltcy5oZWlnaHQgKyAiKSIpCiAgICAgICAgLnN0eWxlKCJmb250LXNpemUiLCBzZXR0aW5ncy5heGVzX2ZvbnRfc2l6ZSkKICAgICAgICAuY2FsbChzY2FsZXMueEF4aXMpOwoKICAgIC8vIHkgYXhpcwogICAgc2VsZWN0aW9uLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgInkgYXhpcyIpCiAgICAgICAgLnN0eWxlKCJmb250LXNpemUiLCBzZXR0aW5ncy5heGVzX2ZvbnRfc2l6ZSkKICAgICAgICAuY2FsbChzY2FsZXMueUF4aXMpOwoKICAgIC8vIHggYXhpcyBsYWJlbAogICAgc2VsZWN0aW9uLmFwcGVuZCgidGV4dCIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgIngtYXhpcy1sYWJlbCIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIChkaW1zLndpZHRoIC0gNSkgKyAiLCIgKyAoZGltcy5oZWlnaHQgLSA2KSArICIpIikKICAgICAgICAuc3R5bGUoInRleHQtYW5jaG9yIiwgImVuZCIpCiAgICAgICAgLnN0eWxlKCJmb250LXNpemUiLCBzZXR0aW5ncy5heGVzX2ZvbnRfc2l6ZSkKICAgICAgICAudGV4dChzZXR0aW5ncy54bGFiKTsKCiAgICAvLyB5IGF4aXMgbGFiZWwKICAgIHNlbGVjdGlvbi5hcHBlbmQoInRleHQiKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJ5LWF4aXMtbGFiZWwiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDUsNikgcm90YXRlKC05MCkiKQogICAgICAgIC5hdHRyKCJkeSIsICIuNzFlbSIpCiAgICAgICAgLnN0eWxlKCJ0ZXh0LWFuY2hvciIsICJlbmQiKQogICAgICAgIC5zdHlsZSgiZm9udC1zaXplIiwgc2V0dGluZ3MuYXhlc19mb250X3NpemUpCiAgICAgICAgLnRleHQoc2V0dGluZ3MueWxhYik7Cgp9CgoKZnVuY3Rpb24gdW5pdF9jaXJjbGVfY3JlYXRlKGNoYXJ0KSB7CiAgICBpZiAoIWNoYXJ0LnNldHRpbmdzKCkudW5pdF9jaXJjbGUpIHJldHVybjsKICAgIGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgIC5hcHBlbmQoJ3N2ZzplbGxpcHNlJykKICAgICAgICAuYXR0cignY2xhc3MnLCAndW5pdC1jaXJjbGUnKQogICAgICAgIC5jYWxsKHVuaXRfY2lyY2xlX2Zvcm1hdHRpbmcsIGNoYXJ0KTsKfQoKZnVuY3Rpb24gdW5pdF9jaXJjbGVfdXBkYXRlKGNoYXJ0KSB7CiAgICBpZiAoIWNoYXJ0LnNldHRpbmdzKCkudW5pdF9jaXJjbGUpIHJldHVybjsKICAgIGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgIC5zZWxlY3QoIi51bml0LWNpcmNsZSIpCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKQogICAgICAgIC5jYWxsKHVuaXRfY2lyY2xlX2Zvcm1hdHRpbmcsIGNoYXJ0KTsKfQoKCi8vIEFkZCB1bml0IGNpcmNsZQpmdW5jdGlvbiB1bml0X2NpcmNsZV9mb3JtYXR0aW5nKHNlbGVjdGlvbiwgY2hhcnQpIHsKCiAgICB2YXIgc2NhbGVzID0gY2hhcnQuc2NhbGVzKCk7CgogICAgc2VsZWN0aW9uCiAgICAgICAgLmF0dHIoJ2N4Jywgc2NhbGVzLngoMCkpCiAgICAgICAgLmF0dHIoJ2N5Jywgc2NhbGVzLnkoMCkpCiAgICAgICAgLmF0dHIoJ3J4Jywgc2NhbGVzLngoMSkgLSBzY2FsZXMueCgwKSkKICAgICAgICAuYXR0cigncnknLCBzY2FsZXMueSgwKSAtIHNjYWxlcy55KDEpKQogICAgICAgIC5zdHlsZSgic3Ryb2tlIiwgIiM4ODgiKQogICAgICAgIC5zdHlsZSgiZmlsbCIsICJub25lIikKICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMSIpOwp9Cg=="></script>
<script src="data:application/x-javascript;base64,Ly8gUmV0dXJucyBkb3Qgc2l6ZSBmcm9tIGFzc29jaWF0ZWQgZGF0YQpmdW5jdGlvbiBkb3Rfc2l6ZShkLCBjaGFydCkgewogICAgdmFyIHNpemUgPSBjaGFydC5zZXR0aW5ncygpLnBvaW50X3NpemU7CiAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5oYXNfc2l6ZV92YXIpIHsgc2l6ZSA9IGNoYXJ0LnNjYWxlcygpLnNpemUoZC5zaXplX3Zhcik7IH0KICAgIHJldHVybihzaXplKTsKfQoKCi8vIEZpbHRlciBwb2ludHMgYW5kIGFycm93cyBkYXRhCmZ1bmN0aW9uIGRvdF9maWx0ZXIoZCkgewogICAgcmV0dXJuIGQudHlwZV92YXIgPT09IHVuZGVmaW5lZCB8fCBkLnR5cGVfdmFyID09ICJwb2ludCI7Cn0KCgovLyBDcmVhdGUgZG90cwpmdW5jdGlvbiBkb3RzX2NyZWF0ZShjaGFydCkgewoKCXZhciBjaGFydF9ib2R5ID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIuY2hhcnQtYm9keSIpCgl2YXIgZG90ID0gY2hhcnRfYm9keS5zZWxlY3RBbGwoIi5kb3QiKQoJCS5kYXRhKGNoYXJ0LmRhdGEoKS5maWx0ZXIoZG90X2ZpbHRlciksIGtleSk7Cglkb3QuZW50ZXIoKQoJCS5hcHBlbmQoInBhdGgiKQoJCS5jYWxsKGRvdF9pbml0LCBjaGFydCkKCQkuY2FsbChkb3RfZm9ybWF0dGluZywgY2hhcnQpOwp9CgovLyBVcGRhdGUgZG90cwpmdW5jdGlvbiBkb3RzX3VwZGF0ZShjaGFydCkgewoKCXZhciBkdXJhdGlvbiA9IGNoYXJ0LnNldHRpbmdzKCkuc3ltYm9sX2xhYl9jaGFuZ2VkID8gMCA6IDEwMDA7CgoJdmFyIGNoYXJ0X2JvZHkgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5jaGFydC1ib2R5IikKCXZhciBkb3RzID0gY2hhcnRfYm9keS5zZWxlY3RBbGwoIi5kb3QiKQoJCS5kYXRhKGNoYXJ0LmRhdGEoKS5maWx0ZXIoZG90X2ZpbHRlciksIGtleSk7Cglkb3RzLmVudGVyKCkKCSAgIC5hcHBlbmQoInBhdGgiKQoJICAgLmNhbGwoZG90X2luaXQsIGNoYXJ0KQoJICAgLm1lcmdlKGRvdHMpCgkgICAuY2FsbChkb3RfaW5pdCwgY2hhcnQpCgkgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKQoJICAgLmNhbGwoZG90X2Zvcm1hdHRpbmcsIGNoYXJ0KTsKCWRvdHMuZXhpdCgpCgkgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCgkgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLDApIikKCSAgIC5yZW1vdmUoKTsKfQoKCgoKLy8gSW5pdGlhbCBkb3QgYXR0cmlidXRlcwpmdW5jdGlvbiBkb3RfaW5pdChzZWxlY3Rpb24sIGNoYXJ0KSB7CgoJdmFyIHNldHRpbmdzID0gY2hhcnQuc2V0dGluZ3MoKTsKCXZhciBzY2FsZXMgPSBjaGFydC5zY2FsZXMoKTsKCiAgICAvLyB0b29sdGlwcyB3aGVuIGhvdmVyaW5nIHBvaW50cwogICAgdmFyIHRvb2x0aXAgPSBkM3Y1LnNlbGVjdCgiLnNjYXR0ZXJEMy10b29sdGlwIik7CiAgICBzZWxlY3Rpb24ub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKGQsIGkpewogICAgICAgIGQzdjUuc2VsZWN0KHRoaXMpCiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTUwKQogICAgICAgICAgICAuYXR0cigiZCIsIGQzdjUuc3ltYm9sKCkKCQkgIC50eXBlKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNjYWxlcy5zeW1ib2woZC5zeW1ib2xfdmFyKTsgfSkKCQkgIC5zaXplKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIChkb3Rfc2l6ZShkLCBjaGFydCkgKiBzZXR0aW5ncy5ob3Zlcl9zaXplKTsgfSkKCQkgKQogICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCBmdW5jdGlvbihkKSB7CgkJaWYgKHNldHRpbmdzLmhvdmVyX29wYWNpdHkgIT09IG51bGwpIHsKCQkgICAgcmV0dXJuIHNldHRpbmdzLmhvdmVyX29wYWNpdHk7CgkJfSBlbHNlIHsKCQkgICAgcmV0dXJuKGQub3BhY2l0eV92YXIgPT09IHVuZGVmaW5lZCA/IHNldHRpbmdzLnBvaW50X29wYWNpdHkgOiBzY2FsZXMub3BhY2l0eShkLm9wYWNpdHlfdmFyKSk7CgkJfQogICAgICAgICAgICB9KTsKCWlmIChzZXR0aW5ncy5oYXNfdXJsX3ZhcikgewogICAgICAgICAgICBkM3Y1LnNlbGVjdCh0aGlzKQoJCS5zdHlsZSgiY3Vyc29yIiwgZnVuY3Rpb24oZCkgewoJCSAgICByZXR1cm4gKGQudXJsX3ZhciAhPSAiIiA/ICJwb2ludGVyIiA6ICJkZWZhdWx0Iik7CgkJfSk7Cgl9CglpZiAoc2V0dGluZ3MuaGFzX3Rvb2x0aXBzKSB7CgkgICAgdG9vbHRpcC5zdHlsZSgidmlzaWJpbGl0eSIsICJ2aXNpYmxlIikKCQkgICAgLmh0bWwodG9vbHRpcF9jb250ZW50KGQsIGNoYXJ0KSk7Cgl9CiAgICB9KTsKICAgIHNlbGVjdGlvbi5vbigibW91c2Vtb3ZlIiwgZnVuY3Rpb24oKXsKCWlmIChzZXR0aW5ncy5oYXNfdG9vbHRpcHMpIHsKCSAgICBpZiAoc2V0dGluZ3MudG9vbHRpcF9wb3NpdGlvbl95ID09ICJib3R0b20iKSB7CgkgICAgICAgdG9vbHRpcC5zdHlsZSgidG9wIiwgKGQzdjUuZXZlbnQucGFnZVkrMTUpKyJweCIpCgkgICAgfSBlbHNlIGlmIChzZXR0aW5ncy50b29sdGlwX3Bvc2l0aW9uX3kgPT0gInRvcCIpIHsKCSAgICAgICB2YXIgdG9vbHRpcF9oZWlnaHQgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7CgkgICAgICAgdG9vbHRpcC5zdHlsZSgidG9wIiwgKGQzdjUuZXZlbnQucGFnZVkgLSB0b29sdGlwX2hlaWdodCAtIDEwKSsicHgiKQoJICAgIH0KCSAgICBpZiAoc2V0dGluZ3MudG9vbHRpcF9wb3NpdGlvbl94ID09ICJyaWdodCIpIHsKCSAgICAgICB0b29sdGlwLnN0eWxlKCJsZWZ0IiwgKGQzdjUuZXZlbnQucGFnZVgrMTUpKyJweCIpOwoJICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MudG9vbHRpcF9wb3NpdGlvbl94ID09ICJsZWZ0IikgewoJICAgICAgIHZhciB0b29sdGlwX3dpZHRoID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7CgkgICAgICAgdG9vbHRpcC5zdHlsZSgibGVmdCIsIChkM3Y1LmV2ZW50LnBhZ2VYIC0gdG9vbHRpcF93aWR0aCAtIDEwKSsicHgiKTsKCSAgICB9Cgl9CiAgICB9KTsKICAgIHNlbGVjdGlvbi5vbigibW91c2VvdXQiLCBmdW5jdGlvbigpewogICAgICAgIGQzdjUuc2VsZWN0KHRoaXMpCiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTUwKQogICAgICAgICAgICAuYXR0cigiZCIsIGQzdjUuc3ltYm9sKCkKCQkgIC50eXBlKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNjYWxlcy5zeW1ib2woZC5zeW1ib2xfdmFyKTsgfSkKCQkgIC5zaXplKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGRvdF9zaXplKGQsIGNoYXJ0KTt9KQoJCSApCiAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uKGQpIHsKCQlyZXR1cm4oZC5vcGFjaXR5X3ZhciA9PT0gdW5kZWZpbmVkID8gc2V0dGluZ3MucG9pbnRfb3BhY2l0eSA6IHNjYWxlcy5vcGFjaXR5KGQub3BhY2l0eV92YXIpKTsKCSAgICB9KTsKCWlmIChzZXR0aW5ncy5oYXNfdG9vbHRpcHMpIHsKICAgICAgICAgICAgdG9vbHRpcC5zdHlsZSgidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKCX0KICAgIH0pOwogICAgc2VsZWN0aW9uLm9uKCJjbGljayIsIGZ1bmN0aW9uKGQsIGkpIHsKCWlmICh0eXBlb2Ygc2V0dGluZ3MuY2xpY2tfY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHsKCSAgICBzZXR0aW5ncy5jbGlja19jYWxsYmFjayhzZXR0aW5ncy5odG1sX2lkLCBpICsgMSk7Cgl9CglpZiAoc2V0dGluZ3MuaGFzX3VybF92YXIgJiYgZC51cmxfdmFyICE9ICIiKSB7CgkgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKGQudXJsX3ZhciwgJ19ibGFuaycpOwoJICAgIHdpbi5mb2N1cygpOwoJfQogICAgfSk7Cn0KCi8vIEFwcGx5IGZvcm1hdCB0byBkb3QKZnVuY3Rpb24gZG90X2Zvcm1hdHRpbmcoc2VsZWN0aW9uLCBjaGFydCkgewogICAgc2VsZWN0aW9uCgkJLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHRyYW5zbGF0aW9uKGQsIGNoYXJ0LnNjYWxlcygpKTsgfSkKICAgIAkvLyBmaWxsIGNvbG9yCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY2hhcnQuc2NhbGVzKCkuY29sb3IoZC5jb2xfdmFyKTsgfSkKCQkuc3R5bGUoIm9wYWNpdHkiLCBmdW5jdGlvbihkKSB7CgkgICAgCXJldHVybiBkLm9wYWNpdHlfdmFyICE9PSB1bmRlZmluZWQgPyBjaGFydC5zY2FsZXMoKS5vcGFjaXR5KGQub3BhY2l0eV92YXIpIDogY2hhcnQuc2V0dGluZ3MoKS5wb2ludF9vcGFjaXR5OwoJCX0pCiAgICAJLy8gc3ltYm9sIGFuZCBzaXplCiAgICAgICAgLmF0dHIoImQiLCBkM3Y1LnN5bWJvbCgpCgkgICAgICAJLnR5cGUoZnVuY3Rpb24oZCkgeyByZXR1cm4gY2hhcnQuc2NhbGVzKCkuc3ltYm9sKGQuc3ltYm9sX3Zhcik7IH0pCgkgICAgICAJLnNpemUoZnVuY3Rpb24oZCkgeyByZXR1cm4gZG90X3NpemUoZCwgY2hhcnQpOyB9KQoJICAgICApCiAgICAgICAgLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24oZCxpKSB7CgkgICAgCXJldHVybiAiZG90IHN5bWJvbCBzeW1ib2wtYyIgKyBjc3NfY2xlYW4oZC5zeW1ib2xfdmFyKSArICIgY29sb3IgY29sb3ItYyIgKyBjc3NfY2xlYW4oZC5jb2xfdmFyKTsKICAgICAgICB9KTsKfQo="></script>
<script src="data:application/x-javascript;base64,CmZ1bmN0aW9uIGFkZF9hcnJvd3NfZGVmcyhjaGFydCkgewogICAgLy8gPGRlZnM+CiAgICB2YXIgZGVmcyA9IGNoYXJ0LnN2ZygpLmFwcGVuZCgiZGVmcyIpOwogICAgLy8gYXJyb3cgaGVhZCBtYXJrZXJzCiAgICBjaGFydC5zY2FsZXMoKS5jb2xvci5yYW5nZSgpLmZvckVhY2goZnVuY3Rpb24oZCkgewogICAgICAgIGRlZnMuYXBwZW5kKCJtYXJrZXIiKQoJICAgIC5hdHRyKCJpZCIsICJhcnJvdy1oZWFkLSIgKyBjaGFydC5zZXR0aW5ncygpLmh0bWxfaWQgKyAiLSIgKyBkKQoJICAgIC5hdHRyKCJtYXJrZXJXaWR0aCIsICIxMCIpCgkgICAgLmF0dHIoIm1hcmtlckhlaWdodCIsICIxMCIpCgkgICAgLmF0dHIoInJlZlgiLCAiMTAiKQoJICAgIC5hdHRyKCJyZWZZIiwgIjQiKQoJICAgIC5hdHRyKCJvcmllbnQiLCAiYXV0byIpCgkgICAgLmFwcGVuZCgicGF0aCIpCgkgICAgLmF0dHIoImQiLCAiTTAsMCBMMCw4IEwxMCw0IEwwLDAiKQoJICAgIC5zdHlsZSgiZmlsbCIsIGQpOwogICAgfSk7Cn0KCi8vIEZpbHRlciBhcnJvd3MgZGF0YQpmdW5jdGlvbiBhcnJvd19maWx0ZXIoZCkgewogICAgcmV0dXJuIGQudHlwZV92YXIgIT09IHVuZGVmaW5lZCAmJiBkLnR5cGVfdmFyID09ICJhcnJvdyI7Cn0KCgpmdW5jdGlvbiBhcnJvd3NfY3JlYXRlKGNoYXJ0KSB7CiAgICBpZiAoIWNoYXJ0LnNldHRpbmdzKCkuY29sX2NvbnRpbnVvdXMpIGFkZF9hcnJvd3NfZGVmcyhjaGFydCk7CiAgICB2YXIgYXJyb3dzID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIuY2hhcnQtYm9keSIpCiAgICAgICAgLnNlbGVjdEFsbCgiLmFycm93IikKICAgICAgICAuZGF0YShjaGFydC5kYXRhKCkuZmlsdGVyKGFycm93X2ZpbHRlciksIGtleSk7CgogICAgYXJyb3dzLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCJzdmc6bGluZSIpCiAgICAgICAgLmNhbGwoYXJyb3dfaW5pdCwgY2hhcnQpCiAgICAgICAgLmNhbGwoYXJyb3dfZm9ybWF0dGluZywgY2hhcnQpOwp9CgoKZnVuY3Rpb24gYXJyb3dzX3VwZGF0ZShjaGFydCkgewogICAgdmFyIGFycm93cyA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgIC5zZWxlY3RBbGwoIi5hcnJvdyIpCiAgICAgICAgLmRhdGEoY2hhcnQuZGF0YSgpLmZpbHRlcihhcnJvd19maWx0ZXIpLCBrZXkpOwoKICAgIGFycm93cy5lbnRlcigpCiAgICAgICAgLmFwcGVuZCgic3ZnOmxpbmUiKS5jYWxsKGFycm93X2luaXQsIGNoYXJ0KQogICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIikKICAgICAgICAubWVyZ2UoYXJyb3dzKQogICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkKICAgICAgICAuY2FsbChhcnJvd19mb3JtYXR0aW5nLCBjaGFydCkKICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMSIpOwogICAgCiAgICBhcnJvd3MuZXhpdCgpCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKQogICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIikKICAgICAgICAucmVtb3ZlKCk7Cn0KCgovLyBBcnJvdyBkcmF3aW5nIGZ1bmN0aW9uCmZ1bmN0aW9uIGRyYXdfYXJyb3coc2VsZWN0aW9uLCBjaGFydCkgewogICAgc2VsZWN0aW9uCiAgICAgICAgLmF0dHIoIngxIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY2hhcnQuc2NhbGVzKCkueCgwKTsgfSkKICAgICAgICAuYXR0cigieTEiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjaGFydC5zY2FsZXMoKS55KDApOyB9KQogICAgICAgIC5hdHRyKCJ4MiIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGNoYXJ0LnNjYWxlcygpLngoZC54KTsgfSkKICAgICAgICAuYXR0cigieTIiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjaGFydC5zY2FsZXMoKS55KGQueSk7IH0pOwp9CgovLyBJbml0aWFsIGFycm93IGF0dHJpYnV0ZXMKZnVuY3Rpb24gYXJyb3dfaW5pdChzZWxlY3Rpb24sIGNoYXJ0KSB7CiAgICAvLyB0b29sdGlwcyB3aGVuIGhvdmVyaW5nIHBvaW50cwogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuaGFzX3Rvb2x0aXBzKSB7CiAgICAgICAgdmFyIHRvb2x0aXAgPSBkM3Y1LnNlbGVjdCgiLnNjYXR0ZXJEMy10b29sdGlwIik7CiAgICAgICAgc2VsZWN0aW9uLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbihkLCBpKXsKICAgICAgICAgICAgdG9vbHRpcC5zdHlsZSgidmlzaWJpbGl0eSIsICJ2aXNpYmxlIikKICAgICAgICAgICAgICAgIC5odG1sKHRvb2x0aXBfY29udGVudChkLCBjaGFydCkpOwogICAgICAgIH0pOwogICAgICAgIHNlbGVjdGlvbi5vbigibW91c2Vtb3ZlIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgdG9vbHRpcC5zdHlsZSgidG9wIiwgKGQzdjUuZXZlbnQucGFnZVkrMTUpKyJweCIpLnN0eWxlKCJsZWZ0IiwoZDN2NS5ldmVudC5wYWdlWCsxNSkrInB4Iik7CiAgICAgICAgfSk7CiAgICAgICAgc2VsZWN0aW9uLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgfSk7CiAgICB9Cn0KCi8vIEFwcGx5IGZvcm1hdCB0byBhcnJvdwpmdW5jdGlvbiBhcnJvd19mb3JtYXR0aW5nKHNlbGVjdGlvbiwgY2hhcnQpIHsKICAgIHZhciBzZWwgPSBzZWxlY3Rpb24KICAgICAgICAuY2FsbChkcmF3X2Fycm93LCBjaGFydCkKICAgICAgICAuc3R5bGUoInN0cm9rZS13aWR0aCIsICIxcHgiKQogICAgLy8gc3Ryb2tlIGNvbG9yCiAgICAgICAgLnN0eWxlKCJzdHJva2UiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjaGFydC5zY2FsZXMoKS5jb2xvcihkLmNvbF92YXIpOyB9KQogICAgICAgIC5hdHRyKCJtYXJrZXItZW5kIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gInVybCgjYXJyb3ctaGVhZC0iICsgY2hhcnQuc2V0dGluZ3MoKS5odG1sX2lkICsgIi0iICsgY2hhcnQuc2NhbGVzKCkuY29sb3IoZC5jb2xfdmFyKSArICIpIjsgfSkKICAgICAgICAuYXR0cigiY2xhc3MiLCBmdW5jdGlvbihkLGkpIHsgcmV0dXJuICJhcnJvdyBjb2xvciBjb2xvci1jIiArIGNzc19jbGVhbihkLmNvbF92YXIpOyB9KQogICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uKGQpIHsKCSAgICByZXR1cm4gZC5vcGFjaXR5X3ZhciAhPT0gdW5kZWZpbmVkID8gY2hhcnQuc2NhbGVzKCkub3BhY2l0eShkLm9wYWNpdHlfdmFyKSA6IGNoYXJ0LnNldHRpbmdzKCkucG9pbnRfb3BhY2l0eTsKCX0pOwogICAgcmV0dXJuIHNlbDsKfQoK"></script>
<script src="data:application/x-javascript;base64,CgoKZnVuY3Rpb24gbGFiZWxzX2NyZWF0ZShjaGFydCkgewoKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGFiZWxzKSByZXR1cm47CgogICAgdmFyIGxhYmVscyA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgIC5zZWxlY3RBbGwoIi5wb2ludC1sYWJlbCIpCiAgICAgICAgLmRhdGEoY2hhcnQuZGF0YSgpLCBrZXkpOwogICAgCiAgICBsYWJlbHMuZW50ZXIoKQogICAgICAgIC5hcHBlbmQoInRleHQiKQoJLmNhbGwobGFiZWxfaW5pdCkKICAgICAgICAuY2FsbChsYWJlbF9mb3JtYXR0aW5nLCBjaGFydCkKICAgICAgICAuY2FsbChkcmFnX2JlaGF2aW9yKGNoYXJ0KSk7CgogICAgLy8gQXV0b21hdGljIGxhYmVsIHBsYWNlbWVudAogICAgbGFiZWxzX3BsYWNlbWVudChjaGFydCk7Cgp9CgoKZnVuY3Rpb24gbGFiZWxzX3VwZGF0ZShjaGFydCkgewoKICAgIGZ1bmN0aW9uIGVuZGFsbCh0cmFuc2l0aW9uLCBjYWxsYmFjaykgewogICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigiV3JvbmcgY2FsbGJhY2sgaW4gZW5kYWxsIik7CiAgICAgICAgaWYgKHRyYW5zaXRpb24uc2l6ZSgpID09PSAwKSB7IGNhbGxiYWNrKCkgfQogICAgICAgIHZhciBuID0gMDsKICAgICAgICB0cmFuc2l0aW9uCiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkgeyArK247IH0pCiAgICAgICAgICAgIC5vbigiZW5kIiwgZnVuY3Rpb24oKSB7IGlmICghLS1uKSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9KTsKICAgICAgfQoKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGFiZWxzKSByZXR1cm47CgogICAgdmFyIGxhYmVscyA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgIC5zZWxlY3RBbGwoIi5wb2ludC1sYWJlbCIpCiAgICAgICAgLmRhdGEoY2hhcnQuZGF0YSgpLCBrZXkpOwogICAgbGFiZWxzLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCJ0ZXh0IikKICAgICAgICAuY2FsbChsYWJlbF9pbml0KQogICAgICAgIC5jYWxsKGRyYWdfYmVoYXZpb3IoY2hhcnQpKQogICAgICAgIC5tZXJnZShsYWJlbHMpCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMTAwKQogICAgICAgIC5jYWxsKGxhYmVsX2Zvcm1hdHRpbmcsIGNoYXJ0KQogICAgICAgIC5jYWxsKGVuZGFsbCwgZnVuY3Rpb24oKSB7IGxhYmVsc19wbGFjZW1lbnQoY2hhcnQpOyB9KTsKCiAgICBsYWJlbHMuZXhpdCgpCiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkgewogICAgICAgICAgICBjaGFydC5zdmcoKQogICAgICAgICAgICAgICAgLnNlbGVjdCgiLmxhYmVsLWxpbmUtIiArIGNzc19jbGVhbihrZXkoZCkpKQogICAgICAgICAgICAgICAgLnJlbW92ZSgpOwogICAgICAgIH0pCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsMCkiKQogICAgICAgIC5yZW1vdmUoKTsKCiAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGFiZWxzX2NoYW5nZWQpIHsKICAgICAgICB2YXIgbGFiZWxfZXhwb3J0ID0gZDN2NS5zZWxlY3QoIiNzY2F0dGVyRDMtbWVudS0iICsgY2hhcnQuc2V0dGluZ3MoKS5odG1sX2lkKQogICAgICAgICAgICAuc2VsZWN0KCIubGFiZWwtZXhwb3J0Iik7CiAgICAgICAgbGFiZWxfZXhwb3J0LnN0eWxlKCJkaXNwbGF5IiwgY2hhcnQuc2V0dGluZ3MoKS5oYXNfbGFiZWxzID8gImJsb2NrIiA6ICJub25lIik7CiAgICB9Cgp9CgoKLy8gSW5pdGlhbCB0ZXh0IGxhYmVsIGF0dHJpYnV0ZXMKZnVuY3Rpb24gbGFiZWxfaW5pdChzZWxlY3Rpb24pIHsKCiAgICBzZWxlY3Rpb24KICAgICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAibWlkZGxlIik7Cn0KCi8vIENvbXB1dGUgZGVmYXVsdCB2ZXJ0aWNhbCBvZmZzZXQgZm9yIGxhYmVscwpmdW5jdGlvbiBkZWZhdWx0X2xhYmVsX2R5KGQsIGNoYXJ0KSB7CiAgICB2YXIgc2l6ZSA9IChkLnNpemVfdmFyID09PSB1bmRlZmluZWQpID8gY2hhcnQuc2V0dGluZ3MoKS5wb2ludF9zaXplIDogY2hhcnQuc2NhbGVzKCkuc2l6ZShkLnNpemVfdmFyKTsKICAgIGlmIChkLnkgPCAwICYmIGQudHlwZV92YXIgIT09IHVuZGVmaW5lZCAmJiBkLnR5cGVfdmFyID09ICJhcnJvdyIpIHsKICAgICAgICByZXR1cm4gKE1hdGguc3FydChzaXplKSAvIDIpICsgY2hhcnQuc2V0dGluZ3MoKS5sYWJlbHNfc2l6ZSArIDI7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gKC1NYXRoLnNxcnQoc2l6ZSkgLyAyKSAtIDY7CiAgICB9Cn0KCi8vIENvbXB1dGUgbGFiZWwgeCBwb3NpdGlvbgpmdW5jdGlvbiBnZXRfbGFiZWxfZHgoZCwgaSwgY2hhcnQpIHsKICAgIC8vIE1hbnVhbGx5IGRlZmluZWQKICAgIGlmIChkLmxhYl9keCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gKGQubGFiX2R4KTsKICAgIC8vIEZyb20gbGFiZWxzX3Bvc2l0aW9ucyBhcmd1bWVudAogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkubGFiZWxzX3Bvc2l0aW9ucyAmJiBjaGFydC5zZXR0aW5ncygpLmxhYmVsc19wb3NpdGlvbnMgIT0gImF1dG8iKSB7CiAgICAgICAgdmFyIGR4ID0gY2hhcnQuc2NhbGVzKCkueChjaGFydC5zZXR0aW5ncygpLmxhYmVsc19wb3NpdGlvbnNbaV0ubGFiX3gpIC0gY2hhcnQuc2NhbGVzKCkueChkLngpOwogICAgICAgIHJldHVybiBkeDsKICAgIH0KICAgIC8vIERlZmF1bHQKICAgIHJldHVybiAoMCk7Cn0KCi8vIENvbXB1dGUgbGFiZWwgeSBwb3NpdGlvbgpmdW5jdGlvbiBnZXRfbGFiZWxfZHkoZCwgaSwgY2hhcnQpIHsKICAgIC8vIE1hbnVhbGx5IGRlZmluZWQKICAgIGlmIChkLmxhYl9keSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gKGQubGFiX2R5KTsKICAgIC8vIEZyb20gbGFiZWxzX3Bvc2l0aW9ucyBhcmd1bWVudAogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkubGFiZWxzX3Bvc2l0aW9ucyAmJiBjaGFydC5zZXR0aW5ncygpLmxhYmVsc19wb3NpdGlvbnMgIT0gImF1dG8iKSB7CiAgICAgICAgdmFyIGR5ID0gY2hhcnQuc2NhbGVzKCkueShjaGFydC5zZXR0aW5ncygpLmxhYmVsc19wb3NpdGlvbnNbaV0ubGFiX3kpIC0gY2hhcnQuc2NhbGVzKCkueShkLnkpOwogICAgICAgIHJldHVybiBkeTsKICAgIH0KICAgIC8vIERlZmF1bHQKICAgIHJldHVybiBkZWZhdWx0X2xhYmVsX2R5KGQsIGNoYXJ0KTsKfQoKLy8gQXBwbHkgZm9ybWF0IHRvIHRleHQgbGFiZWwKZnVuY3Rpb24gbGFiZWxfZm9ybWF0dGluZyhzZWxlY3Rpb24sIGNoYXJ0KSB7CgogICAgc2VsZWN0aW9uCgkuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGFiICE9PSAiIiAmJiBkLmxhYiAhPT0gbnVsbDsgfSkKICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQubGFiKTsgfSkKICAgICAgICAuc3R5bGUoImZvbnQtc2l6ZSIsIGNoYXJ0LnNldHRpbmdzKCkubGFiZWxzX3NpemUgKyAicHgiKQogICAgICAgIC5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICAgIHJldHVybiAicG9pbnQtbGFiZWwgY29sb3IgY29sb3ItYyIgKyBjc3NfY2xlYW4oZC5jb2xfdmFyKSArICIgc3ltYm9sIHN5bWJvbC1jIiArIGNzc19jbGVhbihkLnN5bWJvbF92YXIpOwogICAgICAgIH0pCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB0cmFuc2xhdGlvbihkLCBjaGFydC5zY2FsZXMoKSk7IH0pCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGNoYXJ0LnNjYWxlcygpLmNvbG9yKGQuY29sX3Zhcik7IH0pCiAgICAgICAgLmF0dHIoImR4IiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gZ2V0X2xhYmVsX2R4KGQsIGksIGNoYXJ0KSArICJweCI7IH0pCiAgICAgICAgLmF0dHIoImR5IiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gZ2V0X2xhYmVsX2R5KGQsIGksIGNoYXJ0KSArICJweCI7IH0pCiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCwgaSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSBkM3Y1LnNlbGVjdCh0aGlzKTsKICAgICAgICAgICAgdmFyIGR4ID0gZ2V0X2xhYmVsX2R4KGQsIGksIGNoYXJ0KTsKICAgICAgICAgICAgdmFyIGR5ID0gZ2V0X2xhYmVsX2R5KGQsIGksIGNoYXJ0KTsKICAgICAgICAgICAgbGFiZWwuY2FsbChsYWJlbF9saW5lX2Zvcm1hdHRpbmcsIGQsIGR4LCBkeSwgY2hhcnQpOwogICAgICAgIH0pCn0KCgovLyBDb21wdXRlIGVuZCBvZiBsYWJlbCBsaW5lIGNvb3JkaW5hdGVzIGFuZCBkaXN0YW5jZSB3aXRoIHBvaW50CmZ1bmN0aW9uIGxhYmVsX2xpbmVfY29vcmRpbmF0ZXMobGFiZWwsIHhfb3JpZywgeV9vcmlnLCB4LCB5KSB7CiAgICAKICAgIHZhciBsYWJlbF9iYiA9IGxhYmVsLm5vZGUoKS5nZXRCQm94KCk7CiAgICB2YXIgYmIgPSB7bGVmdDogeCAtIGxhYmVsX2JiLndpZHRoIC8gMiwKICAgICAgICAgICAgICByaWdodDogeCArIGxhYmVsX2JiLndpZHRoIC8gMiwKICAgICAgICAgICAgICB0b3A6IHkgLSAzICogbGFiZWxfYmIuaGVpZ2h0IC8gNCwKICAgICAgICAgICAgICBib3R0b206IHkgKyBsYWJlbF9iYi5oZWlnaHQgLyA0LAogICAgICAgICAgICAgIG1pZGRsZTogeSAtIGxhYmVsX2JiLmhlaWdodCAvIDR9OwogICAgdmFyIGNvb3JkID0ge307CgogICAgaWYgKGJiLmxlZnQgPiB4X29yaWcgKyA0KSB7CiAgICAgICAgY29vcmQueCA9IGJiLmxlZnQgLSA1OwogICAgICAgIGNvb3JkLnkgPSBiYi5taWRkbGU7CiAgICB9IGVsc2UgaWYgKGJiLnJpZ2h0IDwgeF9vcmlnIC0gNCkgewogICAgICAgIGNvb3JkLnggPSBiYi5yaWdodCArIDU7CiAgICAgICAgY29vcmQueSA9IGJiLm1pZGRsZTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29vcmQueCA9IHg7CiAgICAgICAgaWYgKHkgPiB5X29yaWcpIHsKICAgICAgICAgICAgY29vcmQueSA9IGJiLnRvcDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb29yZC55ID0gYmIuYm90dG9tOwogICAgICAgIH0KICAgIH0KCiAgICBjb29yZC5kaXN0ID0gTWF0aC5zcXJ0KE1hdGgucG93KGNvb3JkLnggLSB4X29yaWcsIDIpICsgTWF0aC5wb3coY29vcmQueSAtIHlfb3JpZywgMikpOwoKICAgIC8vIE5vIGxpbmUgaWYgbGFiZWwgaXMganVzdCBhcm91bmQgcG9pbnQKICAgIGlmIChiYi5ib3R0b20gID49IHlfb3JpZyAtIDEwICYmIGJiLnRvcCA8PSB5X29yaWcgKyAxMCAmJgogICAgICAgIGJiLmxlZnQgPD0geF9vcmlnICsgNCAmJiBiYi5yaWdodCA+PSB4X29yaWcgLSA0KSB7CiAgICAgICAgY29vcmQuZGlzdCA9IDA7CiAgICB9CgogICAgcmV0dXJuKGNvb3JkKTsKCn0KCi8vIEZvcm1hdCBsaW5lIGJldHdlZW4gcG9pbnQgYW5kIGxhYmVsCmZ1bmN0aW9uIGxhYmVsX2xpbmVfZm9ybWF0dGluZyhzZWxlY3Rpb24sIGQsIGR4LCBkeSwgY2hhcnQpIHsKCiAgICB2YXIgeCA9IGNoYXJ0LnNjYWxlcygpLngoZC54KTsKICAgIHZhciB5ID0gY2hhcnQuc2NhbGVzKCkueShkLnkpOwogICAgdmFyIGNvb3JkID0gbGFiZWxfbGluZV9jb29yZGluYXRlcyhzZWxlY3Rpb24sIHgsIHksIHggKyBkeCwgeSArIGR5KTsKICAgIHZhciB4MiA9IGNvb3JkLnggLSB4OwogICAgdmFyIHkyID0gY29vcmQueSAtIHk7CiAgICB2YXIgbGluZSA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmxhYmVsLWxpbmUtIiArIGNzc19jbGVhbihrZXkoZCkpKTsKICAgIC8vIEZvcmNlIG5lZ2F0aXZlIGdhcCBmb3IgbGFiZWxzIGJlbG93IGFycm93cwogICAgdmFyIGdhcDAgPSAtTWF0aC5hYnMoZGVmYXVsdF9sYWJlbF9keShkLCBjaGFydCkpOwoKICAgIGlmIChjb29yZC5kaXN0ID4gMTUgJiYgbGluZS5lbXB0eSgpKSB7CiAgICAgICAgbGluZSA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgICAgICAuYXBwZW5kKCJzdmc6bGluZSIpCiAgICAgICAgICAgIC5sb3dlcigpCiAgICAgICAgICAgIC5kYXR1bShkKQogICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgdHJhbnNsYXRpb24oZCwgY2hhcnQuc2NhbGVzKCkpKQogICAgICAgICAgICAuYXR0cigiY2xhc3MiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICAgICAgcmV0dXJuICJwb2ludC1sYWJlbC1saW5lIGxhYmVsLWxpbmUtIiArIGNzc19jbGVhbihrZXkoZCkpICsgIiBjb2xvciBjb2xvci1jIiArIGNzc19jbGVhbihkLmNvbF92YXIpICsgIiBzeW1ib2wgc3ltYm9sLWMiICsgY3NzX2NsZWFuKGQuc3ltYm9sX3Zhcik7CiAgICAgICAgICAgIH0pCiAgICB9CiAgICBpZiAoY29vcmQuZGlzdCA+IDE1KSB7CiAgICAgICAgbGluZS5hdHRyKCJ4MSIsIC0geDIgKiBnYXAwIC8gY29vcmQuZGlzdCkuYXR0cigieDIiLCB4MikKICAgICAgICAgICAgLmF0dHIoInkxIiwgLSB5MiAqIGdhcDAgLyBjb29yZC5kaXN0KS5hdHRyKCJ5MiIsIHkyKQogICAgICAgICAgICAuc3R5bGUoInN0cm9rZSIsIGNoYXJ0LnNjYWxlcygpLmNvbG9yKGQuY29sX3ZhcikpOwogICAgfQogICAgaWYgKGNvb3JkLmRpc3QgPD0gMTUgJiYgIWxpbmUuZW1wdHkoKSkgewogICAgICAgIGxpbmUucmVtb3ZlKCk7CiAgICB9Cn0KCgovLyBDb21wdXRlIGF1dG9tYXRpYyBsYWJlbCBwbGFjZW1lbnQKZnVuY3Rpb24gbGFiZWxzX3BsYWNlbWVudChjaGFydCkgewoKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmxhYmVsc19wb3NpdGlvbnMgIT0gImF1dG8iKSByZXR1cm47CgogICAgdmFyIGxhYmVsX2FycmF5ID0gW107CiAgICB2YXIgYW5jaG9yX2FycmF5ID0gW107CiAgICB2YXIgbnN3ZWVwcyA9IDIwMDsKICAgIHZhciBpbmRleCA9IDA7CgogICAgdmFyIGxhYmVscyA9IGNoYXJ0LnN2ZygpLnNlbGVjdEFsbCgiLnBvaW50LWxhYmVsIik7CgogICAgbGFiZWxzID0gbGFiZWxzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmxhYiAhPT0gIiIgJiYgZC5sYWIgIT09IG51bGw7fSk7CgogICAgbGFiZWxzLmVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIgYmIgPSB0aGlzLmdldEJCb3goKTsKICAgICAgICBsYWJlbF9hcnJheVtpbmRleF0gPSB7fTsKICAgICAgICBsYWJlbF9hcnJheVtpbmRleF0ud2lkdGggPSBiYi53aWR0aDsKICAgICAgICBsYWJlbF9hcnJheVtpbmRleF0uaGVpZ2h0ID0gYmIuaGVpZ2h0OwogICAgICAgIGxhYmVsX2FycmF5W2luZGV4XS54ID0gY2hhcnQuc2NhbGVzKCkueChkLngpOwogICAgICAgIGxhYmVsX2FycmF5W2luZGV4XS55ID0gY2hhcnQuc2NhbGVzKCkueShkLnkpOwogICAgICAgIGxhYmVsX2FycmF5W2luZGV4XS5uYW1lID0gZC5sYWI7CiAgICAgICAgYW5jaG9yX2FycmF5W2luZGV4XSA9IHt9OwogICAgICAgIGFuY2hvcl9hcnJheVtpbmRleF0ueCA9IGNoYXJ0LnNjYWxlcygpLngoZC54KTsKICAgICAgICBhbmNob3JfYXJyYXlbaW5kZXhdLnkgPSBjaGFydC5zY2FsZXMoKS55KGQueSk7CiAgICAgICAgYW5jaG9yX2FycmF5W2luZGV4XS5yID0gTWF0aC5zcXJ0KGRvdF9zaXplKGQsIGNoYXJ0KSk7CiAgICAgICAgaW5kZXggKz0gMTsKICAgIH0pOwoKICAgIGQzdjUubGFiZWxlcigpCiAgICAgICAgLmxhYmVsKGxhYmVsX2FycmF5KQogICAgICAgIC5hbmNob3IoYW5jaG9yX2FycmF5KQogICAgICAgIC53aWR0aChjaGFydC5kaW1zKCkud2lkdGgpCiAgICAgICAgLmhlaWdodChjaGFydC5kaW1zKCkuaGVpZ2h0KQogICAgICAgIC5zdGFydChuc3dlZXBzKTsKCiAgICBsYWJlbHMuZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICBkLmxhYl9keCA9IGxhYmVsX2FycmF5W2ldLnggLSBjaGFydC5zY2FsZXMoKS54KGQueCk7CiAgICAgICAgZC5sYWJfZHkgPSBsYWJlbF9hcnJheVtpXS55IC0gY2hhcnQuc2NhbGVzKCkueShkLnkpOwogICAgfSkKCiAgICBsYWJlbHMKICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCiAgICAgICAgLmNhbGwobGFiZWxfZm9ybWF0dGluZywgY2hhcnQpOwoKfQoKCi8vIERyYWcgYmVoYXZpb3IKZnVuY3Rpb24gZHJhZ19iZWhhdmlvcihjaGFydCkgewoKICAgIHZhciBzY2FsZXMgPSBjaGFydC5zY2FsZXMoKTsKCiAgICAvLyBUZXh0IGxhYmVscyBkcmFnZ2luZyBmdW5jdGlvbgogICAgdmFyIGRyYWcgPSBkM3Y1LmRyYWcoKQogICAgICAgIC5zdWJqZWN0KGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICAgICAgdmFyIGR4ID0gZ2V0X2xhYmVsX2R4KGQsIGksIGNoYXJ0KTsKICAgICAgICAgICAgdmFyIGR5ID0gZ2V0X2xhYmVsX2R5KGQsIGksIGNoYXJ0KTsKICAgICAgICAgICAgcmV0dXJuIHsgeDogc2NhbGVzLngoZC54KSArIGR4LCB5OiBzY2FsZXMueShkLnkpICsgZHkgfTsKICAgICAgICB9KQogICAgICAgIC5vbignc3RhcnQnLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICBpZiAoIWQzdjUuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHsKICAgICAgICAgICAgICAgIGRyYWdnaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IGQzdjUuc2VsZWN0KHRoaXMpOwogICAgICAgICAgICAgICAgbGFiZWwuc3R5bGUoJ2ZpbGwnLCAnIzAwMCcpOwogICAgICAgICAgICAgICAgdmFyIGR4ID0gZDN2NS5ldmVudC54IC0gc2NhbGVzLngoZC54KTsKICAgICAgICAgICAgICAgIHZhciBkeSA9IGQzdjUuZXZlbnQueSAtIHNjYWxlcy55KGQueSk7CiAgICAgICAgICAgICAgICBsYWJlbC5jYWxsKGxhYmVsX2xpbmVfZm9ybWF0dGluZywgZCwgZHgsIGR5LCBjaGFydCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5vbignZHJhZycsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgaWYgKGRyYWdnaW5nKSB7CiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBkM3Y1LnNlbGVjdCh0aGlzKTsKICAgICAgICAgICAgICAgIHZhciBkeCA9IGQzdjUuZXZlbnQueCAtIHNjYWxlcy54KGQueCk7CiAgICAgICAgICAgICAgICB2YXIgZHkgPSBkM3Y1LmV2ZW50LnkgLSBzY2FsZXMueShkLnkpOwogICAgICAgICAgICAgICAgbGFiZWwuYXR0cignZHgnLCBkeCArICJweCIpCiAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsIGR5ICsgInB4Iik7CiAgICAgICAgICAgICAgICBsYWJlbC5jYWxsKGxhYmVsX2xpbmVfZm9ybWF0dGluZywgZCwgZHgsIGR5LCBjaGFydCk7CiAgICAgICAgICAgICAgICBkLmxhYl9keCA9IGR4OwogICAgICAgICAgICAgICAgZC5sYWJfZHkgPSBkeTsKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLm9uKCdlbmQnLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIGlmIChkcmFnZ2luZykgewogICAgICAgICAgICAgICAgZDN2NS5zZWxlY3QodGhpcykuc3R5bGUoJ2ZpbGwnLCBjaGFydC5zY2FsZXMoKS5jb2xvcihkLmNvbF92YXIpKTsKICAgICAgICAgICAgICAgIGQzdjUuc2VsZWN0KHRoaXMpLmNhbGwobGFiZWxfbGluZV9mb3JtYXR0aW5nLCBkLCBkLmxhYl9keCwgZC5sYWJfZHksIGNoYXJ0KTsKICAgICAgICAgICAgICAgIGRyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICByZXR1cm4gZHJhZzsKCn0K"></script>
<script src="data:application/x-javascript;base64,Ly8gWmVybyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBsaW5lcwp2YXIgZHJhd19saW5lID0gZDN2NS5saW5lKCkKCS54KGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLng7IH0pCgkueShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC55OyB9KTsKCgoKZnVuY3Rpb24gbGluZXNfY3JlYXRlKGNoYXJ0KSB7CgoJaWYgKGNoYXJ0LnNldHRpbmdzKCkubGluZXMgIT09IG51bGwpIHsKCQl2YXIgbGluZXMgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5jaGFydC1ib2R5IikKCQkJLnNlbGVjdEFsbCgiLmxpbmVzIikKCQkJLmRhdGEoSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyhjaGFydC5zZXR0aW5ncygpLmxpbmVzKSk7CgoJCWxpbmVzLmVudGVyKCkKCQkJLmFwcGVuZCgicGF0aCIpCgkJCS5jYWxsKGxpbmVfaW5pdCkKCQkJLmNhbGwobGluZV9mb3JtYXR0aW5nLCBjaGFydCk7Cgl9Cn0KCmZ1bmN0aW9uIGxpbmVzX3VwZGF0ZShjaGFydCkgewoKCWlmIChjaGFydC5zZXR0aW5ncygpLmxpbmVzICE9PSBudWxsKSB7CgkJdmFyIGxpbmVzID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIuY2hhcnQtYm9keSIpCgkJCS5zZWxlY3RBbGwoIi5saW5lIikKCQkJLmRhdGEoSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyhjaGFydC5zZXR0aW5ncygpLmxpbmVzKSk7CgoJCWxpbmVzLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuY2FsbChsaW5lX2luaXQpCgkJCS5zdHlsZSgib3BhY2l0eSIsICIwIikKCQkJLm1lcmdlKGxpbmVzKQoJCQkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCgkJCS5jYWxsKGxpbmVfZm9ybWF0dGluZywgY2hhcnQpCgkJCS5zdHlsZSgib3BhY2l0eSIsICIxIik7CgoJCWxpbmVzLmV4aXQoKQoJCQkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCgkJCS5zdHlsZSgib3BhY2l0eSIsICIwIikKCQkJLnJlbW92ZSgpOwoJfQp9CgpmdW5jdGlvbiBsaW5lX2luaXQoc2VsZWN0aW9uKSB7CglzZWxlY3Rpb24KCQkuYXR0cigiY2xhc3MiLCAibGluZSIpOwoKCXJldHVybiBzZWxlY3Rpb247Cn0KCmZ1bmN0aW9uIGxpbmVfZm9ybWF0dGluZyhzZWxlY3Rpb24sIGNoYXJ0KSB7CgoJdmFyIHNldHRpbmdzID0gY2hhcnQuc2V0dGluZ3MoKTsKCXZhciBzY2FsZXMgPSBjaGFydC5zY2FsZXMoKTsKCXZhciBkaW1zID0gY2hhcnQuZGltcygpOwoKCXNlbGVjdGlvbgoJCS5hdHRyKCJkIiwgZnVuY3Rpb24gKGQpIHsKCQkJLy8gQ2F0ZWdvcmljYWwgdmFyaWFibGVzCgkJCWlmIChzZXR0aW5ncy54X2NhdGVnb3JpY2FsICYmIHNldHRpbmdzLnlfY2F0ZWdvcmljYWwpIHsgcmV0dXJuIG51bGw7IH07CgkJCWlmIChzZXR0aW5ncy54X2NhdGVnb3JpY2FsKSB7CgkJCQlpZiAoZC5zbG9wZSAhPSAwKSB7IHJldHVybiBudWxsOyB9CgkJCQllbHNlIHsKCQkJCQlyZXR1cm4gZHJhd19saW5lKFt7IHg6IDAsIHk6IHNjYWxlcy55KGQuaW50ZXJjZXB0KSB9LAoJCQkJCXsgeDogZGltcy53aWR0aCwgeTogc2NhbGVzLnkoZC5pbnRlcmNlcHQpIH1dKTsKCQkJCX0KCQkJfQoJCQlpZiAoc2V0dGluZ3MueV9jYXRlZ29yaWNhbCkgewoJCQkJaWYgKGQuc2xvcGUgIT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH0KCQkJfQoJCQkvLyBWZXJ0aWNhbCBsaW5lCgkJCWlmIChkLnNsb3BlID09PSBudWxsKSB7CgkJCQlyZXR1cm4gZHJhd19saW5lKFt7IHg6IHNjYWxlcy54KGQuaW50ZXJjZXB0KSwgeTogMCB9LAoJCQkJeyB4OiBzY2FsZXMueChkLmludGVyY2VwdCksIHk6IGRpbXMuaGVpZ2h0IH1dKTsKCQkJfQoJCQkvLyBBbGwgb3RoZXIgbGluZXMKCQkJZWxzZSB7CgkJCQlyZXR1cm4gZHJhd19saW5lKFt7IHg6IDAsIHk6IHNjYWxlcy55KGQuc2xvcGUgKiBzY2FsZXMueC5kb21haW4oKVswXSArIGQuaW50ZXJjZXB0KSB9LAoJCQkJeyB4OiBkaW1zLndpZHRoLCB5OiBzY2FsZXMueShkLnNsb3BlICogc2NhbGVzLnguZG9tYWluKClbMV0gKyBkLmludGVyY2VwdCkgfV0pOwoJCQl9CgkJfSkKCQkuc3R5bGUoInN0cm9rZS13aWR0aCIsIGZ1bmN0aW9uIChkKSB7CgkJCXJldHVybiBkLnN0cm9rZV93aWR0aCAhPT0gdW5kZWZpbmVkICYmIGQuc3Ryb2tlX3dpZHRoICE9PSBudWxsID8gZC5zdHJva2Vfd2lkdGggOiAiMXB4IjsKCQl9KQoJCS5zdHlsZSgic3Ryb2tlIiwgZnVuY3Rpb24gKGQpIHsKCQkJcmV0dXJuIGQuc3Ryb2tlICE9PSB1bmRlZmluZWQgJiYgZC5zdHJva2UgIT09IG51bGwgPyBkLnN0cm9rZSA6ICIjMDAwMDAwIjsKCQl9KQoJCS5zdHlsZSgic3Ryb2tlLWRhc2hhcnJheSIsIGZ1bmN0aW9uIChkKSB7CgkJCXJldHVybiBkLnN0cm9rZV9kYXNoYXJyYXkgIT09IHVuZGVmaW5lZCAmJiBkLnN0cm9rZV9kYXNoYXJyYXkgIT09IG51bGwgPyBkLnN0cm9rZV9kYXNoYXJyYXkgOiBudWxsOwoJCX0pOwoKCXJldHVybiBzZWxlY3Rpb247Cn0K"></script>
<script src="data:application/x-javascript;base64,CgpmdW5jdGlvbiBlbGxpcHNlc19jcmVhdGUoY2hhcnQpIHsKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmVsbGlwc2VzKSB7CiAgICAgICAgdmFyIGVsbGlwc2VzID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIuY2hhcnQtYm9keSIpCiAgICAgICAgICAgIC5zZWxlY3RBbGwoIi5lbGxpcHNlIikKICAgICAgICAgICAgLmRhdGEoY2hhcnQuc2V0dGluZ3MoKS5lbGxpcHNlc19kYXRhKTsKCiAgICAgICAgZWxsaXBzZXMuZW50ZXIoKQogICAgICAgICAgICAuYXBwZW5kKCJzdmc6cGF0aCIpCiAgICAgICAgICAgIC5jYWxsKGVsbGlwc2VfaW5pdCkKICAgICAgICAgICAgLmNhbGwoZWxsaXBzZV9mb3JtYXR0aW5nLCBjaGFydCk7CiAgICB9Cn0KCgpmdW5jdGlvbiBlbGxpcHNlc191cGRhdGUoY2hhcnQpIHsKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmVsbGlwc2VzIHx8IGNoYXJ0LnNldHRpbmdzKCkuZWxsaXBzZXNfY2hhbmdlZCkgewogICAgICAgIHZhciBlbGxpcHNlcyA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKQogICAgICAgICAgICAuc2VsZWN0QWxsKCIuZWxsaXBzZSIpCiAgICAgICAgICAgIC5kYXRhKGNoYXJ0LnNldHRpbmdzKCkuZWxsaXBzZXNfZGF0YSk7CgogICAgICAgIGVsbGlwc2VzLmVudGVyKCkKICAgICAgICAgICAgLmFwcGVuZCgicGF0aCIpCiAgICAgICAgICAgIC5jYWxsKGVsbGlwc2VfaW5pdCkKICAgICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKQogICAgICAgICAgICAubWVyZ2UoZWxsaXBzZXMpCiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkKICAgICAgICAgICAgLmNhbGwoZWxsaXBzZV9mb3JtYXR0aW5nLCBjaGFydCkKICAgICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjEiKTsKCiAgICAgICAgZWxsaXBzZXMuZXhpdCgpCiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkKICAgICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKQogICAgICAgICAgICAucmVtb3ZlKCk7CiAgICB9Cn0KCgovLyBJbml0aWFsIGVsbGlwc2UgYXR0cmlidXRlcwpmdW5jdGlvbiBlbGxpcHNlX2luaXQoc2VsZWN0aW9uKSB7CiAgICBzZWxlY3Rpb24KICAgICAgICAuc3R5bGUoImZpbGwiLCAibm9uZSIpOwp9CgoKLy8gQXBwbHkgZm9ybWF0IHRvIGVsbGlwc2UKZnVuY3Rpb24gZWxsaXBzZV9mb3JtYXR0aW5nKHNlbGVjdGlvbiwgY2hhcnQpIHsKCiAgICB2YXIgc2NhbGVzID0gY2hhcnQuc2NhbGVzKCk7CgogICAgLy8gRWxsaXBzZXMgcGF0aCBmdW5jdGlvbgogICAgdmFyIGVsbGlwc2VGdW5jID0gZDN2NS5saW5lKCkKICAgICAgICAueChmdW5jdGlvbihkKSB7IHJldHVybiBzY2FsZXMueChkLngpOyB9KQogICAgICAgIC55KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNjYWxlcy55KGQueSk7IH0pOwoKICAgIHNlbGVjdGlvbgogICAgICAgIC5hdHRyKCJkIiwgZnVuY3Rpb24oZCkgewoJICAgIHZhciBlbGwgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKGQuZGF0YSk7CgkgICAgcmV0dXJuIChlbGxpcHNlRnVuYyhlbGwpKTsKICAgICAgICB9KQogICAgICAgIC5zdHlsZSgic3Ryb2tlIiwgZnVuY3Rpb24oZCkgewoJICAgIC8vIE9ubHkgb25lIGVsbGlwc2UKCSAgICBpZiAoZC5sZXZlbCA9PSAiX3NjYXR0ZXJEM19hbGwiKSB7CgkJaWYgKGNoYXJ0LnNldHRpbmdzKCkuY29sX2NvbnRpbnVvdXMpIHsKCQkgICAgcmV0dXJuKGQzdjUuaW50ZXJwb2xhdGVWaXJpZGlzKDApKTsKCQl9IGVsc2UgewoJCSAgICByZXR1cm4oc2NhbGVzLmNvbG9yLnJhbmdlKClbMF0pOwoJCX0KCSAgICB9CgkgICAgcmV0dXJuKCBzY2FsZXMuY29sb3IoZC5sZXZlbCkpOwogICAgICAgIH0pCiAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgMSkKICAgICAgICAuYXR0cigiY2xhc3MiLCBmdW5jdGlvbihkKSB7CgkgICAgcmV0dXJuICJlbGxpcHNlIGNvbG9yIGNvbG9yLWMiICsgY3NzX2NsZWFuKGQubGV2ZWwpOwogICAgICAgIH0pOwp9Cg=="></script>
<script src="data:application/x-javascript;base64,Ci8vIEluaXQgYW5kIHJldHVybnMgYSB6b29tIGJlaGF2aW9yCmZ1bmN0aW9uIHpvb21fYmVoYXZpb3IoY2hhcnQpIHsKIAogICAgdmFyIHJvb3QgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5yb290Iik7CiAgICB2YXIgdmlld3BvcnQgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi52aWV3cG9ydCIpOwoKICAgIHZhciByb290X2JiID0gcm9vdC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICB2YXIgdmlld3BvcnRfYmIgPSB2aWV3cG9ydC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgdmFyIHgwID0gdmlld3BvcnRfYmIubGVmdCAtIHJvb3RfYmIubGVmdDsKICAgIHZhciB5MCA9IHZpZXdwb3J0X2JiLnRvcCAtIHJvb3RfYmIudG9wOwogICAgdmFyIHgxID0gdmlld3BvcnRfYmIucmlnaHQgLSByb290X2JiLmxlZnQ7CiAgICB2YXIgeTEgPSB2aWV3cG9ydF9iYi5ib3R0b20gLSByb290X2JiLnRvcDsKCiAgICAvLyBab29tIGJlaGF2aW9yCiAgICB2YXIgem9vbSA9IGQzdjUuem9vbSgpCiAgICAgICAgLmV4dGVudChbWzAsIHkwXSwgW3gxIC0geDAsIHkxXV0pCiAgICAgICAgLnNjYWxlRXh0ZW50KFswLCAzMl0pCiAgICAgICAgLm9uKCJ6b29tIiwgZnVuY3Rpb24oKSB7IHpvb21lZChjaGFydCk7IH0pOwoKICAgIHJldHVybiB6b29tOwp9CgovLyBab29tIGZ1bmN0aW9uCmZ1bmN0aW9uIHpvb21lZChjaGFydCkgewoKICAgIHZhciByb290ID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIucm9vdCIpOwogICAgCiAgICBpZiAoIWNoYXJ0LnNldHRpbmdzKCkueF9jYXRlZ29yaWNhbCkgewogICAgICAgIGNoYXJ0LnNjYWxlcygpLnggPSBkM3Y1LmV2ZW50LnRyYW5zZm9ybS5yZXNjYWxlWChjaGFydC5zY2FsZXMoKS54X29yaWcpOwogICAgICAgIGNoYXJ0LnNjYWxlcygpLnhBeGlzID0gY2hhcnQuc2NhbGVzKCkueEF4aXMuc2NhbGUoY2hhcnQuc2NhbGVzKCkueCk7CiAgICAgICAgcm9vdC5zZWxlY3QoIi54LmF4aXMiKS5jYWxsKGNoYXJ0LnNjYWxlcygpLnhBeGlzKTsKICAgIH0KICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS55X2NhdGVnb3JpY2FsKSB7CiAgICAgICAgY2hhcnQuc2NhbGVzKCkueSA9IGQzdjUuZXZlbnQudHJhbnNmb3JtLnJlc2NhbGVZKGNoYXJ0LnNjYWxlcygpLnlfb3JpZyk7CiAgICAgICAgY2hhcnQuc2NhbGVzKCkueUF4aXMgPSBjaGFydC5zY2FsZXMoKS55QXhpcy5zY2FsZShjaGFydC5zY2FsZXMoKS55KTsKICAgICAgICByb290LnNlbGVjdCgiLnkuYXhpcyIpLmNhbGwoY2hhcnQuc2NhbGVzKCkueUF4aXMpOwogICAgfQogICAgCiAgICB2YXIgY2hhcnRfYm9keSA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLmNoYXJ0LWJvZHkiKTsKICAgIAogICAgY2hhcnRfYm9keS5zZWxlY3RBbGwoIi5kb3QsIC5wb2ludC1sYWJlbCwgLnBvaW50LWxhYmVsLWxpbmUiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gdHJhbnNsYXRpb24oZCwgY2hhcnQuc2NhbGVzKCkpOyB9KTsKICAgIGNoYXJ0X2JvZHkuc2VsZWN0QWxsKCIubGluZSIpLmNhbGwobGluZV9mb3JtYXR0aW5nLCBjaGFydCkKICAgIGNoYXJ0X2JvZHkuc2VsZWN0QWxsKCIuYXJyb3ciKS5jYWxsKGRyYXdfYXJyb3csIGNoYXJ0KTsKICAgIGNoYXJ0X2JvZHkuc2VsZWN0QWxsKCIuZWxsaXBzZSIpLmNhbGwoZWxsaXBzZV9mb3JtYXR0aW5nLCBjaGFydCk7CiAgICBjaGFydC5zdmcoKS5zZWxlY3QoIi51bml0LWNpcmNsZSIpLmNhbGwodW5pdF9jaXJjbGVfZm9ybWF0dGluZywgY2hhcnQpOwogICAgCiAgICBpZiAodHlwZW9mIGNoYXJ0LnNldHRpbmdzKCkuem9vbV9jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGNoYXJ0LnNldHRpbmdzKCkuem9vbV9jYWxsYmFjayhjaGFydC5zY2FsZXMoKS54LmRvbWFpbigpWzBdLCBjaGFydC5zY2FsZXMoKS54LmRvbWFpbigpWzFdLCAKICAgICAgICAgICAgY2hhcnQuc2NhbGVzKCkueS5kb21haW4oKVswXSwgY2hhcnQuc2NhbGVzKCkueS5kb21haW4oKVsxXSk7CiAgICB9CiAgICAKfQoKLy8gUmVzZXQgem9vbSBmdW5jdGlvbgpmdW5jdGlvbiByZXNldF96b29tKGNoYXJ0KSB7CiAgICB2YXIgcm9vdCA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLnJvb3QiKTsKICAgIHJvb3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCiAgICAgICAgLmNhbGwoY2hhcnQuem9vbSgpLnRyYW5zZm9ybSwgZDN2NS56b29tSWRlbnRpdHkpOwp9CgovLyBVcGRhdGUgem9vbSBmdW5jdGlvbgpmdW5jdGlvbiB1cGRhdGVfem9vbShjaGFydCkgewogICAgdmFyIHJvb3QgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5yb290Iik7CiAgICByb290LnNlbGVjdCgiLnguYXhpcyIpCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKQogICAgICAgIC5jYWxsKGNoYXJ0LnNjYWxlcygpLnhBeGlzKTsKICAgIHJvb3Quc2VsZWN0KCIueS5heGlzIikKICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCiAgICAgICAgLmNhbGwoY2hhcnQuc2NhbGVzKCkueUF4aXMpCiAgICAgICAgLm9uKCJlbmQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcm9vdC5jYWxsKGNoYXJ0Lnpvb20oKS50cmFuc2Zvcm0sIGQzdjUuem9vbUlkZW50aXR5KTsKICAgICAgICB9KTsKfQoKCi8vIFpvb20gb24gCmZ1bmN0aW9uIHpvb21fb24oY2hhcnQsIGR1cmF0aW9uKSB7CgogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuem9vbV9vbiA9PT0gbnVsbCkgcmV0dXJuOwoKICAgIHZhciByb290ID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIucm9vdCIpOwogICAgdmFyIGN1clpvb20gPSBkM3Y1Lnpvb21UcmFuc2Zvcm0ocm9vdC5ub2RlKCkpOwogICAgdmFyIHpvb21feCA9IGNoYXJ0LnNjYWxlcygpLngoY2hhcnQuc2V0dGluZ3MoKS56b29tX29uWzBdKTsKICAgIHZhciB6b29tX3kgPSBjaGFydC5zY2FsZXMoKS55KGNoYXJ0LnNldHRpbmdzKCkuem9vbV9vblsxXSk7CiAgICB2YXIgem9vbV9keCA9IChjaGFydC5kaW1zKCkud2lkdGggLyAyIC0gem9vbV94KSAvIGN1clpvb20uazsKICAgIHZhciB6b29tX2R5ID0gKGNoYXJ0LmRpbXMoKS5oZWlnaHQgLyAyIC0gem9vbV95KSAvIGN1clpvb20uazsKICAgIHJvb3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKQogICAgICAgIC5jYWxsKGNoYXJ0Lnpvb20oKS50cmFuc2xhdGVCeSwgem9vbV9keCwgem9vbV9keSkKICAgICAgICAub24oImVuZCIsIGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChjaGFydC5zZXR0aW5ncygpLnpvb21fb25fbGV2ZWwgIT0gY3VyWm9vbS5rKSB7IAogICAgICAgICAgICByb290LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbikKICAgICAgICAgICAgICAgIC5jYWxsKGNoYXJ0Lnpvb20oKS5zY2FsZVRvLCBjaGFydC5zZXR0aW5ncygpLnpvb21fb25fbGV2ZWwpCiAgICAgICAgfQogICAgfSkgCgp9"></script>
<script src="data:application/x-javascript;base64,CgpmdW5jdGlvbiBsZWdlbmRzX2NyZWF0ZShjaGFydCkgewoKICAgIGNoYXJ0LnN2ZygpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgImxlZ2VuZCIpCiAgICAgICAgLnN0eWxlKCJmb250LXNpemUiLCBjaGFydC5zZXR0aW5ncygpLmxlZ2VuZF9mb250X3NpemUpOwoKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmhhc19sZWdlbmQgJiYgY2hhcnQuc2V0dGluZ3MoKS5sZWdlbmRfd2lkdGggPiAwKSB7CiAgICAgICAgY2hhcnQuZGltcyhzZXR1cF9sZWdlbmRfZGltcyhjaGFydCkpOwogICAgICAgIC8vIENvbG9yIGxlZ2VuZAogICAgICAgIGlmIChjaGFydC5zZXR0aW5ncygpLmhhc19jb2xvcl92YXIpCiAgICAgICAgICAgIGFkZF9jb2xvcl9sZWdlbmQoY2hhcnQsIDApOwogICAgICAgIC8vIFN5bWJvbCBsZWdlbmQKICAgICAgICBpZiAoY2hhcnQuc2V0dGluZ3MoKS5oYXNfc3ltYm9sX3ZhcikKICAgICAgICAgICAgYWRkX3N5bWJvbF9sZWdlbmQoY2hhcnQsIDApOwogICAgICAgIC8vIFNpemUgbGVnZW5kCiAgICAgICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuaGFzX3NpemVfdmFyKQogICAgICAgICAgICBhZGRfc2l6ZV9sZWdlbmQoY2hhcnQsIDApOwogICAgfQp9CgoKCmZ1bmN0aW9uIGxlZ2VuZHNfdXBkYXRlKGNoYXJ0KSB7CgogICAgaWYgKCFjaGFydC5zZXR0aW5ncygpLmxlZ2VuZF9jaGFuZ2VkKSByZXR1cm47CgogICAgdmFyIHNldHRpbmdzID0gY2hhcnQuc2V0dGluZ3MoKTsKICAgIHZhciBsZWdlbmQgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5sZWdlbmQiKTsKICAgIGNoYXJ0LmRpbXMoc2V0dXBfbGVnZW5kX2RpbXMoY2hhcnQpKTsKCiAgICAvLyBNb3ZlIGNvbG9yIGxlZ2VuZAogICAgaWYgKHNldHRpbmdzLmhhc19jb2xvcl92YXIgJiYgc2V0dGluZ3MuaGFkX2NvbG9yX3ZhciAmJiAhc2V0dGluZ3MuY29sX2NoYW5nZWQpIHsKICAgICAgICBsZWdlbmQuY2FsbChtb3ZlX2NvbG9yX2xlZ2VuZCwgY2hhcnQsIDEwMDApOwogICAgfQogICAgLy8gUmVwbGFjZSBjb2xvciBsZWdlbmQKICAgIGlmIChzZXR0aW5ncy5oYXNfY29sb3JfdmFyICYmIHNldHRpbmdzLmhhZF9jb2xvcl92YXIgJiYgc2V0dGluZ3MuY29sX2NoYW5nZWQpIHsKICAgICAgICBsZWdlbmQuY2FsbChmdW5jdGlvbiAoc2VsKSB7CiAgICAgICAgICAgIHJlbW92ZV9jb2xvcl9sZWdlbmQoc2VsKTsKICAgICAgICAgICAgYWRkX2NvbG9yX2xlZ2VuZChjaGFydCwgMTAwMCk7CiAgICAgICAgfSk7CiAgICB9CiAgICAvLyBBZGQgY29sb3IgbGVnZW5kCiAgICBpZiAoc2V0dGluZ3MuaGFzX2NvbG9yX3ZhciAmJiAhc2V0dGluZ3MuaGFkX2NvbG9yX3ZhcikgewogICAgICAgIGFkZF9jb2xvcl9sZWdlbmQoY2hhcnQsIDEwMDApOwogICAgfQogICAgLy8gUmVtb3ZlIGNvbG9yIGxlZ2VuZAogICAgaWYgKCFzZXR0aW5ncy5oYXNfY29sb3JfdmFyICYmIHNldHRpbmdzLmhhZF9jb2xvcl92YXIpIHsKICAgICAgICBsZWdlbmQuY2FsbChyZW1vdmVfY29sb3JfbGVnZW5kKTsKICAgIH0KCiAgICAvLyBNb3ZlIHN5bWJvbCBsZWdlbmQKICAgIGlmIChzZXR0aW5ncy5oYXNfc3ltYm9sX3ZhciAmJiBzZXR0aW5ncy5oYWRfc3ltYm9sX3ZhciAmJiAhc2V0dGluZ3Muc3ltYm9sX2NoYW5nZWQpIHsKICAgICAgICBsZWdlbmQuY2FsbChtb3ZlX3N5bWJvbF9sZWdlbmQsIGNoYXJ0LCAxMDAwKTsKICAgIH0KICAgIC8vIFJlcGxhY2Ugc3ltYm9sIGxlZ2VuZAogICAgaWYgKHNldHRpbmdzLmhhc19zeW1ib2xfdmFyICYmIHNldHRpbmdzLmhhZF9zeW1ib2xfdmFyICYmIHNldHRpbmdzLnN5bWJvbF9jaGFuZ2VkKSB7CiAgICAgICAgbGVnZW5kLmNhbGwoZnVuY3Rpb24gKHNlbCkgewogICAgICAgICAgICByZW1vdmVfc3ltYm9sX2xlZ2VuZChzZWwpOwogICAgICAgICAgICBhZGRfc3ltYm9sX2xlZ2VuZChjaGFydCwgMTAwMCk7CiAgICAgICAgfSk7CiAgICB9CiAgICAvLyBBZGQgc3ltYm9sIGxlZ2VuZAogICAgaWYgKHNldHRpbmdzLmhhc19zeW1ib2xfdmFyICYmICFzZXR0aW5ncy5oYWRfc3ltYm9sX3ZhcikgewogICAgICAgIGFkZF9zeW1ib2xfbGVnZW5kKGNoYXJ0LCAxMDAwKTsKICAgIH0KICAgIC8vIFJlbW92ZSBzeW1ib2wgbGVnZW5kCiAgICBpZiAoIXNldHRpbmdzLmhhc19zeW1ib2xfdmFyICYmIHNldHRpbmdzLmhhZF9zeW1ib2xfdmFyKSB7CiAgICAgICAgbGVnZW5kLmNhbGwocmVtb3ZlX3N5bWJvbF9sZWdlbmQpOwogICAgfQoKICAgIC8vIE1vdmUgc2l6ZSBsZWdlbmQKICAgIGlmIChzZXR0aW5ncy5oYXNfc2l6ZV92YXIgJiYgc2V0dGluZ3MuaGFkX3NpemVfdmFyICYmICFzZXR0aW5ncy5zaXplX2NoYW5nZWQpIHsKICAgICAgICBsZWdlbmQuY2FsbChtb3ZlX3NpemVfbGVnZW5kLCBjaGFydCwgMTAwMCk7CiAgICB9CiAgICAvLyBSZXBsYWNlIHNpemUgbGVnZW5kCiAgICBpZiAoc2V0dGluZ3MuaGFzX3NpemVfdmFyICYmIHNldHRpbmdzLmhhZF9zaXplX3ZhciAmJiBzZXR0aW5ncy5zaXplX2NoYW5nZWQpIHsKICAgICAgICBsZWdlbmQuY2FsbChmdW5jdGlvbiAoc2VsKSB7CiAgICAgICAgICAgIHJlbW92ZV9zaXplX2xlZ2VuZChzZWwpOwogICAgICAgICAgICBhZGRfc2l6ZV9sZWdlbmQoY2hhcnQsIDEwMDApOwogICAgICAgIH0pOwogICAgfQogICAgLy8gQWRkIHNpemUgbGVnZW5kCiAgICBpZiAoc2V0dGluZ3MuaGFzX3NpemVfdmFyICYmICFzZXR0aW5ncy5oYWRfc2l6ZV92YXIpIHsKICAgICAgICBhZGRfc2l6ZV9sZWdlbmQoY2hhcnQsIDEwMDApOwogICAgfQogICAgLy8gUmVtb3ZlIHNpemUgbGVnZW5kCiAgICBpZiAoIXNldHRpbmdzLmhhc19zaXplX3ZhciAmJiBzZXR0aW5ncy5oYWRfc2l6ZV92YXIpIHsKICAgICAgICBsZWdlbmQuY2FsbChyZW1vdmVfc2l6ZV9sZWdlbmQpOwogICAgfQoKCn0KCgovLyBNb3ZlIGxlZ2VuZHMgd2hlbiBjaGFydCBpcyByZXNpemVkCmZ1bmN0aW9uIGxlZ2VuZHNfbW92ZShjaGFydCkgewogICAgLy8gTW92ZSBsZWdlbmRzCiAgICB2YXIgc2V0dGluZ3MgPSBjaGFydC5zZXR0aW5ncygpOwogICAgaWYgKHNldHRpbmdzLmhhc19sZWdlbmQgJiYgc2V0dGluZ3MubGVnZW5kX3dpZHRoID4gMCkgewogICAgICAgIHZhciBsZWdlbmQgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5sZWdlbmQiKTsKICAgICAgICBpZiAoc2V0dGluZ3MuaGFzX2NvbG9yX3ZhcikKICAgICAgICAgICAgbW92ZV9jb2xvcl9sZWdlbmQobGVnZW5kLCBjaGFydCwgMCk7CiAgICAgICAgaWYgKHNldHRpbmdzLmhhc19zeW1ib2xfdmFyKQogICAgICAgICAgICBtb3ZlX3N5bWJvbF9sZWdlbmQobGVnZW5kLCBjaGFydCwgMCk7CiAgICAgICAgaWYgKHNldHRpbmdzLmhhc19zaXplX3ZhcikKICAgICAgICAgICAgbW92ZV9zaXplX2xlZ2VuZChsZWdlbmQsIGNoYXJ0LCAwKTsKICAgIH0KCn0KCgovLyBGb3JtYXQgbGVnZW5kIGxhYmVsCmZ1bmN0aW9uIGxlZ2VuZF9sYWJlbF9mb3JtYXR0aW5nKHNlbGVjdGlvbikgewogICAgc2VsZWN0aW9uCiAgICAgICAgLnN0eWxlKCJ0ZXh0LWFuY2hvciIsICJiZWdpbm5pbmciKQogICAgICAgIC5zdHlsZSgiZmlsbCIsICIjMDAwIikKICAgICAgICAuc3R5bGUoImZvbnQtd2VpZ2h0IiwgImJvbGQiKTsKfQoKCi8vIENyZWF0ZSBjb2xvciBsZWdlbmQKZnVuY3Rpb24gYWRkX2NvbG9yX2xlZ2VuZChjaGFydCwgZHVyYXRpb24pIHsKICAgIAogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuY29sb3JfbGFiID09PSBudWxsKSByZXR1cm47CgogICAgLy8gRGVmYXVsdCB0cmFuc2l0aW9uIGR1cmF0aW9uIHRvIDAKICAgIGR1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uICE9PSAndW5kZWZpbmVkJyA/IGR1cmF0aW9uIDogMDsKICAgIHZhciBzdmcgPSBjaGFydC5zdmcoKTsKICAgIHZhciBsZWdlbmQgPSBzdmcuc2VsZWN0KCIubGVnZW5kIik7CgogICAgdmFyIGxlZ2VuZF9jb2xvcl9zY2FsZSA9IGNoYXJ0LnNjYWxlcygpLmNvbG9yLmNvcHkoKTsKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5jb2xfY29udGludW91cykgewogICAgICAgIC8vIFNvcnQgbGVnZW5kCiAgICAgICAgaWYgKCFjaGFydC5zZXR0aW5ncygpLmNvbF9sZXZlbHMpIHsKICAgICAgICAgICAgdmFyIGNvbF9kb21haW4gPSBsZWdlbmRfY29sb3Jfc2NhbGUuZG9tYWluKCkuc29ydCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBjb2xfZG9tYWluID0gY2hhcnQuc2V0dGluZ3MoKS5jb2xfbGV2ZWxzOwogICAgICAgIH0KICAgICAgICBjb2xfZG9tYWluID0gY29sX2RvbWFpbi5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZCAhPSAiIjt9KTsKICAgICAgICBsZWdlbmRfY29sb3Jfc2NhbGUKICAgICAgICAgICAgLmRvbWFpbihjb2xfZG9tYWluKQogICAgICAgICAgICAucmFuZ2UoY29sX2RvbWFpbi5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGNoYXJ0LnNjYWxlcygpLmNvbG9yKGQpOyB9KSk7CiAgICB9CgogICAgdmFyIGNvbG9yX2xlZ2VuZCA9IGQzdjUubGVnZW5kQ29sb3IoKQogICAgICAgIC5zaGFwZVBhZGRpbmcoMykKICAgICAgICAuc2hhcGUoInJlY3QiKQogICAgICAgIC5zY2FsZShsZWdlbmRfY29sb3Jfc2NhbGUpOwoKICAgIGlmICghY2hhcnQuc2V0dGluZ3MoKS5jb2xfY29udGludW91cykgewogICAgICAgIGNvbG9yX2xlZ2VuZAogICAgICAgICAgICAub24oImNlbGxvdmVyIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgIGQgPSBjc3NfY2xlYW4oZCk7CiAgICAgICAgICAgICAgICB2YXIgbnNlbCA9ICIuY29sb3I6bm90KC5jb2xvci1jIiArIGQgKyAiKTpub3QoLnNlbGVjdGVkLWxhc3NvKTpub3QoLm5vdC1zZWxlY3RlZC1sYXNzbykiOwogICAgICAgICAgICAgICAgdmFyIHNlbCA9ICIuY29sb3ItYyIgKyBkICsgIjpub3QoLnNlbGVjdGVkLWxhc3NvKTpub3QoLm5vdC1zZWxlY3RlZC1sYXNzbykiOwogICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChuc2VsKQogICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAwLjIpOwogICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChzZWwpCiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAub24oImNlbGxvdXQiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgdmFyIHNlbCA9ICIuY29sb3I6bm90KC5zZWxlY3RlZC1sYXNzbyk6bm90KC5ub3Qtc2VsZWN0ZWQtbGFzc28pIjsKICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoc2VsKQogICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCBmdW5jdGlvbiAoZDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkMi5vcGFjaXR5X3ZhciA9PT0gdW5kZWZpbmVkID8gY2hhcnQuc2V0dGluZ3MoKS5wb2ludF9vcGFjaXR5IDogY2hhcnQuc2NhbGVzKCkub3BhY2l0eShkMi5vcGFjaXR5X3ZhcikpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgiLnBvaW50LWxhYmVsOm5vdCguc2VsZWN0ZWQtbGFzc28pOm5vdCgubm90LXNlbGVjdGVkLWxhc3NvKSIpCiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29sb3JfbGVnZW5kLmNlbGxzKDYpOwogICAgfQoKICAgIGxlZ2VuZC5hcHBlbmQoImciKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJjb2xvci1sZWdlbmQtbGFiZWwiKQogICAgICAgIC5hcHBlbmQoInRleHQiKQogICAgICAgIC50ZXh0KGNoYXJ0LnNldHRpbmdzKCkuY29sX2xhYikKICAgICAgICAuY2FsbChsZWdlbmRfbGFiZWxfZm9ybWF0dGluZyk7CgogICAgbGVnZW5kLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgImNvbG9yLWxlZ2VuZCIpCiAgICAgICAgLmNhbGwoY29sb3JfbGVnZW5kKTsKCiAgICBsZWdlbmQuY2FsbChmdW5jdGlvbiAobGVnZW5kKSB7IG1vdmVfY29sb3JfbGVnZW5kKGxlZ2VuZCwgY2hhcnQsIDApOyB9KTsKCiAgICBpZiAoZHVyYXRpb24gIT0gMCkgewogICAgICAgIGxlZ2VuZC5zZWxlY3RBbGwoIi5jb2xvci1sZWdlbmQtbGFiZWwsIC5jb2xvci1sZWdlbmQiKQogICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAwKQogICAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKQogICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgIH0KCn0KCi8vIENyZWF0ZSBzeW1ib2wgbGVnZW5kCmZ1bmN0aW9uIGFkZF9zeW1ib2xfbGVnZW5kKGNoYXJ0LCBkdXJhdGlvbikgewoKICAgIGlmIChjaGFydC5zZXR0aW5ncygpLnN5bWJvbF9sYWIgPT09IG51bGwpIHJldHVybjsKCiAgICAvLyBEZWZhdWx0IHRyYW5zaXRpb24gZHVyYXRpb24gdG8gMAogICAgZHVyYXRpb24gPSB0eXBlb2YgZHVyYXRpb24gIT09ICd1bmRlZmluZWQnID8gZHVyYXRpb24gOiAwOwogICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZygpOwogICAgdmFyIGxlZ2VuZCA9IHN2Zy5zZWxlY3QoIi5sZWdlbmQiKTsKCiAgICAvLyBTb3J0IGxlZ2VuZAogICAgdmFyIGxlZ2VuZF9zeW1ib2xfc2NhbGUgPSBjaGFydC5zY2FsZXMoKS5zeW1ib2wuY29weSgpOwogICAgaWYgKCFjaGFydC5zZXR0aW5ncygpLnN5bWJvbF9sZXZlbHMpIHsKICAgICAgICB2YXIgc3ltYm9sX2RvbWFpbiA9IGxlZ2VuZF9zeW1ib2xfc2NhbGUuZG9tYWluKCkuc29ydCgpOwogICAgfSBlbHNlIHsKICAgICAgICB2YXIgc3ltYm9sX2RvbWFpbiA9IGNoYXJ0LnNldHRpbmdzKCkuc3ltYm9sX2xldmVsczsKICAgIH0KICAgIHN5bWJvbF9kb21haW4gPSBzeW1ib2xfZG9tYWluLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkICE9ICIiO30pOwogICAgbGVnZW5kX3N5bWJvbF9zY2FsZQogICAgICAgIC5kb21haW4oc3ltYm9sX2RvbWFpbikKICAgICAgICAucmFuZ2Uoc3ltYm9sX2RvbWFpbi5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQzdjUuc3ltYm9sKCkudHlwZShjaGFydC5zY2FsZXMoKS5zeW1ib2woZCkpKCk7IH0pKTsKCiAgICB2YXIgc3ltYm9sX2xlZ2VuZCA9IGQzdjUubGVnZW5kU3ltYm9sKCkKICAgICAgICAuc2hhcGVQYWRkaW5nKDUpCiAgICAgICAgLnNjYWxlKGxlZ2VuZF9zeW1ib2xfc2NhbGUpCiAgICAgICAgLm9uKCJjZWxsb3ZlciIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIGQgPSBjc3NfY2xlYW4oZCk7CiAgICAgICAgICAgIHZhciBuc2VsID0gIi5zeW1ib2w6bm90KC5zeW1ib2wtYyIgKyBkICsgIik6bm90KC5zZWxlY3RlZC1sYXNzbyk6bm90KC5ub3Qtc2VsZWN0ZWQtbGFzc28pIjsKICAgICAgICAgICAgdmFyIHNlbCA9ICIuc3ltYm9sLWMiICsgZCArICI6bm90KC5zZWxlY3RlZC1sYXNzbyk6bm90KC5ub3Qtc2VsZWN0ZWQtbGFzc28pIjsKICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChuc2VsKQogICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgMC4yKTsKICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChzZWwpCiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgICAgICB9KQogICAgICAgIC5vbigiY2VsbG91dCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHZhciBzZWwgPSAiLnN5bWJvbDpub3QoLnNlbGVjdGVkLWxhc3NvKTpub3QoLm5vdC1zZWxlY3RlZC1sYXNzbykiOwogICAgICAgICAgICBzdmcuc2VsZWN0QWxsKHNlbCkKICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uIChkMikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAoZDIub3BhY2l0eV92YXIgPT09IHVuZGVmaW5lZCA/IGNoYXJ0LnNldHRpbmdzKCkucG9pbnRfb3BhY2l0eSA6IGNoYXJ0LnNjYWxlcygpLm9wYWNpdHkoZDIub3BhY2l0eV92YXIpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCIucG9pbnQtbGFiZWw6bm90KC5zZWxlY3RlZC1sYXNzbyk6bm90KC5ub3Qtc2VsZWN0ZWQtbGFzc28pIikKICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgICAgIH0pOwoKICAgIGxlZ2VuZC5hcHBlbmQoImciKQogICAgICAgIC5hcHBlbmQoInRleHQiKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJzeW1ib2wtbGVnZW5kLWxhYmVsIikKICAgICAgICAudGV4dChjaGFydC5zZXR0aW5ncygpLnN5bWJvbF9sYWIpCiAgICAgICAgLmNhbGwobGVnZW5kX2xhYmVsX2Zvcm1hdHRpbmcpOwoKICAgIGxlZ2VuZC5hcHBlbmQoImciKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJzeW1ib2wtbGVnZW5kIikKICAgICAgICAuY2FsbChzeW1ib2xfbGVnZW5kKTsKCiAgICBsZWdlbmQuY2FsbChtb3ZlX3N5bWJvbF9sZWdlbmQsIGNoYXJ0LCAwKTsKCiAgICBpZiAoZHVyYXRpb24gIT0gMCkgewogICAgICAgIGxlZ2VuZC5zZWxlY3RBbGwoIi5zeW1ib2wtbGVnZW5kLWxhYmVsLCAuc3ltYm9sLWxlZ2VuZCIpCiAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDApCiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pCiAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgfQoKfQoKCi8vIENyZWF0ZSBzaXplIGxlZ2VuZApmdW5jdGlvbiBhZGRfc2l6ZV9sZWdlbmQoY2hhcnQsIGR1cmF0aW9uKSB7CgogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkuc2l6ZV9sYWIgPT09IG51bGwpIHJldHVybjsKCiAgICAvLyBEZWZhdWx0IHRyYW5zaXRpb24gZHVyYXRpb24gdG8gMAogICAgZHVyYXRpb24gPSB0eXBlb2YgZHVyYXRpb24gIT09ICd1bmRlZmluZWQnID8gZHVyYXRpb24gOiAwOwoKICAgIHZhciBsZWdlbmQgPSBjaGFydC5zdmcoKS5zZWxlY3QoIi5sZWdlbmQiKTsKICAgIHZhciBsZWdlbmRfc2l6ZV9zY2FsZSA9IGNoYXJ0LnNjYWxlcygpLnNpemUuY29weSgpOwogICAgLy8gRklYTUUgOiBmaW5kIGV4YWN0IGZvcm11bGEKICAgIGxlZ2VuZF9zaXplX3NjYWxlLnJhbmdlKGNoYXJ0LnNjYWxlcygpLnNpemUucmFuZ2UoKS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIE1hdGguc3FydChkKSAvIDEuODsgfSkpOwoKICAgIHZhciBzaXplX2xlZ2VuZCA9IGQzdjUubGVnZW5kU2l6ZSgpCiAgICAgICAgLnNoYXBlUGFkZGluZygzKQogICAgICAgIC5zaGFwZSgnY2lyY2xlJykKICAgICAgICAuc2NhbGUobGVnZW5kX3NpemVfc2NhbGUpOwoKICAgIGxlZ2VuZC5hcHBlbmQoImciKQogICAgICAgIC5hcHBlbmQoInRleHQiKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJzaXplLWxlZ2VuZC1sYWJlbCIpCiAgICAgICAgLnRleHQoY2hhcnQuc2V0dGluZ3MoKS5zaXplX2xhYikKICAgICAgICAuY2FsbChsZWdlbmRfbGFiZWxfZm9ybWF0dGluZyk7CgogICAgbGVnZW5kLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgInNpemUtbGVnZW5kIikKICAgICAgICAuY2FsbChzaXplX2xlZ2VuZCk7CgogICAgbGVnZW5kLmNhbGwobW92ZV9zaXplX2xlZ2VuZCwgY2hhcnQsIDApOwoKICAgIGlmIChkdXJhdGlvbiAhPSAwKSB7CiAgICAgICAgbGVnZW5kLnNlbGVjdEFsbCgiLnNpemUtbGVnZW5kLWxhYmVsLCAuc2l6ZS1sZWdlbmQiKQogICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAwKQogICAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKQogICAgICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgIH0KCgp9CgoKLy8gTW92ZSBjb2xvciBsZWdlbmQgb24gcmVzaXplCmZ1bmN0aW9uIG1vdmVfY29sb3JfbGVnZW5kKGxlZ2VuZCwgY2hhcnQsIGR1cmF0aW9uKSB7CiAgICB2YXIgZGltcyA9IGNoYXJ0LmRpbXMoKTsKICAgIGxlZ2VuZC5zZWxlY3QoIi5jb2xvci1sZWdlbmQtbGFiZWwiKQogICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIGRpbXMubGVnZW5kX3ggKyAiLCIgKyBkaW1zLm1hcmdpbnMubGVnZW5kX3RvcCArICIpIik7CiAgICBsZWdlbmQuc2VsZWN0KCIuY29sb3ItbGVnZW5kIikKICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBkaW1zLmxlZ2VuZF94ICsgIiwiICsgKGRpbXMubWFyZ2lucy5sZWdlbmRfdG9wICsgMTIpICsgIikiKTsKfQoKLy8gTW92ZSBzeW1ib2wgbGVnZW5kIG9uIHJlc2l6ZQpmdW5jdGlvbiBtb3ZlX3N5bWJvbF9sZWdlbmQobGVnZW5kLCBjaGFydCwgZHVyYXRpb24pIHsKICAgIHZhciBkaW1zID0gY2hhcnQuZGltcygpOwogICAgbGVnZW5kLnNlbGVjdCgiLnN5bWJvbC1sZWdlbmQtbGFiZWwiKQogICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIGRpbXMubGVnZW5kX3ggKyAiLCIgKyBkaW1zLm1hcmdpbnMuc3ltYm9sX2xlZ2VuZF90b3AgKyAiKSIpOwogICAgbGVnZW5kLnNlbGVjdCgiLnN5bWJvbC1sZWdlbmQiKQogICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIChkaW1zLmxlZ2VuZF94ICsgOCkgKyAiLCIgKyAoZGltcy5tYXJnaW5zLnN5bWJvbF9sZWdlbmRfdG9wICsgMTYpICsgIikiKTsKfQoKLy8gTW92ZSBzaXplIGxlZ2VuZCBvbiByZXNpemUKZnVuY3Rpb24gbW92ZV9zaXplX2xlZ2VuZChsZWdlbmQsIGNoYXJ0LCBkdXJhdGlvbikgewogICAgdmFyIGRpbXMgPSBjaGFydC5kaW1zKCk7CiAgICBsZWdlbmQuc2VsZWN0KCIuc2l6ZS1sZWdlbmQtbGFiZWwiKQogICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIGRpbXMubGVnZW5kX3ggKyAiLCIgKyBkaW1zLm1hcmdpbnMuc2l6ZV9sZWdlbmRfdG9wICsgIikiKTsKICAgIGxlZ2VuZC5zZWxlY3QoIi5zaXplLWxlZ2VuZCIpCiAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbikKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgKGRpbXMubGVnZW5kX3ggKyA4KSArICIsIiArIChkaW1zLm1hcmdpbnMuc2l6ZV9sZWdlbmRfdG9wICsgMTQpICsgIikiKTsKfQoKCi8vIFJlbW92ZSBjb2xvciBsZWdlbmQKZnVuY3Rpb24gcmVtb3ZlX2NvbG9yX2xlZ2VuZChsZWdlbmQpIHsKICAgIGxlZ2VuZC5zZWxlY3RBbGwoIi5jb2xvci1sZWdlbmQtbGFiZWwsIC5jb2xvci1sZWdlbmQiKQogICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIikKICAgICAgICAucmVtb3ZlKCk7Cn0KCi8vIFJlbW92ZSBzeW1ib2wgbGVnZW5kCmZ1bmN0aW9uIHJlbW92ZV9zeW1ib2xfbGVnZW5kKGxlZ2VuZCkgewogICAgbGVnZW5kLnNlbGVjdEFsbCgiLnN5bWJvbC1sZWdlbmQtbGFiZWwsIC5zeW1ib2wtbGVnZW5kIikKICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMCIpCiAgICAgICAgLnJlbW92ZSgpOwp9CgovLyBSZW1vdmUgc2l6ZSBsZWdlbmQKZnVuY3Rpb24gcmVtb3ZlX3NpemVfbGVnZW5kKGxlZ2VuZCkgewogICAgbGVnZW5kLnNlbGVjdEFsbCgiLnNpemUtbGVnZW5kLWxhYmVsLCAuc2l6ZS1sZWdlbmQiKQogICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIikKICAgICAgICAucmVtb3ZlKCk7Cn0K"></script>
<script src="data:application/x-javascript;base64,Ly8gTGFzc28gZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hpbGUgbGFzc29pbmcKdmFyIGxhc3NvX3N0YXJ0ID0gZnVuY3Rpb24obGFzc28pIHsKCiAgICBsYXNzby5pdGVtcygpCiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCl7CgkgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2RvdCcpKSB7CiAgICAgICAgICAgICAgICBkLnNjYXR0ZXJEM19sYXNzb19kb3Rfc3Ryb2tlID0gZC5zY2F0dGVyRDNfbGFzc29fZG90X3N0cm9rZSA/IGQuc2NhdHRlckQzX2xhc3NvX2RvdF9zdHJva2UgOiBkM3Y1LnNlbGVjdCh0aGlzKS5zdHlsZSgic3Ryb2tlIik7CiAgICAgICAgICAgICAgICBkLnNjYXR0ZXJEM19sYXNzb19kb3RfZmlsbCA9IGQuc2NhdHRlckQzX2xhc3NvX2RvdF9maWxsID8gZC5zY2F0dGVyRDNfbGFzc29fZG90X2ZpbGwgOiBkM3Y1LnNlbGVjdCh0aGlzKS5zdHlsZSgiZmlsbCIpOwogICAgICAgICAgICAgICAgZC5zY2F0dGVyRDNfbGFzc29fZG90X29wYWNpdHkgPSBkLnNjYXR0ZXJEM19sYXNzb19kb3Rfb3BhY2l0eSA/IGQuc2NhdHRlckQzX2xhc3NvX2RvdF9vcGFjaXR5IDogZDN2NS5zZWxlY3QodGhpcykuc3R5bGUoIm9wYWNpdHkiKTsKCSAgICB9CgkgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2Fycm93JykpIHsKICAgICAgICAgICAgICAgIGQuc2NhdHRlckQzX2xhc3NvX2Fycm93X3N0cm9rZSA9IGQuc2NhdHRlckQzX2xhc3NvX2Fycm93X3N0cm9rZSA/IGQuc2NhdHRlckQzX2xhc3NvX2Fycm93X3N0cm9rZSA6IGQzdjUuc2VsZWN0KHRoaXMpLnN0eWxlKCJzdHJva2UiKTsKICAgICAgICAgICAgICAgIGQuc2NhdHRlckQzX2xhc3NvX2Fycm93X2ZpbGwgPSBkLnNjYXR0ZXJEM19sYXNzb19hcnJvd19maWxsID8gZC5zY2F0dGVyRDNfbGFzc29fYXJyb3dfZmlsbCA6IGQzdjUuc2VsZWN0KHRoaXMpLnN0eWxlKCJmaWxsIik7CiAgICAgICAgICAgICAgICBkLnNjYXR0ZXJEM19sYXNzb19hcnJvd19vcGFjaXR5ID0gZC5zY2F0dGVyRDNfbGFzc29fYXJyb3dfb3BhY2l0eSA/IGQuc2NhdHRlckQzX2xhc3NvX2Fycm93X29wYWNpdHkgOiBkM3Y1LnNlbGVjdCh0aGlzKS5zdHlsZSgib3BhY2l0eSIpOwoJICAgIH0KCSAgICBpZiAoZDN2NS5zZWxlY3QodGhpcykuY2xhc3NlZCgncG9pbnQtbGFiZWwnKSkgewogICAgICAgICAgICAgICAgZC5zY2F0dGVyRDNfbGFzc29fdGV4dF9zdHJva2UgPSBkLnNjYXR0ZXJEM19sYXNzb190ZXh0X3N0cm9rZSA/IGQuc2NhdHRlckQzX2xhc3NvX3RleHRfc3Ryb2tlIDogZDN2NS5zZWxlY3QodGhpcykuc3R5bGUoInN0cm9rZSIpOwogICAgICAgICAgICAgICAgZC5zY2F0dGVyRDNfbGFzc29fdGV4dF9maWxsID0gZC5zY2F0dGVyRDNfbGFzc29fdGV4dF9maWxsID8gZC5zY2F0dGVyRDNfbGFzc29fdGV4dF9maWxsIDogZDN2NS5zZWxlY3QodGhpcykuc3R5bGUoImZpbGwiKTsKICAgICAgICAgICAgICAgIGQuc2NhdHRlckQzX2xhc3NvX3RleHRfb3BhY2l0eSA9IGQuc2NhdHRlckQzX2xhc3NvX3RleHRfb3BhY2l0eSA/IGQuc2NhdHRlckQzX2xhc3NvX3RleHRfb3BhY2l0eSA6IGQzdjUuc2VsZWN0KHRoaXMpLnN0eWxlKCJvcGFjaXR5Iik7CiAgICAgICAgfQogICAgICAgIGlmIChkM3Y1LnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdwb2ludC1sYWJlbC1saW5lJykpIHsKICAgICAgICAgICAgZC5zY2F0dGVyRDNfbGFzc29fbGluZV9zdHJva2UgPSBkLnNjYXR0ZXJEM19sYXNzb19saW5lX3N0cm9rZSA/IGQuc2NhdHRlckQzX2xhc3NvX2xpbmVfc3Ryb2tlIDogZDN2NS5zZWxlY3QodGhpcykuc3R5bGUoInN0cm9rZSIpOwogICAgICAgICAgICBkLnNjYXR0ZXJEM19sYXNzb19saW5lX2ZpbGwgPSBkLnNjYXR0ZXJEM19sYXNzb19saW5lX2ZpbGwgPyBkLnNjYXR0ZXJEM19sYXNzb19saW5lX2ZpbGwgOiBkM3Y1LnNlbGVjdCh0aGlzKS5zdHlsZSgiZmlsbCIpOwogICAgICAgICAgICBkLnNjYXR0ZXJEM19sYXNzb19saW5lX29wYWNpdHkgPSBkLnNjYXR0ZXJEM19sYXNzb19saW5lX29wYWNpdHkgPyBkLnNjYXR0ZXJEM19sYXNzb19saW5lX29wYWNpdHkgOiBkM3Y1LnNlbGVjdCh0aGlzKS5zdHlsZSgib3BhY2l0eSIpOwogICAgICAgIH0KICAgICAgICB9KQoJICAgIC5zdHlsZSgiZmlsbCIsIG51bGwpIC8vIGNsZWFyIGFsbCBvZiB0aGUgZmlsbHMKICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCBudWxsKSAvLyBjbGVhciBhbGwgb2YgdGhlIG9wYWNpdGllcwogICAgICAgIC5zdHlsZSgic3Ryb2tlIiwgbnVsbCkgLy8gY2xlYXIgYWxsIG9mIHRoZSBzdHJva2VzCiAgICAgICAgLmNsYXNzZWQoIm5vdC1wb3NzaWJsZS1sYXNzbyIsIHRydWUpCiAgICAgICAgLmNsYXNzZWQoInNlbGVjdGVkLWxhc3NvIG5vdC1zZWxlY3RlZC1sYXNzbyIsIGZhbHNlKTsgLy8gc3R5bGUgYXMgbm90IHBvc3NpYmxlCgp9OwoKdmFyIGxhc3NvX2RyYXcgPSBmdW5jdGlvbihsYXNzbykgewogICAgLy8gU3R5bGUgdGhlIHBvc3NpYmxlIGRvdHMKICAgIGxhc3NvLml0ZW1zKCkKICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5wb3NzaWJsZSA9PT0gdHJ1ZTt9KQogICAgICAgIC5jbGFzc2VkKCJub3QtcG9zc2libGUtbGFzc28iLCBmYWxzZSkKICAgICAgICAuY2xhc3NlZCgicG9zc2libGUtbGFzc28iLCB0cnVlKTsKICAgIC8vIFN0eWxlIHRoZSBub3QgcG9zc2libGUgZG90CiAgICBsYXNzby5pdGVtcygpLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQucG9zc2libGUgPT09IGZhbHNlO30pCiAgICAgICAgLmNsYXNzZWQoIm5vdC1wb3NzaWJsZS1sYXNzbyIsIHRydWUpCiAgICAgICAgLmNsYXNzZWQoInBvc3NpYmxlLWxhc3NvIiwgZmFsc2UpOwp9OwoKdmFyIGxhc3NvX2VuZCA9IGZ1bmN0aW9uKGxhc3NvLCBjaGFydCkgewogICAgbGFzc29fb2ZmKGNoYXJ0KTsKICAgIHZhciBzb21lX3NlbGVjdGVkID0gZmFsc2U7CiAgICBpZihsYXNzby5pdGVtcygpLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQuc2VsZWN0ZWQgPT09IHRydWU7fSkuc2l6ZSgpICE9PSAwKXsKICAgICAgICBzb21lX3NlbGVjdGVkID0gdHJ1ZTsKICAgIH0KICAgIC8vIFJlc2V0IHRoZSBjb2xvciBvZiBhbGwgZG90cwogICAgbGFzc28uaXRlbXMoKQogICAgICAgIC5zdHlsZSgiZmlsbCIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICBpZiAoZDN2NS5zZWxlY3QodGhpcykuY2xhc3NlZCgncG9pbnQtbGFiZWwnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fdGV4dF9maWxsOyB9CiAgICAgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3BvaW50LWxhYmVsLWxpbmUnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fbGluZV9maWxsOyB9CgkgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2RvdCcpKSB7IHJldHVybiBkLnNjYXR0ZXJEM19sYXNzb19kb3RfZmlsbDsgfQoJICAgIGlmIChkM3Y1LnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdhcnJvdycpKSB7IHJldHVybiBkLnNjYXR0ZXJEM19sYXNzb19hcnJvd19maWxsOyB9CgkgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSkKICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3BvaW50LWxhYmVsJykpIHsgcmV0dXJuIGQuc2NhdHRlckQzX2xhc3NvX3RleHRfb3BhY2l0eTsgfQogICAgICAgIGlmIChkM3Y1LnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdwb2ludC1sYWJlbC1saW5lJykpIHsgcmV0dXJuIGQuc2NhdHRlckQzX2xhc3NvX2xpbmVfb3BhY2l0eTsgfQoJICAgIGlmIChkM3Y1LnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdkb3QnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fZG90X29wYWNpdHk7IH0KCSAgICBpZiAoZDN2NS5zZWxlY3QodGhpcykuY2xhc3NlZCgnYXJyb3cnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fYXJyb3dfb3BhY2l0eTsgfQoJICAgIHJldHVybiBudWxsOwogICAgICAgIH0pCiAgICAgICAgLnN0eWxlKCJzdHJva2UiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3BvaW50LWxhYmVsJykpIHsgcmV0dXJuIGQuc2NhdHRlckQzX2xhc3NvX3RleHRfc3Ryb2tlOyB9CiAgICAgICAgaWYgKGQzdjUuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3BvaW50LWxhYmVsLWxpbmUnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fbGluZV9zdHJva2U7IH0KCSAgICBpZiAoZDN2NS5zZWxlY3QodGhpcykuY2xhc3NlZCgnZG90JykpIHsgcmV0dXJuIGQuc2NhdHRlckQzX2xhc3NvX2RvdF9zdHJva2U7IH0KCSAgICBpZiAoZDN2NS5zZWxlY3QodGhpcykuY2xhc3NlZCgnYXJyb3cnKSkgeyByZXR1cm4gZC5zY2F0dGVyRDNfbGFzc29fYXJyb3dfc3Ryb2tlOyB9CgkgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSk7CiAgICBpZiAoc29tZV9zZWxlY3RlZCkgewogICAgICAgIC8vIFN0eWxlIHRoZSBzZWxlY3RlZCBkb3RzCiAgICAgICAgdmFyIHNlbCA9IGxhc3NvLml0ZW1zKCkuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5zZWxlY3RlZCA9PT0gdHJ1ZTt9KQoJICAgICAgICAuY2xhc3NlZCgibm90LXBvc3NpYmxlLWxhc3NvIHBvc3NpYmxlLWxhc3NvIiwgZmFsc2UpCgkgICAgICAgIC5jbGFzc2VkKCJzZWxlY3RlZC1sYXNzbyIsIHRydWUpCgkgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIxIik7CgogICAgICAgIC8vIFJlc2V0IHRoZSBzdHlsZSBvZiB0aGUgbm90IHNlbGVjdGVkIGRvdHMKICAgICAgICBsYXNzby5pdGVtcygpLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQuc2VsZWN0ZWQgPT09IGZhbHNlO30pCgkgICAgICAgIC5jbGFzc2VkKCJub3QtcG9zc2libGUtbGFzc28gcG9zc2libGUtbGFzc28iLCBmYWxzZSkKCSAgICAgICAgLmNsYXNzZWQoIm5vdC1zZWxlY3RlZC1sYXNzbyIsIHRydWUpCgkgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGNoYXJ0LnNldHRpbmdzKCkucG9pbnRfb3BhY2l0eSAvIDc7IH0pOwoKICAgICAgICAvLyBDYWxsIGN1c3RvbSBjYWxsYmFjayBmdW5jdGlvbgogICAgICAgIHZhciBjYWxsYmFja19zZWwgPSBjaGFydC5zdmcoKS5zZWxlY3RBbGwoIi5kb3QsIC5hcnJvdyIpLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQuc2VsZWN0ZWQgPT09IHRydWU7fSk7CiAgICAgICAgaWYgKHR5cGVvZiBjaGFydC5zZXR0aW5ncygpLmxhc3NvX2NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjaGFydC5zZXR0aW5ncygpLmxhc3NvX2NhbGxiYWNrKGNhbGxiYWNrX3NlbCk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBsYXNzby5pdGVtcygpCgkgICAgLmNsYXNzZWQoIm5vdC1wb3NzaWJsZS1sYXNzbyBwb3NzaWJsZS1sYXNzbyBub3Qtc2VsZWN0ZWQtbGFzc28gc2VsZWN0ZWQtbGFzc28iLCBmYWxzZSkKCSAgICAuc3R5bGUoIm9wYWNpdHkiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIGlmIChkM3Y1LnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdwb2ludC1sYWJlbCcpKSB7cmV0dXJuIDE7fTsKCQkgICAgcmV0dXJuIGQub3BhY2l0eV92YXIgIT09IHVuZGVmaW5lZCA/IGNoYXJ0LnNjYWxlcygpLm9wYWNpdHkoZC5vcGFjaXR5X3ZhcikgOiBjaGFydC5zZXR0aW5ncygpLnBvaW50X29wYWNpdHk7CgkgICAgfSk7CiAgICB9Cn07CgoKLy8gVG9nZ2xlIGxhc3NvIG9uIC8gem9vbSBvZmYKZnVuY3Rpb24gbGFzc29fb24oY2hhcnQpIHsKCiAgICB2YXIgcm9vdCA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLnJvb3QiKTsKICAgIHZhciBjaGFydF9ib2R5ID0gY2hhcnQuc3ZnKCkuc2VsZWN0KCIuY2hhcnQtYm9keSIpOwoKICAgIHZhciBsYXNzb19jbGFzc2VzID0gIi5kb3QsIC5hcnJvdywgLnBvaW50LWxhYmVsLCAucG9pbnQtbGFiZWwtbGluZSI7CiAgICAvLyBEaXNhYmxlIHpvb20gYmVoYXZpb3IKICAgIHJvb3Qub24oIi56b29tIiwgbnVsbCk7CiAgICAvLyBFbmFibGUgbGFzc28KICAgIHZhciBsYXNzbyA9IGQzdjUubGFzc28oKQoJICAgIC5jbG9zZVBhdGhEaXN0YW5jZSgyMDAwKSAgIC8vIG1heCBkaXN0YW5jZSBmb3IgdGhlIGxhc3NvIGxvb3AgdG8gYmUgY2xvc2VkCgkgICAgLmNsb3NlUGF0aFNlbGVjdCh0cnVlKSAgICAgLy8gY2FuIGl0ZW1zIGJlIHNlbGVjdGVkIGJ5IGNsb3NpbmcgdGhlIHBhdGg/CgkgICAgLmhvdmVyU2VsZWN0KHRydWUpICAgICAgICAgLy8gY2FuIGl0ZW1zIGJ5IHNlbGVjdGVkIGJ5IGhvdmVyaW5nIG92ZXIgdGhlbT8KICAgICAgICAuYXJlYShyb290KQogICAgICAgIC5pdGVtcyhjaGFydF9ib2R5LnNlbGVjdEFsbChsYXNzb19jbGFzc2VzKSkKICAgIAkub24oInN0YXJ0IiwgZnVuY3Rpb24oKSB7IGxhc3NvX3N0YXJ0KGxhc3NvKTsgfSkKCSAgICAub24oImRyYXciLCBmdW5jdGlvbigpIHsgbGFzc29fZHJhdyhsYXNzbyk7IH0pICAgICAKCSAgICAub24oImVuZCIsIGZ1bmN0aW9uKCkgeyBsYXNzb19lbmQobGFzc28sIGNoYXJ0KTsgfSk7IAogICAgcm9vdC5jYWxsKGxhc3NvKTsKCiAgICAvLyBDaGFuZ2UgY3Vyc29yIHN0eWxlCiAgICByb290LnN0eWxlKCJjdXJzb3IiLCAiY3Jvc3NoYWlyIik7CiAgICAvLyBDaGFuZ2UgdG9nZ2xlcnMgc3RhdGUKICAgIHZhciBtZW51X2VudHJ5ID0gZDN2NS5zZWxlY3QoIiNzY2F0dGVyRDMtbWVudS0iICsgY2hhcnQuc2V0dGluZ3MoKS5odG1sX2lkICsgIiAubGFzc28tZW50cnkiKTsKICAgIHZhciBjdXN0b21fZW50cnkgPSBkM3Y1LnNlbGVjdCgiIyIgKyBjaGFydC5zZXR0aW5ncygpLmRvbV9pZF9sYXNzb190b2dnbGUpOwogICAgaWYgKCFtZW51X2VudHJ5LmVtcHR5KCkpIHsKICAgICAgICBtZW51X2VudHJ5LmNsYXNzZWQoImFjdGl2ZSIsIHRydWUpCgkgICAgLmh0bWwoIlRvZ2dsZSBsYXNzbyBvZmYiKTsKICAgIH0KICAgIGlmICghY3VzdG9tX2VudHJ5LmVtcHR5KCkpIHsgY3VzdG9tX2VudHJ5LmNsYXNzZWQoImFjdGl2ZSIsIHRydWUpOyB9Cn0KCgovLyBUb2dnbGUgbGFzc28gb2ZmIC8gem9vbSBvbgpmdW5jdGlvbiBsYXNzb19vZmYoY2hhcnQpIHsKCiAgICB2YXIgcm9vdCA9IGNoYXJ0LnN2ZygpLnNlbGVjdCgiLnJvb3QiKTsKCiAgICAvLyBEaXNhYmxlIGxhc3NvCiAgICByb290Lm9uKCIuZHJhZ3N0YXJ0IiwgbnVsbCk7CiAgICByb290Lm9uKCIuZHJhZyIsIG51bGwpOwogICAgcm9vdC5vbigiLmRyYWdlbmQiLCBudWxsKTsKICAgIC8vIEVuYWJsZSB6b29tCiAgICByb290LmNhbGwoY2hhcnQuem9vbSgpKTsKICAgIC8vIENoYW5nZSBjdXJzb3Igc3R5bGUKICAgIHJvb3Quc3R5bGUoImN1cnNvciIsICJtb3ZlIik7CiAgICAvLyBDaGFuZ2UgdG9nZ2xlcnMgc3RhdGUKICAgIHZhciBtZW51X2VudHJ5ID0gZDN2NS5zZWxlY3QoIiNzY2F0dGVyRDMtbWVudS0iICsgY2hhcnQuc2V0dGluZ3MoKS5odG1sX2lkICsgIiAubGFzc28tZW50cnkiKTsKICAgIHZhciBjdXN0b21fZW50cnkgPSBkM3Y1LnNlbGVjdCgiIyIgKyBjaGFydC5zZXR0aW5ncygpLmRvbV9pZF9sYXNzb190b2dnbGUpOwogICAgaWYgKCFtZW51X2VudHJ5LmVtcHR5KCkpIHsKICAgICAgICBtZW51X2VudHJ5CiAgICAgICAgICAgIC5jbGFzc2VkKCJhY3RpdmUiLCBmYWxzZSkKCSAgICAgICAgLmh0bWwoIlRvZ2dsZSBsYXNzbyBvbiIpOwogICAgfQogICAgaWYgKCFjdXN0b21fZW50cnkuZW1wdHkoKSkgeyBjdXN0b21fZW50cnkuY2xhc3NlZCgiYWN0aXZlIiwgZmFsc2UpOyB9Cn0KCi8vIFRvZ2dsZSBsYXNzbyBzdGF0ZSB3aGVuIGVsZW1lbnQgY2xpY2tlZApmdW5jdGlvbiBsYXNzb190b2dnbGUoY2hhcnQpIHsKICAgIHZhciBtZW51X2VudHJ5ID0gZDN2NS5zZWxlY3QoIiNzY2F0dGVyRDMtbWVudS0iICsgY2hhcnQuc2V0dGluZ3MoKS5odG1sX2lkICsgIiAubGFzc28tZW50cnkiKTsKICAgIHZhciBjdXN0b21fZW50cnkgPSBkM3Y1LnNlbGVjdCgiIyIgKyBjaGFydC5zZXR0aW5ncygpLmRvbV9pZF9sYXNzb190b2dnbGUpOwogICAgaWYgKGNoYXJ0LnNldHRpbmdzKCkubGFzc28gJiYKICAgICAgICAoKCFtZW51X2VudHJ5LmVtcHR5KCkgJiYgbWVudV9lbnRyeS5jbGFzc2VkKCJhY3RpdmUiKSkgfHwKICAgICAgICAgKCFjdXN0b21fZW50cnkuZW1wdHkoKSAmJiBjdXN0b21fZW50cnkuY2xhc3NlZCgiYWN0aXZlIikpKSkgewogICAgICAgIGxhc3NvX29mZihjaGFydCk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBsYXNzb19vbihjaGFydCk7CiAgICB9Cn0K"></script>
<script src="data:application/x-javascript;base64,Ly8gRXhwb3J0IHRvIFNWRyBmdW5jdGlvbgpmdW5jdGlvbiBleHBvcnRfc3ZnKHNlbCwgY2hhcnQpIHsKICAgIAogICAgdmFyIHN2Z19jb250ZW50ID0gY2hhcnQuc3ZnKCkKICAgICAgICAuYXR0cigieG1sbnMiLCAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciKQogICAgICAgIC5hdHRyKCJ2ZXJzaW9uIiwgMS4xKQogICAgICAgIC5ub2RlKCkucGFyZW50Tm9kZS5pbm5lckhUTUw7CiAgICAKICAgICAgICAvLyBEaXJ0eSBkaXJ0eSBkaXJ0eS4uLgogICAgc3ZnX2NvbnRlbnQgPSBzdmdfY29udGVudC5yZXBsYWNlKC88ZyBjbGFzcz0iZ2Vhci1tZW51W1xzXFNdKj88XC9nPi8sICcnKTsKICAgIHN2Z19jb250ZW50ID0gc3ZnX2NvbnRlbnQucmVwbGFjZSgvPHVsIGNsYXNzPSJzY2F0dGVyRDMtbWVudVtcc1xTXSo/PFwvdWw+LywgJycpOwogICAgc3ZnX2NvbnRlbnQgPSBzdmdfY29udGVudC5yZXBsYWNlKC88ZyBjbGFzcz0iY2FwdGlvbi1pY29uW1xzXFNdKj88XC9nPi8sICcnKTsKICAgIHN2Z19jb250ZW50ID0gc3ZnX2NvbnRlbnQucmVwbGFjZSgvPGRpdiBjbGFzcz0ic2NhdHRlckQzLWNhcHRpb25bXHNcU10qPzxcL2Rpdj4vLCAnJyk7CiAgICAKICAgIHZhciBpbWFnZV9kYXRhID0gImRhdGE6aW1hZ2Uvb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiICsgd2luZG93LmJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN2Z19jb250ZW50KSkpOwoKICAgIGQzdjUuc2VsZWN0KHNlbCkKICAgICAgICAuYXR0cigiZG93bmxvYWQiLCBjaGFydC5zZXR0aW5ncygpLmh0bWxfaWQgKyAiLnN2ZyIpCiAgICAgICAgLmF0dHIoImhyZWYiLCBpbWFnZV9kYXRhKTsKfQoKLy8gRnVuY3Rpb24gdG8gZXhwb3J0IGN1c3RvbSBsYWJlbHMgcG9zaXRpb24gdG8gQ1NWIGZpbGUKZnVuY3Rpb24gZXhwb3J0X2xhYmVsc19wb3NpdGlvbihzZWwsIGNoYXJ0KSB7CgogICAgdmFyIHNjYWxlcyA9IGNoYXJ0LnNjYWxlcygpOwogICAgdmFyIHNldHRpbmdzID0gY2hhcnQuc2V0dGluZ3MoKTsKCiAgICB2YXIgbGluZXNfZGF0YSA9IFsibGFiLGxhYl94LGxhYl95Il07CiAgICAKICAgIGNoYXJ0LmRhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uKGQsIGluZGV4KXsKICAgICAgICB2YXIgbGFieCA9IGQueDsKICAgICAgICBpZiAoZC5sYWJfZHggIT09IHVuZGVmaW5lZCkgewoJICAgIGxhYnggPSBkLnggKyBzY2FsZXMueC5pbnZlcnQoZC5sYWJfZHgpIC0gc2NhbGVzLnguZG9tYWluKClbMF07CiAgICAgICAgfQogICAgICAgIHZhciBzaXplID0gKGQuc2l6ZV92YXIgPT09IHVuZGVmaW5lZCkgPyBzZXR0aW5ncy5wb2ludF9zaXplIDogc2NhbGVzLnNpemUoZC5zaXplX3Zhcik7CiAgICAgICAgdmFyIG9mZnNldF95ID0gKC1NYXRoLnNxcnQoc2l6ZSkgLyAyKSAtIDY7CiAgICAgICAgaWYgKGQubGFiX2R5ICE9PSB1bmRlZmluZWQpIHsKCSAgICBvZmZzZXRfeSA9IGQubGFiX2R5OwogICAgICAgIH0KICAgICAgICB2YXIgbGFieSA9IGQueSArIHNjYWxlcy55LmludmVydChvZmZzZXRfeSkgLSBzY2FsZXMueS5kb21haW4oKVsxXTsKICAgICAgICB2YXIgdGhpc19saW5lID0gZC5sYWIgKyAiLCIgKyBsYWJ4ICsgIiwiICsgbGFieTsKICAgICAgICBsaW5lc19kYXRhLnB1c2godGhpc19saW5lKTsKICAgIH0pOwoKICAgIHZhciBjc3ZfY29udGVudCA9ICJkYXRhOnRleHQvY3N2O2Jhc2U2NCwiICsgYnRvYShsaW5lc19kYXRhLmpvaW4oIlxuIikpOwogICAgCiAgICBkM3Y1LnNlbGVjdChzZWwpCiAgICAgICAgLmF0dHIoImRvd25sb2FkIiwgc2V0dGluZ3MuaHRtbF9pZCArICJfbGFiZWxzLmNzdiIpCiAgICAgICAgLmF0dHIoImhyZWYiLCBlbmNvZGVVUkkoY3N2X2NvbnRlbnQpKTsKfQo="></script>
<script src="data:application/x-javascript;base64,ZnVuY3Rpb24gc2NhdHRlckQzKCkgewoKCXZhciB3aWR0aCA9IDYwMCwgLy8gZGVmYXVsdCB3aWR0aAoJCWhlaWdodCA9IDYwMCwgLy8gZGVmYXVsdCBoZWlnaHQKCQlkaW1zID0ge30sCgkJc2V0dGluZ3MgPSB7fSwKCQlzY2FsZXMgPSB7fSwKCQlkYXRhID0gW10sCgkJc3ZnLAoJCXpvb20sIGRyYWcsCgkJZHJhZ2dpbmcgPSBmYWxzZTsKCgoJZnVuY3Rpb24gY2hhcnQoc2VsZWN0aW9uKSB7CgoJCXNlbGVjdGlvbi5lYWNoKGZ1bmN0aW9uICgpIHsKCgkJCWRpbXMgPSBzZXR1cF9kaW1zKGNoYXJ0KTsKCQkJc2NhbGVzID0gc2V0dXBfc2NhbGVzKGNoYXJ0KTsKCgkJCS8vIFJvb3QgY2hhcnQgZWxlbWVudCBhbmQgYXhlcwoJCQl2YXIgcm9vdCA9IHN2Zy5hcHBlbmQoImciKQoJCQkJLmF0dHIoImNsYXNzIiwgInJvb3QiKQoJCQkJLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIGRpbXMubWFyZ2lucy5sZWZ0ICsgIiwiICsgZGltcy5tYXJnaW5zLnRvcCArICIpIik7CgoJCQlyb290LmFwcGVuZCgicmVjdCIpCgkJCQkuYXR0cigiY2xhc3MiLCAidmlld3BvcnQiKQoJCQkJLnN0eWxlKCJmaWxsIiwgIiNGRkYiKQoJCQkJLmF0dHIoIndpZHRoIiwgZGltcy53aWR0aCkKCQkJCS5hdHRyKCJoZWlnaHQiLCBkaW1zLmhlaWdodCk7CgoJCQlyb290LmNhbGwoYWRkX2F4ZXMsIGNoYXJ0KTsKCgkJCS8vIGNoYXJ0IGJvZHkKCQkJdmFyIGNoYXJ0X2JvZHkgPSByb290LmFwcGVuZCgic3ZnIikKCQkJCS5hdHRyKCJjbGFzcyIsICJjaGFydC1ib2R5IikKCQkJCS5hdHRyKCJ3aWR0aCIsIGRpbXMud2lkdGgpCgkJCQkuYXR0cigiaGVpZ2h0IiwgZGltcy5oZWlnaHQpOwoKCQkJLy8gQ3JlYXRlIGVsZW1lbnRzCgkJCWxpbmVzX2NyZWF0ZShjaGFydCk7CgkJCXVuaXRfY2lyY2xlX2NyZWF0ZShjaGFydCk7CgkJCWRvdHNfY3JlYXRlKGNoYXJ0KTsKCQkJYXJyb3dzX2NyZWF0ZShjaGFydCk7CgkJCWVsbGlwc2VzX2NyZWF0ZShjaGFydCk7CgkJCWxhYmVsc19jcmVhdGUoY2hhcnQpOwoKCQkJLy8gTGVnZW5kcwoJCQlsZWdlbmRzX2NyZWF0ZShjaGFydCk7CgoJCQkvLyBNZW51IGFuZCBjYXB0aW9uCgkJCWlmIChzZXR0aW5ncy5tZW51KSBtZW51X2NyZWF0ZShjaGFydCk7CgkJCWlmIChzZXR0aW5ncy5jYXB0aW9uKSBjYXB0aW9uX2NyZWF0ZShjaGFydCk7CgoJCQkvLyBab29tIGluaXQKCQkJem9vbSA9IHpvb21fYmVoYXZpb3IoY2hhcnQpOwoJCQlyb290LmNhbGwoem9vbSk7CgkJCWlmIChzZXR0aW5ncy5kaXNhYmxlX3doZWVsKSB7CgkJCQlyb290Lm9uKCJ3aGVlbC56b29tIiwgbnVsbCkKCQkJfQoJCQkvLyBab29tIG9uCgkJCXpvb21fb24oY2hhcnQsIDApOwoKCQl9KTsKCX0KCgoJLy8gVXBkYXRlIGNoYXJ0IHNldHRpbmdzIHdpdGggdHJhbnNpdGlvbnMKCWZ1bmN0aW9uIHVwZGF0ZV9zZXR0aW5ncyhvbGRfc2V0dGluZ3MpIHsKCgkJLy8gQ2hhbmdlIGluIGxhYmVscyBzaXplCgkJaWYgKG9sZF9zZXR0aW5ncy5sYWJlbHNfc2l6ZSAhPSBzZXR0aW5ncy5sYWJlbHNfc2l6ZSkgewoJCQlzdmcuc2VsZWN0QWxsKCIucG9pbnQtbGFiZWwiKQoJCQkJLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKQoJCQkJLnN0eWxlKCJmb250LXNpemUiLCBzZXR0aW5ncy5sYWJlbHNfc2l6ZSArICJweCIpOwoJCX0KCQkvLyBDaGFuZ2UgaW4gcG9pbnQgc2l6ZSBvciBvcGFjaXR5CgkJaWYgKG9sZF9zZXR0aW5ncy5wb2ludF9zaXplICE9IHNldHRpbmdzLnBvaW50X3NpemUgfHwKCQkJb2xkX3NldHRpbmdzLnBvaW50X29wYWNpdHkgIT0gc2V0dGluZ3MucG9pbnRfb3BhY2l0eSkgewoJCQlzdmcuc2VsZWN0QWxsKCIuZG90IikKCQkJCS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkKCQkJCS5jYWxsKGRvdF9mb3JtYXR0aW5nLCBjaGFydCk7CgkJfQoJCS8vIExhYmVscwoJCWlmICghb2xkX3NldHRpbmdzLmhhc19sYWJlbHMgJiYgc2V0dGluZ3MuaGFzX2xhYmVscykgewoJCQlsYWJlbHNfY3JlYXRlKGNoYXJ0KTsKCQl9CgkJLy8gTm8gbW9yZSBsYWJlbHMKCQlpZiAob2xkX3NldHRpbmdzLmhhc19sYWJlbHMgJiYgIXNldHRpbmdzLmhhc19sYWJlbHMpIHsKCQkJc3ZnLnNlbGVjdEFsbCgiLnBvaW50LWxhYmVsIikucmVtb3ZlKCk7CgkJCXN2Zy5zZWxlY3RBbGwoIi5wb2ludC1sYWJlbC1saW5lIikucmVtb3ZlKCk7CQkKCQl9CgkJLy8gVW5pdCBjaXJjbGUKCQlpZiAoIW9sZF9zZXR0aW5ncy51bml0X2NpcmNsZSAmJiBzZXR0aW5ncy51bml0X2NpcmNsZSkgewoJCQl1bml0X2NpcmNsZV9jcmVhdGUoY2hhcnQpOwoJCX0KCQkvLyBObyBtb3JlIHVuaXQgY2lyY2xlCgkJaWYgKG9sZF9zZXR0aW5ncy51bml0X2NpcmNsZSAmJiAhc2V0dGluZ3MudW5pdF9jaXJjbGUpIHsKCQkJdmFyIGNpcmNsZSA9IHN2Zy5zZWxlY3QoIi51bml0LWNpcmNsZSIpOwoJCQljaXJjbGUudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApCgkJCQkuc3R5bGUoIm9wYWNpdHkiLCAiMCIpLnJlbW92ZSgpOwoJCX0KCgkJLy8gWm9vbSBvbgoJCWlmICghc2V0dGluZ3MuZGF0YV9jaGFuZ2VkKSB6b29tX29uKGNoYXJ0LCAxMDAwKTsKCQlpZiAoc2V0dGluZ3Muem9vbV9vbiA9PT0gbnVsbCAmJiBvbGRfc2V0dGluZ3Muem9vbV9vbiAhPT0gbnVsbCkgeyAKCQkJcmVzZXRfem9vbShjaGFydCk7IAoJCX0gCgl9OyAKIAogCgkvLyBVcGRhdGUgZGF0YSB3aXRoIHRyYW5zaXRpb25zIAoJZnVuY3Rpb24gdXBkYXRlX2RhdGEoKSB7IAogCgkJZGltcyA9IHNldHVwX2RpbXMoY2hhcnQpOyAKCQlkaW1zID0gc2V0dXBfbGVnZW5kX2RpbXMoY2hhcnQpOwoJCXNjYWxlcyA9IHNldHVwX3NjYWxlcyhjaGFydCk7CgoJCWlmIChzZXR0aW5ncy5oYXNfbGVnZW5kX2NoYW5nZWQpIHsKCQkJcmVzaXplX2NoYXJ0KCk7CgkJfSBlbHNlIHsKCQkJdXBkYXRlX3pvb20oY2hhcnQpOwoJCX0KCgkJbGFzc29fb2ZmKGNoYXJ0KTsKCQkKCQkvLyBDaGFuZ2UgYXhlcyBsYWJlbHMKCQlzdmcuc2VsZWN0KCIueC1heGlzLWxhYmVsIikudGV4dChzZXR0aW5ncy54bGFiKTsKCQlzdmcuc2VsZWN0KCIueS1heGlzLWxhYmVsIikudGV4dChzZXR0aW5ncy55bGFiKTsKCQkKCQlsaW5lc191cGRhdGUoY2hhcnQpOwoJCXVuaXRfY2lyY2xlX3VwZGF0ZShjaGFydCk7CgkJZG90c191cGRhdGUoY2hhcnQpOwoJCWFycm93c191cGRhdGUoY2hhcnQpOwoJCWVsbGlwc2VzX3VwZGF0ZShjaGFydCk7CgkJbGFiZWxzX3VwZGF0ZShjaGFydCk7CgkJbGVnZW5kc191cGRhdGUoY2hhcnQpOwoJCQoJfTsKCgoJLy8gUmVzaXplIGNoYXJ0IG9uIHdpbmRvdyByZXNpemUKCWZ1bmN0aW9uIHJlc2l6ZV9jaGFydCgpIHsKCgkJLy8gcmVjb21wdXRlIGRpbXMKCQlkaW1zID0gc2V0dXBfZGltcyhjaGFydCk7CgkJZGltcyA9IHNldHVwX2xlZ2VuZF9kaW1zKGNoYXJ0KTsKCQkvLyByZWNvbXB1dGUgeCBhbmQgeSBzY2FsZXMKCQlzY2FsZXMueC5yYW5nZShbMCwgZGltcy53aWR0aF0pOwoJCXNjYWxlcy54X29yaWcucmFuZ2UoWzAsIGRpbXMud2lkdGhdKTsKCQlzY2FsZXMueS5yYW5nZShbZGltcy5oZWlnaHQsIDBdKTsKCQlzY2FsZXMueV9vcmlnLnJhbmdlKFtkaW1zLmhlaWdodCwgMF0pOwoJCXNjYWxlcy54QXhpcyA9IGQzdjUuYXhpc0JvdHRvbShzY2FsZXMueCkudGlja1NpemUoLWRpbXMuaGVpZ2h0KTsKCQlzY2FsZXMueUF4aXMgPSBkM3Y1LmF4aXNMZWZ0KHNjYWxlcy55KS50aWNrU2l6ZSgtZGltcy53aWR0aCk7CgoJCXN2Zy5zZWxlY3QoIi5yb290IikKCQkJLmF0dHIoIndpZHRoIiwgZGltcy53aWR0aCkKCQkJLmF0dHIoImhlaWdodCIsIGRpbXMuaGVpZ2h0KTsKCQlzdmcuc2VsZWN0KCIudmlld3BvcnQiKQoJCQkuYXR0cigid2lkdGgiLCBkaW1zLndpZHRoKQoJCQkuYXR0cigiaGVpZ2h0IiwgZGltcy5oZWlnaHQpOwoJCXN2Zy5zZWxlY3QoIi5jaGFydC1ib2R5IikKCQkJLmF0dHIoIndpZHRoIiwgZGltcy53aWR0aCkKCQkJLmF0dHIoImhlaWdodCIsIGRpbXMuaGVpZ2h0KTsKCQlzdmcuc2VsZWN0KCIueC5heGlzIikKCQkJLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgZGltcy5oZWlnaHQgKyAiKSIpOwoJCXN2Zy5zZWxlY3QoIi54LWF4aXMtbGFiZWwiKQoJCQkuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgKGRpbXMud2lkdGggLSA1KSArICIsIiArIChkaW1zLmhlaWdodCAtIDYpICsgIikiKTsKCgkJc3ZnLnNlbGVjdCgiLnguYXhpcyIpLmNhbGwoc2NhbGVzLnhBeGlzKTsKCQlzdmcuc2VsZWN0KCIueS5heGlzIikuY2FsbChzY2FsZXMueUF4aXMpOwoKCQl2YXIgcm9vdCA9IHN2Zy5zZWxlY3QoIi5yb290Iik7CgkJem9vbSA9IHpvb21fYmVoYXZpb3IoY2hhcnQpOwoJCXJvb3QuY2FsbCh6b29tLnRyYW5zZm9ybSwKCQkJZDN2NS56b29tVHJhbnNmb3JtKHN2Zy5zZWxlY3QoIi5yb290Iikubm9kZSgpKSk7CgoJCWxlZ2VuZHNfbW92ZShjaGFydCk7CgkJbWVudV9tb3ZlKGNoYXJ0KTsKCQljYXB0aW9uX21vdmUoY2hhcnQpOwoKCX07CgoKCS8vIEFkZCBjb250cm9scyBoYW5kbGVycyBmb3Igc2hpbnkKCWNoYXJ0LmFkZF9jb250cm9sc19oYW5kbGVycyA9IGZ1bmN0aW9uICgpIHsKCQkvLyBab29tIHJlc2V0CgkJZDN2NS5zZWxlY3QoIiMiICsgc2V0dGluZ3MuZG9tX2lkX3Jlc2V0X3pvb20pCgkJCS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsgcmVzZXRfem9vbShjaGFydCkgfSk7CgoJCS8vIFNWRyBleHBvcnQKCQlkM3Y1LnNlbGVjdCgiIyIgKyBzZXR0aW5ncy5kb21faWRfc3ZnX2V4cG9ydCkKCQkJLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgZXhwb3J0X3N2Zyh0aGlzLCBjaGFydCk7IH0pOwoKCQkvLyBMYXNzbyB0b2dnbGUKCQlkM3Y1LnNlbGVjdCgiIyIgKyBzZXR0aW5ncy5kb21faWRfbGFzc29fdG9nZ2xlKQoJCQkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7IGxhc3NvX3RvZ2dsZShjaGFydCk7IH0pOwoJfTsKCgljaGFydC5hZGRfZ2xvYmFsX2xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHsKCQkvLyBUb29nbGUgem9vbSBhbmQgbGFzc28gYmVoYXZpb3JzIHdoZW4gc2hpZnQgaXMgcHJlc3NlZAoJCXZhciBwYXJlbnQgPSBkM3Y1LnNlbGVjdCgiI3NjYXR0ZXJEMy1zdmctIiArIHNldHRpbmdzLmh0bWxfaWQpLm5vZGUoKS5wYXJlbnROb2RlOwoJCWQzdjUuc2VsZWN0KHBhcmVudCkKCQkJLmF0dHIoInRhYmluZGV4IiwgMCkKCQkJLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKCkgewoJCQkJdmFyIGtleSA9IGQzdjUuZXZlbnQua2V5ICE9PSB1bmRlZmluZWQgPyBkM3Y1LmV2ZW50LmtleSA6IGQzdjUuZXZlbnQua2V5SWRlbnRpZmllcjsKCQkJCWlmIChrZXkgPT0gIlNoaWZ0IikgewoJCQkJCWlmIChzZXR0aW5ncy5sYXNzbykgewoJCQkJCQlsYXNzb19vbihjaGFydCk7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCQkub24oImtleXVwIiwgZnVuY3Rpb24gKCkgewoJCQkJdmFyIGtleSA9IGQzdjUuZXZlbnQua2V5ICE9PSB1bmRlZmluZWQgPyBkM3Y1LmV2ZW50LmtleSA6IGQzdjUuZXZlbnQua2V5SWRlbnRpZmllcjsKCQkJCWlmIChrZXkgPT0gIlNoaWZ0IikgewoJCQkJCWlmIChzZXR0aW5ncy5sYXNzbykgewoJCQkJCQlsYXNzb19vZmYoY2hhcnQpOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgoJfTsKCgkvLyByZXNpemUKCWNoYXJ0LnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKCQlyZXNpemVfY2hhcnQoKTsKCX07CgoJLy8gc2V0dGluZ3MgZ2V0dGVyL3NldHRlcgoJY2hhcnQuZGF0YSA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVkcmF3KSB7CgkJaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZGF0YTsKCQlkYXRhID0gdmFsdWU7CgkJaWYgKCFyZWRyYXcpIHVwZGF0ZV9kYXRhKCk7CgkJcmV0dXJuIGNoYXJ0OwoJfTsKCgkvLyBzZXR0aW5ncyBnZXR0ZXIvc2V0dGVyCgljaGFydC5zZXR0aW5ncyA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVkcmF3KSB7CgkJaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gc2V0dGluZ3M7CgkJaWYgKE9iamVjdC5rZXlzKHNldHRpbmdzKS5sZW5ndGggPT09IDAgfHwgcmVkcmF3KSB7CgkJCXNldHRpbmdzID0gdmFsdWU7CgkJfSBlbHNlIHsKCQkJdmFyIG9sZF9zZXR0aW5ncyA9IHNldHRpbmdzOwoJCQlzZXR0aW5ncyA9IHZhbHVlOwoJCQl1cGRhdGVfc2V0dGluZ3Mob2xkX3NldHRpbmdzKTsKCQl9CgkJcmV0dXJuIGNoYXJ0OwoJfTsKCgljaGFydC5zdmcgPSBmdW5jdGlvbiAodmFsdWUpIHsKCQlpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBzdmc7CgkJc3ZnID0gdmFsdWU7CgkJcmV0dXJuIGNoYXJ0OwoJfTsKCgkvLyB3aWR0aCBnZXR0ZXIvc2V0dGVyCgljaGFydC53aWR0aCA9IGZ1bmN0aW9uICh2YWx1ZSkgewoJCWlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHdpZHRoOwoJCXdpZHRoID0gdmFsdWU7CgkJcmV0dXJuIGNoYXJ0OwoJfTsKCgkvLyBoZWlnaHQgZ2V0dGVyL3NldHRlcgoJY2hhcnQuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CgkJaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaGVpZ2h0OwoJCWhlaWdodCA9IHZhbHVlOwoJCXJldHVybiBjaGFydDsKCX07CgoJLy8gZGltcyBnZXR0ZXIvc2V0dGVyCgljaGFydC5kaW1zID0gZnVuY3Rpb24odmFsdWUpIHsKCQlpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBkaW1zOwoJCWRpbXMgPSB2YWx1ZTsKCQlyZXR1cm4gZGltczsKCX0KCgkvLyBzY2FsZXMgZ2V0dGVyL3NldHRlcgoJY2hhcnQuc2NhbGVzID0gZnVuY3Rpb24odmFsdWUpIHsKCQlpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBzY2FsZXM7CgkJc2NhbGVzID0gdmFsdWU7CgkJcmV0dXJuIHNjYWxlczsKCX0KCgkvLyB6b29tIGdldHRlcgoJY2hhcnQuem9vbSA9IGZ1bmN0aW9uKCkgewoJCXJldHVybiB6b29tOwoJfQoKCglyZXR1cm4gY2hhcnQ7Cn0KCgoKSFRNTFdpZGdldHMud2lkZ2V0KHsKCgluYW1lOiAnc2NhdHRlckQzJywKCgl0eXBlOiAnb3V0cHV0JywKCglmYWN0b3J5OiBmdW5jdGlvbiAoZWwsIHdpZHRoLCBoZWlnaHQpIHsKCgkJaWYgKHdpZHRoIDwgMCkgd2lkdGggPSAwOwoJCWlmIChoZWlnaHQgPCAwKSBoZWlnaHQgPSAwOwoJCS8vIENyZWF0ZSByb290IHN2ZyBlbGVtZW50CgkJdmFyIHN2ZyA9IGQzdjUuc2VsZWN0KGVsKS5hcHBlbmQoInN2ZyIpOwoJCXN2ZwoJCQkuYXR0cigid2lkdGgiLCB3aWR0aCkKCQkJLmF0dHIoImhlaWdodCIsIGhlaWdodCkKCQkJLmF0dHIoImNsYXNzIiwgInNjYXR0ZXJEMyIpCgkJCS5hcHBlbmQoInN0eWxlIikKCQkJLnRleHQoIi5zY2F0dGVyRDMge2ZvbnQ6IDExcHggT3BlbiBTYW5zLCBEcm9pZCBTYW5zLCBIZWx2ZXRpY2EsIFZlcmRhbmEsIHNhbnMtc2VyaWY7fSIgKwoJCQkJIi5zY2F0dGVyRDMgLmF4aXMgbGluZSwgLmF4aXMgcGF0aCB7IHN0cm9rZTogIzAwMDsgZmlsbDogbm9uZTsgc2hhcGUtcmVuZGVyaW5nOiBDcmlzcEVkZ2VzO30gIiArCgkJCQkiLnNjYXR0ZXJEMyAuYXhpcyAudGljayBsaW5lIHsgc3Ryb2tlOiAjZGRkO30gIiArCgkJCQkiLnNjYXR0ZXJEMyAuYXhpcyB0ZXh0IHsgZmlsbDogIzAwMDsgfSIpOwoKCQkvLyBDcmVhdGUgdG9vbHRpcCBjb250ZW50IGRpdgoJCXZhciB0b29sdGlwID0gZDN2NS5zZWxlY3QoIi5zY2F0dGVyRDMtdG9vbHRpcCIpOwoJCWlmICh0b29sdGlwLmVtcHR5KCkpIHsKCQkJdG9vbHRpcCA9IGQzdjUuc2VsZWN0KCJib2R5IikKCQkJCS5hcHBlbmQoImRpdiIpCgkJCQkuc3R5bGUoInZpc2liaWxpdHkiLCAiaGlkZGVuIikKCQkJCS5hdHRyKCJjbGFzcyIsICJzY2F0dGVyRDMtdG9vbHRpcCIpOwoJCX0KCgkJLy8gQ3JlYXRlIHRpdGxlIGFuZCBzdWJ0aXRsZSBkaXYKCQl2YXIgY2FwdGlvbiA9IGQzdjUuc2VsZWN0KGVsKS5zZWxlY3QoIi5zY2F0dGVyRDMtY2FwdGlvbiIpOwoJCWlmIChjYXB0aW9uLmVtcHR5KCkpIHsKCQkJY2FwdGlvbiA9IGQzdjUuc2VsZWN0KGVsKS5hcHBlbmQoImRpdiIpCgkJCQkuYXR0cigiY2xhc3MiLCAic2NhdHRlckQzLWNhcHRpb24iKTsKCQl9CgoJCS8vIENyZWF0ZSBtZW51IGRpdgoJCXZhciBtZW51ID0gZDN2NS5zZWxlY3QoZWwpLnNlbGVjdCgiLnNjYXR0ZXJEMy1tZW51Iik7CgkJaWYgKG1lbnUuZW1wdHkoKSkgewoJCQltZW51ID0gZDN2NS5zZWxlY3QoZWwpLmFwcGVuZCgidWwiKQoJCQkJLmF0dHIoImNsYXNzIiwgInNjYXR0ZXJEMy1tZW51Iik7CgkJfQoKCQkvLyBDcmVhdGUgc2NhdHRlckQzIGluc3RhbmNlCgkJdmFyIHNjYXR0ZXIgPSBzY2F0dGVyRDMoKS53aWR0aCh3aWR0aCkuaGVpZ2h0KGhlaWdodCkuc3ZnKHN2Zyk7CgoJCXJldHVybiAoewoJCQlyZXNpemU6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CgoJCQkJaWYgKHdpZHRoIDwgMCkgd2lkdGggPSAwOwoJCQkJaWYgKGhlaWdodCA8IDApIGhlaWdodCA9IDA7CgkJCQkvLyByZXNpemUgcm9vdCBzdmcgZWxlbWVudAoJCQkJdmFyIHN2ZyA9IGQzdjUuc2VsZWN0KGVsKS5zZWxlY3QoInN2ZyIpOwoJCQkJc3ZnCgkJCQkJLmF0dHIoIndpZHRoIiwgd2lkdGgpCgkJCQkJLmF0dHIoImhlaWdodCIsIGhlaWdodCk7CgkJCQkvLyByZXNpemUgY2hhcnQKCQkJCXNjYXR0ZXIud2lkdGgod2lkdGgpLmhlaWdodChoZWlnaHQpLnN2ZyhzdmcpLnJlc2l6ZSgpOwoJCQl9LAoKCQkJcmVuZGVyVmFsdWU6IGZ1bmN0aW9uIChvYmopIHsKCQkJCS8vIENoZWNrIGlmIHVwZGF0ZSBvciByZWRyYXcKCQkJCXZhciBmaXJzdF9kcmF3ID0gKE9iamVjdC5rZXlzKHNjYXR0ZXIuc2V0dGluZ3MoKSkubGVuZ3RoID09PSAwKTsKCQkJCXZhciByZWRyYXcgPSBmaXJzdF9kcmF3IHx8ICFvYmouc2V0dGluZ3MudHJhbnNpdGlvbnM7CgkJCQl2YXIgc3ZnID0gZDN2NS5zZWxlY3QoZWwpLnNlbGVjdCgic3ZnIikuYXR0cigiaWQiLCAic2NhdHRlckQzLXN2Zy0iICsgb2JqLnNldHRpbmdzLmh0bWxfaWQpOwoJCQkJc2NhdHRlciA9IHNjYXR0ZXIuc3ZnKHN2Zyk7CgoJCQkJLy8gY29udmVydCBkYXRhIHRvIGQzIGZvcm1hdAoJCQkJdmFyIGRhdGEgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKG9iai5kYXRhKTsKCQkJCWlmIChvYmouc2V0dGluZ3MubGFiZWxzX3Bvc2l0aW9ucykgewoJCQkJCWlmIChvYmouc2V0dGluZ3MubGFiZWxzX3Bvc2l0aW9ucyAhPSAiYXV0byIpIHsKCQkJCQkJb2JqLnNldHRpbmdzLmxhYmVsc19wb3NpdGlvbnMgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKG9iai5zZXR0aW5ncy5sYWJlbHNfcG9zaXRpb25zKTsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gSWYgbm8gdHJhbnNpdGlvbnMsIHJlbW92ZSBjaGFydCBhbmQgcmVkcmF3IGl0CgkJCQlpZiAoIW9iai5zZXR0aW5ncy50cmFuc2l0aW9ucykgewoJCQkJCXN2Zy5zZWxlY3RBbGwoIio6bm90KHN0eWxlKSIpLnJlbW92ZSgpOwoJCQkJCW1lbnUuc2VsZWN0QWxsKCJsaSIpLnJlbW92ZSgpOwoJCQkJCWNhcHRpb24uc2VsZWN0QWxsKCIqIikucmVtb3ZlKCk7CgkJCQl9CgoJCQkJLy8gQ29tcGxldGUgZHJhdwoJCQkJaWYgKHJlZHJhdykgewoJCQkJCXNjYXR0ZXIgPSBzY2F0dGVyLmRhdGEoZGF0YSwgcmVkcmF3KTsKCQkJCQlvYmouc2V0dGluZ3MucmVkcmF3ID0gdHJ1ZTsKCQkJCQlzY2F0dGVyID0gc2NhdHRlci5zZXR0aW5ncyhvYmouc2V0dGluZ3MsIHJlZHJhdyk7CgkJCQkJLy8gYWRkIGNvbnRyb2xzIGhhbmRsZXJzIGFuZCBnbG9iYWwgbGlzdGVuZXJzIGZvciBzaGlueSBhcHBzCgkJCQkJc2NhdHRlci5hZGRfY29udHJvbHNfaGFuZGxlcnMoKTsKCQkJCQlzY2F0dGVyLmFkZF9nbG9iYWxfbGlzdGVuZXJzKCk7CgkJCQkJLy8gZHJhdyBjaGFydAoJCQkJCWQzdjUuc2VsZWN0KGVsKQoJCQkJCQkuY2FsbChzY2F0dGVyKTsKCQkJCX0KCQkJCS8vIFVwZGF0ZSBvbmx5CgkJCQllbHNlIHsKCQkJCQkvLyBBcnJheSBlcXVhbGl0eSB0ZXN0CgkJCQkJZnVuY3Rpb24gYXJyYXlfZXF1YWwoYTEsIGEyKSB7CgkJCQkJCXJldHVybiBhMS5sZW5ndGggPT0gYTIubGVuZ3RoICYmIGExLmV2ZXJ5KGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiB2ID09PSBhMltpXTsgfSk7CgkJCQkJfQoJCQkJCWZ1bmN0aW9uIG9iamVjdF9lcXVhbChvMSwgbzIpIHsKCQkJCQkJdmFyIGtleXNfZXF1YWwgPSBhcnJheV9lcXVhbChkM3Y1LmtleXMobzEpLCBkM3Y1LmtleXMobzIpKTsKCQkJCQkJdmFyIHZhbHVlc19lcXVhbCA9IGFycmF5X2VxdWFsKGQzdjUudmFsdWVzKG8xKSwgZDN2NS52YWx1ZXMobzIpKTsKCQkJCQkJcmV0dXJuIGtleXNfZXF1YWwgJiYgdmFsdWVzX2VxdWFsOwoJCQkJCX0KCgkJCQkJLy8gQ2hlY2sgd2hhdCBkaWQgY2hhbmdlCgkJCQkJb2JqLnNldHRpbmdzLmhhc19sZWdlbmRfY2hhbmdlZCA9IHNjYXR0ZXIuc2V0dGluZ3MoKS5oYXNfbGVnZW5kICE9IG9iai5zZXR0aW5ncy5oYXNfbGVnZW5kOwoJCQkJCW9iai5zZXR0aW5ncy5oYXNfbGFiZWxzX2NoYW5nZWQgPSBzY2F0dGVyLnNldHRpbmdzKCkuaGFzX2xhYmVscyAhPSBvYmouc2V0dGluZ3MuaGFzX2xhYmVsczsKCQkJCQlvYmouc2V0dGluZ3Muc2l6ZV9yYW5nZV9jaGFuZ2VkID0gIWFycmF5X2VxdWFsKHNjYXR0ZXIuc2V0dGluZ3MoKS5zaXplX3JhbmdlLCBvYmouc2V0dGluZ3Muc2l6ZV9yYW5nZSk7CgkJCQkJb2JqLnNldHRpbmdzLmVsbGlwc2VzX2NoYW5nZWQgPSBzY2F0dGVyLnNldHRpbmdzKCkuZWxsaXBzZXMgIT0gb2JqLnNldHRpbmdzLmVsbGlwc2VzOwoJCQkJCQoJCQkJCWlmIChBcnJheS5pc0FycmF5KHNjYXR0ZXIuc2V0dGluZ3MoKS5jb2xvcnMpICYmIEFycmF5LmlzQXJyYXkob2JqLnNldHRpbmdzLmNvbG9ycykpIHsKCQkJCQkJb2JqLnNldHRpbmdzLmNvbG9yc19jaGFuZ2VkID0gIWFycmF5X2VxdWFsKHNjYXR0ZXIuc2V0dGluZ3MoKS5jb2xvcnMsIG9iai5zZXR0aW5ncy5jb2xvcnMpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCW9iai5zZXR0aW5ncy5jb2xvcnNfY2hhbmdlZCA9IHNjYXR0ZXIuc2V0dGluZ3MoKS5jb2xvcnMgIT0gb2JqLnNldHRpbmdzLmNvbG9yczsKCQkJCQl9CgkJCQkJaWYgKHR5cGVvZihzY2F0dGVyLnNldHRpbmdzKCkuc2l6ZXMpID09PSAib2JqZWN0IiAmJiB0eXBlb2Yob2JqLnNldHRpbmdzLnNpemVzKSA9PT0gIm9iamVjdCIpIHsKCQkJCQkJb2JqLnNldHRpbmdzLnNpemVzX2NoYW5nZWQgPSAhb2JqZWN0X2VxdWFsKHNjYXR0ZXIuc2V0dGluZ3MoKS5zaXplcywgb2JqLnNldHRpbmdzLnNpemVzKTsKCQkJCQl9IGVsc2UgewoJCQkJCQlvYmouc2V0dGluZ3Muc2l6ZXNfY2hhbmdlZCA9IHNjYXR0ZXIuc2V0dGluZ3MoKS5zaXplcyAhPSBvYmouc2V0dGluZ3Muc2l6ZXM7CgkJCQkJfQoJCQkJCWlmICh0eXBlb2Yoc2NhdHRlci5zZXR0aW5ncygpLm9wYWNpdGllcykgPT09ICJvYmplY3QiICYmIHR5cGVvZihvYmouc2V0dGluZ3Mub3BhY2l0aWVzKSA9PT0gIm9iamVjdCIpIHsKCQkJCQkJb2JqLnNldHRpbmdzLm9wYWNpdGllc19jaGFuZ2VkID0gIW9iamVjdF9lcXVhbChzY2F0dGVyLnNldHRpbmdzKCkub3BhY2l0aWVzLCBvYmouc2V0dGluZ3Mub3BhY2l0aWVzKTsKCQkJCQl9IGVsc2UgewoJCQkJCQlvYmouc2V0dGluZ3Mub3BhY2l0aWVzX2NoYW5nZWQgPSBzY2F0dGVyLnNldHRpbmdzKCkub3BhY2l0aWVzICE9IG9iai5zZXR0aW5ncy5vcGFjaXRpZXM7CgkJCQkJfQoJCQkJCQoJCQkJCW9iai5zZXR0aW5ncy54X2xvZ19jaGFuZ2VkID0gc2NhdHRlci5zZXR0aW5ncygpLnhfbG9nICE9IG9iai5zZXR0aW5ncy54X2xvZzsKCQkJCQlvYmouc2V0dGluZ3MueV9sb2dfY2hhbmdlZCA9IHNjYXR0ZXIuc2V0dGluZ3MoKS55X2xvZyAhPSBvYmouc2V0dGluZ3MueV9sb2c7CgkJCQkJb2JqLnNldHRpbmdzLnhsaW1fY2hhbmdlZCA9IHNjYXR0ZXIuc2V0dGluZ3MoKS54bGltICE9IG9iai5zZXR0aW5ncy54bGltOwoJCQkJCW9iai5zZXR0aW5ncy55bGltX2NoYW5nZWQgPSBzY2F0dGVyLnNldHRpbmdzKCkueWxpbSAhPSBvYmouc2V0dGluZ3MueWxpbTsKCQkJCQlvYmouc2V0dGluZ3Muc3ltYm9sX2xhYl9jaGFuZ2VkID0gc2NhdHRlci5zZXR0aW5ncygpLnN5bWJvbF9sYWIgIT0gb2JqLnNldHRpbmdzLnN5bWJvbF9sYWI7CgoJCQkJCW9iai5zZXR0aW5ncy5oYWRfY29sb3JfdmFyID0gc2NhdHRlci5zZXR0aW5ncygpLmhhc19jb2xvcl92YXI7CgkJCQkJb2JqLnNldHRpbmdzLmhhZF9zeW1ib2xfdmFyID0gc2NhdHRlci5zZXR0aW5ncygpLmhhc19zeW1ib2xfdmFyOwoJCQkJCW9iai5zZXR0aW5ncy5oYWRfc2l6ZV92YXIgPSBzY2F0dGVyLnNldHRpbmdzKCkuaGFzX3NpemVfdmFyOwoKCQkJCQlmdW5jdGlvbiBjaGFuZ2VkKHZhcm5hbWUpIHsKCQkJCQkJcmV0dXJuIG9iai5zZXR0aW5ncy5oYXNoZXNbdmFybmFtZV0gIT0gc2NhdHRlci5zZXR0aW5ncygpLmhhc2hlc1t2YXJuYW1lXTsKCQkJCQl9OwoJCQkJCW9iai5zZXR0aW5ncy54X2NoYW5nZWQgPSBjaGFuZ2VkKCJ4Iik7CgkJCQkJb2JqLnNldHRpbmdzLnlfY2hhbmdlZCA9IGNoYW5nZWQoInkiKTsKCQkJCQlvYmouc2V0dGluZ3MubGFiX2NoYW5nZWQgPSBjaGFuZ2VkKCJsYWIiKTsKCQkJCQlvYmouc2V0dGluZ3MuY29sX2NoYW5nZWQgPSBjaGFuZ2VkKCJjb2xfdmFyIikgfHwKCQkJCQkJb2JqLnNldHRpbmdzLmNvbG9yc19jaGFuZ2VkOwoJCQkJCW9iai5zZXR0aW5ncy5zaXplX2NoYW5nZWQgPSBjaGFuZ2VkKCJzaXplX3ZhciIpIHx8CgkJCQkJCW9iai5zZXR0aW5ncy5zaXplX3JhbmdlX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnNpemVzX2NoYW5nZWQ7CgkJCQkJb2JqLnNldHRpbmdzLnN5bWJvbF9jaGFuZ2VkID0gY2hhbmdlZCgic3ltYm9sX3ZhciIpOwoJCQkJCW9iai5zZXR0aW5ncy5sZWdlbmRfY2hhbmdlZCA9IG9iai5zZXR0aW5ncy5jb2xfY2hhbmdlZCB8fAoJCQkJCQlvYmouc2V0dGluZ3Muc3ltYm9sX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnNpemVfY2hhbmdlZDsKCgkJCQkJb2JqLnNldHRpbmdzLmxhYmVsc19wb3NpdGlvbnNfY2hhbmdlZCA9IGNoYW5nZWQoImxhYmVsc19wb3NpdGlvbnMiKTsKCgkJCQkJb2JqLnNldHRpbmdzLmRhdGFfY2hhbmdlZCA9IG9iai5zZXR0aW5ncy54X2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnlfY2hhbmdlZCB8fAoJCQkJCQlvYmouc2V0dGluZ3MubGFiX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLmxlZ2VuZF9jaGFuZ2VkIHx8CgkJCQkJCW9iai5zZXR0aW5ncy5oYXNfbGFiZWxzX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLmxhYmVsc19wb3NpdGlvbnNfY2hhbmdlZCB8fAoJCQkJCQljaGFuZ2VkKCJlbGxpcHNlc19kYXRhIikgfHwKCQkJCQkJb2JqLnNldHRpbmdzLmVsbGlwc2VzX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnhfbG9nX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnlfbG9nX2NoYW5nZWQgfHwKCQkJCQkJb2JqLnNldHRpbmdzLnhsaW1fY2hhbmdlZCB8fAoJCQkJCQlvYmouc2V0dGluZ3MueWxpbV9jaGFuZ2VkIHx8CgkJCQkJCWNoYW5nZWQoIm9wYWNpdHlfdmFyIikgfHwKCQkJCQkJb2JqLnNldHRpbmdzLm9wYWNpdGllc19jaGFuZ2VkIHx8CgkJCQkJCWNoYW5nZWQoImxpbmVzIik7CgoJCQkJCS8vIFVwZGF0ZSBzZXR0aW5ncwoJCQkJCXNjYXR0ZXIgPSBzY2F0dGVyLnNldHRpbmdzKG9iai5zZXR0aW5ncywgcmVkcmF3KTsKCQkJCQkvLyBVcGRhdGUgZGF0YSBvbmx5IGlmIG5lZWRlZAoJCQkJCWlmIChvYmouc2V0dGluZ3MuZGF0YV9jaGFuZ2VkKSBzY2F0dGVyID0gc2NhdHRlci5kYXRhKGRhdGEsIHJlZHJhdyk7CgkJCQl9CgoJCQkJaWYgKHR5cGVvZihvYmouc2V0dGluZ3MuaW5pdF9jYWxsYmFjaykgPT09ICJmdW5jdGlvbiIpIHsKCQkJCQlvYmouc2V0dGluZ3MuaW5pdF9jYWxsYmFjay5jYWxsKHNjYXR0ZXIpOwoJCQkJfQoKCQkJfSwKCgkJCXM6IHNjYXR0ZXIKCQl9KTsKCX0KfSk7Cg=="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">scatterD3 : a Visual Guide</h1>
<h4 class="author">Julien Barnier</h4>
<h4 class="date">2020-03-10</h4>


<div id="TOC">
<ul>
<li><a href="#basic-scatterplot">Basic scatterplot</a></li>
<li><a href="#global-points-settings">Global points settings</a></li>
<li><a href="#tooltips">Tooltips</a></li>
<li><a href="#x-and-y-axes"><code>x</code> and <code>y</code> axes</a><ul>
<li><a href="#categorical-x-and-y">Categorical <code>x</code> and <code>y</code></a></li>
<li><a href="#axes-settings">Axes settings</a></li>
</ul></li>
<li><a href="#points-labels">Points labels</a><ul>
<li><a href="#adding-labels">Adding labels</a></li>
<li><a href="#automatic-labels-position">Automatic labels position</a></li>
<li><a href="#custom-labels-positions-export">Custom labels positions export</a></li>
</ul></li>
<li><a href="#mapping-variables">Mapping variables</a><ul>
<li><a href="#color">Color</a></li>
<li><a href="#size">Size</a></li>
<li><a href="#symbol">Symbol</a></li>
<li><a href="#opacity">Opacity</a></li>
</ul></li>
<li><a href="#adding-lines">Adding lines</a></li>
<li><a href="#confidence-ellipses">Confidence ellipses</a></li>
<li><a href="#arrows-and-unit-circle">Arrows and unit circle</a></li>
<li><a href="#legends">Legends</a></li>
<li><a href="#caption">Caption</a></li>
<li><a href="#callbacks">Callbacks</a><ul>
<li><a href="#open-urls-when-clicking-points">Open URLs when clicking points</a></li>
<li><a href="#javascript-callback-on-clicking-point">JavaScript callback on clicking point</a></li>
<li><a href="#javascript-zoom-callback">JavaScript zoom callback</a></li>
<li><a href="#javascript-init-callback">JavaScript init callback</a></li>
</ul></li>
<li><a href="#utilities">Utilities</a><ul>
<li><a href="#gear-menu">Gear menu</a></li>
<li><a href="#lasso-selection-tool">Lasso selection tool</a></li>
<li><a href="#disabling-mousewheel-zoom">Disabling mousewheel zoom</a></li>
</ul></li>
<li><a href="#shiny-integration">Shiny integration</a><ul>
<li><a href="#sample-app-and-source-code">Sample app and source code</a></li>
<li><a href="#transitions">Transitions</a></li>
<li><a href="#programmatic-zooming">Programmatic zooming</a></li>
<li><a href="#additional-controls-reset-zoom-svg-export-lasso-toggle">Additional controls : Reset zoom, SVG export, lasso toggle</a></li>
</ul></li>
</ul>
</div>

<p>The <code>scatterD3</code> package provides an HTML widget based on the <code>htmlwidgets</code> package and allows to produce interactive scatterplots by using the <code>d3</code> javascript visualization library.</p>
<div id="basic-scatterplot" class="section level2">
<h2>Basic scatterplot</h2>
<p>Starting with the sample <code>mtcars</code> dataset, we can produce a basic scatterplot with the following command :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(scatterD3)
<span class="kw">scatterD3</span>(<span class="dt">x =</span> mtcars<span class="op">$</span>wt, <span class="dt">y =</span> mtcars<span class="op">$</span>mpg)</code></pre></div>
<p>You can pass data arguments as vectors, like above, or give a data frame as <code>data</code> argument and then provide variable names which will be evaluated inside this data frame :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars , <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg)</code></pre></div>
<div id="htmlwidget-e16a6fdc3f51ff15ffbe" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-e16a6fdc3f51ff15ffbe">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-TSDKWPSX","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>This will display a simple visualization with the given variables as <code>x</code> and <code>y</code> axis. There are several interactive features directly available :</p>
<ul>
<li>you can zoom in and out with the mouse wheel while the mouse cursor is on the plot</li>
<li>you can pan the plot by dragging with your mouse</li>
<li>hovering over a point displays a small tooltip window giving the <code>x</code> and <code>y</code> values</li>
</ul>
</div>
<div id="global-points-settings" class="section level2">
<h2>Global points settings</h2>
<ul>
<li><code>point_size</code> allows to change the global size of all points</li>
<li><code>point_opacity</code> allows to change the global opacity of all points</li>
<li><code>colors</code>, when given a single HTML color code, allows to change the global color of all points</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">point_size =</span> <span class="dv">200</span>, <span class="dt">point_opacity =</span> <span class="fl">0.5</span>,
          <span class="dt">colors =</span> <span class="st">&quot;#A94175&quot;</span>)</code></pre></div>
<div id="htmlwidget-739a40ee5750bfbf4377" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-739a40ee5750bfbf4377">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":200,"point_opacity":0.5,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":"#A94175","ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-BKPRVTAO","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>hover_size</code> and <code>hover_opacity</code> change size and opacity of points when hovering</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">point_size =</span> <span class="dv">100</span>, <span class="dt">point_opacity =</span> <span class="fl">0.5</span>,
          <span class="dt">hover_size =</span> <span class="dv">4</span>, <span class="dt">hover_opacity =</span> <span class="dv">1</span>)</code></pre></div>
<div id="htmlwidget-425fbf78a2cad72bf454" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-425fbf78a2cad72bf454">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":100,"point_opacity":0.5,"opacities":null,"hover_size":4,"hover_opacity":1,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XQDXCYCK","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="tooltips" class="section level2">
<h2>Tooltips</h2>
<p>If the default tooltips don’t suit your needs, you can customize them by providing a character vector to the <code>tooltip_text</code> argument. This can contain HTML tags for formatting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tooltips &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;This is an incredible &lt;strong&gt;&quot;</span>, <span class="kw">rownames</span>(mtcars),<span class="st">&quot;&lt;/strong&gt;&lt;br /&gt;with &quot;</span>, 
                  mtcars<span class="op">$</span>cyl, <span class="st">&quot;cylinders !&quot;</span>)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">tooltip_text =</span> tooltips)</code></pre></div>
<div id="htmlwidget-5582f54b0969ac1be211" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5582f54b0969ac1be211">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],"tooltip_text":["This is an incredible <strong> Mazda RX4 <\/strong><br />with  6 cylinders !","This is an incredible <strong> Mazda RX4 Wag <\/strong><br />with  6 cylinders !","This is an incredible <strong> Datsun 710 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Hornet 4 Drive <\/strong><br />with  6 cylinders !","This is an incredible <strong> Hornet Sportabout <\/strong><br />with  8 cylinders !","This is an incredible <strong> Valiant <\/strong><br />with  6 cylinders !","This is an incredible <strong> Duster 360 <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 240D <\/strong><br />with  4 cylinders !","This is an incredible <strong> Merc 230 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Merc 280 <\/strong><br />with  6 cylinders !","This is an incredible <strong> Merc 280C <\/strong><br />with  6 cylinders !","This is an incredible <strong> Merc 450SE <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 450SL <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 450SLC <\/strong><br />with  8 cylinders !","This is an incredible <strong> Cadillac Fleetwood <\/strong><br />with  8 cylinders !","This is an incredible <strong> Lincoln Continental <\/strong><br />with  8 cylinders !","This is an incredible <strong> Chrysler Imperial <\/strong><br />with  8 cylinders !","This is an incredible <strong> Fiat 128 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Honda Civic <\/strong><br />with  4 cylinders !","This is an incredible <strong> Toyota Corolla <\/strong><br />with  4 cylinders !","This is an incredible <strong> Toyota Corona <\/strong><br />with  4 cylinders !","This is an incredible <strong> Dodge Challenger <\/strong><br />with  8 cylinders !","This is an incredible <strong> AMC Javelin <\/strong><br />with  8 cylinders !","This is an incredible <strong> Camaro Z28 <\/strong><br />with  8 cylinders !","This is an incredible <strong> Pontiac Firebird <\/strong><br />with  8 cylinders !","This is an incredible <strong> Fiat X1-9 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Porsche 914-2 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Lotus Europa <\/strong><br />with  4 cylinders !","This is an incredible <strong> Ford Pantera L <\/strong><br />with  8 cylinders !","This is an incredible <strong> Ferrari Dino <\/strong><br />with  6 cylinders !","This is an incredible <strong> Maserati Bora <\/strong><br />with  8 cylinders !","This is an incredible <strong> Volvo 142E <\/strong><br />with  4 cylinders !"]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":["This is an incredible <strong> Mazda RX4 <\/strong><br />with  6 cylinders !","This is an incredible <strong> Mazda RX4 Wag <\/strong><br />with  6 cylinders !","This is an incredible <strong> Datsun 710 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Hornet 4 Drive <\/strong><br />with  6 cylinders !","This is an incredible <strong> Hornet Sportabout <\/strong><br />with  8 cylinders !","This is an incredible <strong> Valiant <\/strong><br />with  6 cylinders !","This is an incredible <strong> Duster 360 <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 240D <\/strong><br />with  4 cylinders !","This is an incredible <strong> Merc 230 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Merc 280 <\/strong><br />with  6 cylinders !","This is an incredible <strong> Merc 280C <\/strong><br />with  6 cylinders !","This is an incredible <strong> Merc 450SE <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 450SL <\/strong><br />with  8 cylinders !","This is an incredible <strong> Merc 450SLC <\/strong><br />with  8 cylinders !","This is an incredible <strong> Cadillac Fleetwood <\/strong><br />with  8 cylinders !","This is an incredible <strong> Lincoln Continental <\/strong><br />with  8 cylinders !","This is an incredible <strong> Chrysler Imperial <\/strong><br />with  8 cylinders !","This is an incredible <strong> Fiat 128 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Honda Civic <\/strong><br />with  4 cylinders !","This is an incredible <strong> Toyota Corolla <\/strong><br />with  4 cylinders !","This is an incredible <strong> Toyota Corona <\/strong><br />with  4 cylinders !","This is an incredible <strong> Dodge Challenger <\/strong><br />with  8 cylinders !","This is an incredible <strong> AMC Javelin <\/strong><br />with  8 cylinders !","This is an incredible <strong> Camaro Z28 <\/strong><br />with  8 cylinders !","This is an incredible <strong> Pontiac Firebird <\/strong><br />with  8 cylinders !","This is an incredible <strong> Fiat X1-9 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Porsche 914-2 <\/strong><br />with  4 cylinders !","This is an incredible <strong> Lotus Europa <\/strong><br />with  4 cylinders !","This is an incredible <strong> Ford Pantera L <\/strong><br />with  8 cylinders !","This is an incredible <strong> Ferrari Dino <\/strong><br />with  6 cylinders !","This is an incredible <strong> Maserati Bora <\/strong><br />with  8 cylinders !","This is an incredible <strong> Volvo 142E <\/strong><br />with  4 cylinders !"],"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":true,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XLUUVCVL","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p><code>tooltip_position</code> allows to customize the tooltip placement. It can take as value a combination of <code>&quot;top&quot;</code> or <code>&quot;bottom&quot;</code> and <code>&quot;left&quot;</code> or <code>&quot;right&quot;</code> (the default is <code>&quot;bottom right&quot;</code>) :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">tooltip_position =</span> <span class="st">&quot;top left&quot;</span>)</code></pre></div>
<div id="htmlwidget-097da3351ee67a95aecb" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-097da3351ee67a95aecb">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"left","tooltip_position_y":"top","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-JJMCRJDV","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Use <code>tooltips = FALSE</code> to disable tooltips entirely.</p>
</div>
<div id="x-and-y-axes" class="section level2">
<h2><code>x</code> and <code>y</code> axes</h2>
<div id="categorical-x-and-y" class="section level3">
<h3>Categorical <code>x</code> and <code>y</code></h3>
<p>If the <code>x</code> or <code>y</code> variable is not numeric or is a factor, then an ordinal scale is used for the corresponding axis. Note that zooming is then not possible along this axis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>cyl_fac &lt;-<span class="st"> </span><span class="kw">paste</span>(mtcars<span class="op">$</span>cyl, <span class="st">&quot;cylinders&quot;</span>)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> cyl_fac, <span class="dt">y =</span> mpg)</code></pre></div>
<div id="htmlwidget-52058356bb0e99a4cd68" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-52058356bb0e99a4cd68">{"x":{"data":{"x":["6 cylinders","6 cylinders","4 cylinders","6 cylinders","8 cylinders","6 cylinders","8 cylinders","4 cylinders","4 cylinders","6 cylinders","6 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","4 cylinders","4 cylinders","4 cylinders","4 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","4 cylinders","4 cylinders","4 cylinders","8 cylinders","6 cylinders","8 cylinders","4 cylinders"],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"cyl_fac","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-GVOLSFDW","xlim":null,"ylim":null,"x_categorical":true,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can use the <code>left_margin</code> argument when using a categorical <code>y</code> variable if the axis labels are not entirely visible :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> cyl_fac, <span class="dt">left_margin =</span> <span class="dv">80</span>)</code></pre></div>
<div id="htmlwidget-b577840fbb410d786029" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b577840fbb410d786029">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":["6 cylinders","6 cylinders","4 cylinders","6 cylinders","8 cylinders","6 cylinders","8 cylinders","4 cylinders","4 cylinders","6 cylinders","6 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","4 cylinders","4 cylinders","4 cylinders","4 cylinders","8 cylinders","8 cylinders","8 cylinders","8 cylinders","4 cylinders","4 cylinders","4 cylinders","8 cylinders","6 cylinders","8 cylinders","4 cylinders"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"cyl_fac","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":80,"html_id":"scatterD3-OZENIVXE","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":true,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="axes-settings" class="section level3">
<h3>Axes settings</h3>
<p>Use <code>fixed = TRUE</code> to force a fixed 1:1 ratio between the two axes :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">fixed =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-34acca14e0d1ff107f72" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-34acca14e0d1ff107f72">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":true,"legend_width":150,"left_margin":30,"html_id":"scatterD3-PBNYAJUM","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p><code>x_log</code> and <code>y_log</code> allow to use logarithmic scales. Note that there must not be any value inferior or equal to zero in this case :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">x_log =</span> <span class="ot">TRUE</span>, <span class="dt">y_log =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-51d777c97e97da6ec374" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-51d777c97e97da6ec374">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":true,"y_log":true,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-KUARQSRX","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[],"intercept":[],"stroke_dasharray":[]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p><code>x_lim</code> and <code>y_lim</code> manually specify the <code>x</code> or <code>y</code> axis limits :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">10</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">35</span>))</code></pre></div>
<div id="htmlwidget-5bd900e8c632a04d9d0d" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5bd900e8c632a04d9d0d">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XJXODUZA","xlim":[0,10],"ylim":[10,35],"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p><code>xlab</code> and <code>ylab</code> allow to set the axes labels :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Mpg&quot;</span>)</code></pre></div>
<div id="htmlwidget-863ba02de94cbe269a92" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-863ba02de94cbe269a92">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"Weight","ylab":"Mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-IGSANNGA","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>This also changes the default tooltips labels.</p>
<p>You can also change the font size of axes text with <code>axes_font_size</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Mpg&quot;</span>,
          <span class="dt">axes_font_size =</span> <span class="st">&quot;160%&quot;</span>)</code></pre></div>
<div id="htmlwidget-eff08c572f503caef5ba" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-eff08c572f503caef5ba">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"Weight","ylab":"Mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-NJMGSPQM","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"160%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can provide any CSS compatible value, wether a fixed size such as <code>2em</code> or a relative one like <code>95%</code>.</p>
</div>
</div>
<div id="points-labels" class="section level2">
<h2>Points labels</h2>
<div id="adding-labels" class="section level3">
<h3>Adding labels</h3>
<p>You can add text labels to the points by passing a character vector to the <code>lab</code> parameter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>names &lt;-<span class="st"> </span><span class="kw">rownames</span>(mtcars)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">lab =</span> names)</code></pre></div>
<div id="htmlwidget-8fb866e054a99c64b8ae" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fb866e054a99c64b8ae">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XPQOVPYG","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Note that text labels are fully movable : click and drag a label with your mouse to place it where you want. Custom positions are preserved while zooming/panning. A leader line between the point and its label is automaticcaly drawn when the distance between both is above a certain threshold.</p>
<p>Use <code>labels_size</code> to modify the labels size.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>names &lt;-<span class="st"> </span><span class="kw">rownames</span>(mtcars)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">lab =</span> names, <span class="dt">labels_size =</span> <span class="dv">12</span>)</code></pre></div>
<div id="htmlwidget-3ffb2f06a22c0e4cc238" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-3ffb2f06a22c0e4cc238">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":12,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-AUJEYOPG","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="automatic-labels-position" class="section level3">
<h3>Automatic labels position</h3>
<p>By using <code>labels_positions = &quot;auto&quot;</code>, labels positions can be computed to minimize overlapping.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names, 
          <span class="dt">labels_positions =</span> <span class="st">&quot;auto&quot;</span>)</code></pre></div>
<div id="htmlwidget-f89567c59933a48cc1c0" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f89567c59933a48cc1c0">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":"auto","point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-CMOMCYYV","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>The computation is made in JavaScript, and can be quite intensive. It is automatically disabled with a warning if there are more than 500 points.</p>
</div>
<div id="custom-labels-positions-export" class="section level3">
<h3>Custom labels positions export</h3>
<p>The “gear menu” allows to export the current custom labels position as a CSV file for later reuse.</p>
<p>For example, if you change the labels placement in the following plot :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>names &lt;-<span class="st"> </span><span class="kw">rownames</span>(mtcars)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names)</code></pre></div>
<div id="htmlwidget-6b0690d159f26fd7cf4e" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-6b0690d159f26fd7cf4e">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-HFZTEMBA","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can then open the menu and select <em>Export labels positions</em> to save them into a CSV file. If you want to reuse these positions, you can use the <code>labels_positions</code> argument from <code>scatterD3</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">labels &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;scatterD3_labels.csv&quot;</span>)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names, <span class="dt">labels_positions =</span> labels)</code></pre></div>
<p>You can also use this file to reuse coordinates in a plot from a different package. The following example should work with <code>ggplot2</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">labels &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;scatterD3_labels.csv&quot;</span>)
<span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>wt, <span class="dt">y=</span>mpg)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> labels,
            <span class="kw">aes</span>(<span class="dt">x =</span> lab_x,
                <span class="dt">y =</span> lab_y,
                <span class="dt">label =</span> lab))</code></pre></div>
</div>
</div>
<div id="mapping-variables" class="section level2">
<h2>Mapping variables</h2>
<p>You can map points size, color, symbol and opacity with variables values.</p>
<div id="color" class="section level3">
<h3>Color</h3>
<p>Pass a vector to <code>col_var</code> to map points color to the vector values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl)</code></pre></div>
<div id="htmlwidget-dfb0761b2fba9fcf60d1" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-dfb0761b2fba9fcf60d1">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-LGQRZSPX","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can specify custom colors by passing a vector of hexadecimal strings to the <code>colors</code> argument. If the vector is named, then the colors will be associated with their names within <code>col_var</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl,
          <span class="dt">colors =</span> <span class="kw">c</span>(<span class="st">&quot;4&quot;</span> =<span class="st"> &quot;#ECD078&quot;</span>, <span class="st">&quot;8&quot;</span> =<span class="st"> &quot;#C02942&quot;</span>, <span class="st">&quot;6&quot;</span> =<span class="st"> &quot;#53777A&quot;</span>))</code></pre></div>
<div id="htmlwidget-22a4bb9dc37884e76fda" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-22a4bb9dc37884e76fda">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":{"4":"#ECD078","8":"#C02942","6":"#53777A"},"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-POQWPPAR","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>If your original R vector is a factor, its level orders should be preserved in the legend.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>cyl_o &lt;-<span class="st"> </span><span class="kw">factor</span>(mtcars<span class="op">$</span>cyl, <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;8&quot;</span>, <span class="st">&quot;6&quot;</span>, <span class="st">&quot;4&quot;</span>))
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl_o)</code></pre></div>
<div id="htmlwidget-fd708b1a31ed77748ef3" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-fd708b1a31ed77748ef3">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl_o","col_continuous":false,"col_levels":["8","6","4"],"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-CEDYEHPQ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>If <code>col_var</code> is numeric, not a factor, and has more than 6 unique values, it is considered as continuous, and drawn accordingly using the Veridis d3 interpolator.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> disp)</code></pre></div>
<div id="htmlwidget-b833d5f4a9267ef4f79c" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b833d5f4a9267ef4f79c">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"disp","col_continuous":true,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-LRNXUOTY","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can force <code>col_var</code> to be considered as continuous with <code>col_continuous = TRUE</code>.</p>
<p>When <code>col_var</code> is considered as continuous, you can specify a custom color palette by giving the <code>colors</code> argument the name of a <a href="https://github.com/d3/d3-scale-chromatic#sequential-single-hue">d3-scale-chromatic interpolating function</a>. The default is <code>&quot;interpolateViridis&quot;</code>. For example :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> disp, <span class="dt">colors =</span> <span class="st">&quot;interpolatePuRd&quot;</span>)</code></pre></div>
<div id="htmlwidget-0ee0fa44b9cfd9536427" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-0ee0fa44b9cfd9536427">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"disp","col_continuous":true,"col_levels":null,"colors":"interpolatePuRd","ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-TVUJGUXO","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="size" class="section level3">
<h3>Size</h3>
<p>Pass a vector to <code>size_var</code> to map points size to its values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">size_var =</span> hp)</code></pre></div>
<div id="htmlwidget-8b1b3da83a33b1858b2b" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-8b1b3da83a33b1858b2b">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"size_var":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"hp","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":true,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-AEZPZTEH","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p><code>size_range</code> allows to customize the sizes range.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">size_var =</span> hp, 
          <span class="dt">size_range =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">1000</span>), <span class="dt">point_opacity =</span> <span class="fl">0.7</span>)</code></pre></div>
<div id="htmlwidget-39b5d201eae7dbb4d5e8" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-39b5d201eae7dbb4d5e8">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"size_var":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":0.7,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,1000],"size_lab":"hp","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":true,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-LITRFLLZ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>By passing a named vector to <code>sizes</code>, you can specify a custom size-value mapping.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> mpg, <span class="dt">y =</span> wt, <span class="dt">size_var =</span> cyl, 
  <span class="dt">sizes =</span> <span class="kw">c</span>(<span class="st">&quot;4&quot;</span> =<span class="st"> </span><span class="dv">10</span>, <span class="st">&quot;6&quot;</span> =<span class="st"> </span><span class="dv">100</span>, <span class="st">&quot;8&quot;</span> =<span class="st"> </span><span class="dv">1000</span>))</code></pre></div>
<div id="htmlwidget-4c435a15352e55be5683" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-4c435a15352e55be5683">{"x":{"data":{"x":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"y":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"size_var":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"mpg","ylab":"wt","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"cyl","sizes":{"4":10,"6":100,"8":1000},"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":true,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-VSBKHUVI","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="symbol" class="section level3">
<h3>Symbol</h3>
<p>Pass a vector to <code>symbol_var</code> to map points symbol to its values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl, <span class="dt">symbol_var =</span> gear)</code></pre></div>
<div id="htmlwidget-ebc326e3e73e924b696e" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-ebc326e3e73e924b696e">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"symbol_var":["4","4","4","3","3","3","3","4","4","4","4","3","3","3","3","3","3","4","4","4","3","3","3","3","3","4","5","5","5","5","5","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"gear","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":true,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-MDVVOVWD","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>If your original R vector is a factor, its level orders should be preserved in the legend.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>cyl_o &lt;-<span class="st"> </span><span class="kw">factor</span>(mtcars<span class="op">$</span>cyl, <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;8&quot;</span>, <span class="st">&quot;6&quot;</span>, <span class="st">&quot;4&quot;</span>))
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">symbol_var =</span> cyl_o)</code></pre></div>
<div id="htmlwidget-75fb2aaa7daa99383460" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-75fb2aaa7daa99383460">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"symbol_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"cyl_o","symbol_levels":["8","6","4"],"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":true,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-LDGDHSLJ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can specify custom symbol-value mapping by passing a vector of symbol names to the <code>symbols</code> argument. If the vector is named, then the symbols will be associated with their names within <code>symbol_var</code>. Available symbol names are : <code>&quot;circle&quot;</code>, <code>&quot;cross&quot;</code>, <code>&quot;diamond&quot;</code>, <code>&quot;square&quot;</code>, <code>&quot;star&quot;</code>, <code>&quot;triangle&quot;</code>, and <code>&quot;wye&quot;</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">symbol_var =</span> cyl,
          <span class="dt">symbols =</span> <span class="kw">c</span>(<span class="st">&quot;4&quot;</span> =<span class="st"> &quot;wye&quot;</span>, <span class="st">&quot;8&quot;</span> =<span class="st"> &quot;star&quot;</span>, <span class="st">&quot;6&quot;</span> =<span class="st"> &quot;triangle&quot;</span>))</code></pre></div>
<div id="htmlwidget-0cfd45b2b966a7dbc1d9" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-0cfd45b2b966a7dbc1d9">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"symbol_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"cyl","symbol_levels":null,"symbols":{"4":"wye","8":"star","6":"triangle"},"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":true,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-OVKKKZYU","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="opacity" class="section level3">
<h3>Opacity</h3>
<p>Pass a vector to <code>opacity_var</code> to map point opacity to its values. Note that for now no legend for opacity is added, though.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data=</span>mtcars, <span class="dt">x=</span>mpg, <span class="dt">y=</span>wt, <span class="dt">opacity_var =</span> drat)</code></pre></div>
<div id="htmlwidget-b7bcc0879d07600b1851" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b7bcc0879d07600b1851">{"x":{"data":{"x":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"y":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"opacity_var":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"mpg","ylab":"wt","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"drat","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":true,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-AMFSZGHB","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can specify custom opacity-value mapping by passing a named vector to <code>opacities</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> mpg, <span class="dt">y =</span> wt, <span class="dt">opacity_var =</span> cyl, 
  <span class="dt">opacities =</span> <span class="kw">c</span>(<span class="st">&quot;4&quot;</span> =<span class="st"> </span><span class="dv">1</span>, <span class="st">&quot;6&quot;</span> =<span class="st"> </span><span class="fl">0.1</span>, <span class="st">&quot;8&quot;</span> =<span class="st"> </span><span class="fl">0.5</span>))</code></pre></div>
<div id="htmlwidget-b934dc398f084b6421b2" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b934dc398f084b6421b2">{"x":{"data":{"x":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"y":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"opacity_var":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":{"4":1,"6":0.1,"8":0.5},"hover_size":1,"hover_opacity":null,"xlab":"mpg","ylab":"wt","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"cyl","opacities.1":{"4":1,"6":0.1,"8":0.5},"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":true,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-ZXAHHALY","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="adding-lines" class="section level2">
<h2>Adding lines</h2>
<p>In addition to your data points, you can add lines to your scatterplot. This is done by passing a <em>data frame</em> to the <code>lines</code> argument. This <em>data frame</em> must have at least two columns called <code>slope</code> and <code>intercept</code>, and as many rows as lines you want to draw.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">lines =</span> <span class="kw">data.frame</span>(<span class="dt">slope =</span> <span class="fl">-5.344</span>, <span class="dt">intercept =</span> <span class="fl">37.285</span>))</code></pre></div>
<div id="htmlwidget-7a63331405d764da23c1" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-7a63331405d764da23c1">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-RZUZPILE","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[-5.344],"intercept":[37.285]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can style your lines by adding <code>stroke</code>, <code>stroke_width</code> and <code>stroke_dasharray</code> columns. These columns values will be added as <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes">corresponding styles</a> to the generated SVG line. So if you want a wide dashed red horizontal line :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, 
          <span class="dt">lines =</span> <span class="kw">data.frame</span>(<span class="dt">slope =</span> <span class="dv">0</span>, 
                             <span class="dt">intercept =</span> <span class="dv">30</span>,
                             <span class="dt">stroke =</span> <span class="st">&quot;red&quot;</span>,
                             <span class="dt">stroke_width =</span> <span class="dv">5</span>,
                             <span class="dt">stroke_dasharray =</span> <span class="st">&quot;10,5&quot;</span>))</code></pre></div>
<div id="htmlwidget-992c638e157087ba77b7" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-992c638e157087ba77b7">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-BSDTUFXE","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0],"intercept":[30],"stroke":["red"],"stroke_width":[5],"stroke_dasharray":["10,5"]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>If you want to draw a vertical line, pass the <code>Inf</code> value to <code>slope</code>. The value of <code>intercept</code> is then interpreted as the intercept along the x axis.</p>
<p>By default, if no <code>lines</code> argument is provided two dashed horizontal and vertical lines are drawn through the origin, which is equivalent to :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">fixed =</span> <span class="ot">TRUE</span>, 
          <span class="dt">lines =</span> <span class="kw">data.frame</span>(<span class="dt">slope =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="ot">Inf</span>), 
                             <span class="dt">intercept =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),
                             <span class="dt">stroke =</span> <span class="st">&quot;#000&quot;</span>,
                             <span class="dt">stroke_width =</span> <span class="dv">1</span>,
                             <span class="dt">stroke_dasharray =</span> <span class="dv">5</span>))</code></pre></div>
<div id="htmlwidget-3adc3ebf1dafc445f029" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-3adc3ebf1dafc445f029">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":true,"legend_width":150,"left_margin":30,"html_id":"scatterD3-DBZMDOVQ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke":["#000","#000"],"stroke_width":[1,1],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="confidence-ellipses" class="section level2">
<h2>Confidence ellipses</h2>
<p>Use <code>ellipses = TRUE</code> to draw a confidence ellipse around the points :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">ellipses =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-c2cbda2a4b3bceaa1818" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-c2cbda2a4b3bceaa1818">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":true,"ellipses_data":[{"level":"_scatterD3_all","data":{"x":[3.8333341395519,3.53231456656708,3.22612164210966,2.91978304553407,2.61832884812689,2.3267089194754,2.04971165074579,1.79188532943259,1.55746345660377,1.35029523293025,1.17378235491726,1.03082315914181,0.923765031646227,0.854365863924196,0.823765188391072,0.832465467293108,0.880323842291264,0.966554480191187,1.08974147630253,1.24786210355484,1.43832002562012,1.65798792868354,1.90325887184984,2.17010551301313,2.45414623770287,2.75071710507239,3.05494842967862,3.36184474158245,3.66636681182705,3.96351439643794,4.24840834029092,4.51637069270423,4.76300151925947,4.98425114860308,5.176486667938,5.33655157535141,5.4618176094888,5.5502279055328,5.60033076886661,5.61130351185946,5.58296596237475,5.5157834221916,5.41085902676245,5.26991563175946,5.09526752383198,4.88978242008378,4.65683438023745,4.40024840466708,4.12423762799784,3.8333341395519],"y":[23.8854830506985,25.677344542066,27.377472253006,28.9579501335075,30.3928267804671,31.6585415590113,32.7343114674688,33.602472393684,34.2487691592501,34.6625895891444,34.8371387633486,34.769550589248,34.4609348627928,33.9163590456791,33.1447650577685,32.1588224510105,30.9747203757502,29.6119017553271,28.0927440338115,26.4421917389913,24.6873468939153,22.8570240024245,20.9812769157951,19.0909053493317,17.2169491518936,15.3901786324343,13.6405893123796,11.9969093999948,10.4861280739992,9.13305232199786,7.95989961043089,6.98593307438865,6.22714521746618,5.69599531529633,5.4012048345883,5.34761422688538,5.53610344848448,5.96357751157799,6.62301730386809,7.50359484219656,8.59085106772892,9.86693326330078,11.31088819454,12.899006161396,14.6052103107588,16.4014848176665,18.2583349043763,20.1452711437998,22.031310095053,23.8854830506985]}}],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-HXXPEFQJ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Or around the different groups of points defined by <code>col_var</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl, <span class="dt">ellipses =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-f713c87d3466959b2124" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f713c87d3466959b2124">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":true,"ellipses_data":[{"level":"6","data":{"x":[3.4651944114548,3.36006163186674,3.25094013271357,3.13962168599456,3.02793413752726,2.91771139376974,2.81076330912722,2.70884596819281,2.61363285088697,2.52668735396358,2.44943712007836,2.38315059593602,2.32891620443038,2.28762447277059,2.25995341004891,2.24635737435023,2.24705961220484,2.26204859288659,2.29107819774707,2.33367176147703,2.3891298989376,2.4565419890449,2.53480112714307,2.62262230034813,2.718563487424,2.82104933673133,2.92839703345787,3.03884393139116,3.1505764955206,3.2617600802322,3.37056905413884,3.47521677689714,3.57398493579257,3.66525176038665,3.74751865194276,3.81943479037593,3.87981931468132,3.92768071263926,3.96223310141847,3.98290913175047,3.9893693037888,3.98150754168721,3.95945293536206,3.92356762083946,3.87444083399178,3.81287923530088,3.73989366451529,3.65668254268952,3.56461219414345,3.4651944114548],"y":[21.1625922403445,21.568126747083,21.9436903773824,22.2831163868163,22.5808314096936,22.8319469735694,23.0323397678275,23.1787193483262,23.2686821664006,23.3007510350652,23.2743993843829,23.1900599077296,23.0491174569802,22.8538863032793,22.6075721367734,22.3142194292666,21.9786450241062,21.6063590437474,21.2034744136952,20.7766064884368,20.3327644275035,19.8792361052652,19.4234684442346,18.9729451368054,18.5350637632302,18.1170143235572,17.7256611780282,17.3674303344734,17.04820393344,16.7732236636075,16.5470046934043,16.3732615320671,16.2548470375015,16.1937055724347,16.1908410780325,16.246300589214,16.3591734623388,16.5276063279508,16.748833523053,17.0192225032183,17.3343334888674,17.6889923663278,18.0773756466367,18.4931060870688,18.9293574052857,19.3789663667031,19.8345504046047,20.2886288416834,20.733745722556,21.1625922403445]}},{"level":"4","data":{"x":[2.81367979633581,2.64434342824006,2.46911859278527,2.29088247692526,2.11256171275483,1.93708432229174,1.76733163943604,1.60609099854716,1.45600996649076,1.31955286966399,1.19896032982419,1.09621247314156,1.01299641658222,0.950678565494231,0.910282177269599,0.892470559486151,0.897536178415461,0.925395856734756,0.975592139296257,1.04730080452805,1.13934439812953,1.25021156683844,1.37808187480967,1.5208556951215,1.67618868559159,1.84153028281085,2.01416558232405,2.19125991728594,2.36990540361248,2.54716868735712,2.72013911030148,2.88597650288283,3.04195781969981,3.18552185184263,3.31431128187254,3.42621139090902,3.51938478225534,3.59230155140151,3.64376440701405,3.67292833042656,3.67931445082289,3.66281790828269,3.6237095755784,3.56263161045181,3.4805869114017,3.37892265011824,3.25930815096104,3.12370748069934,2.97434719858994,2.81367979633581],"y":[30.8439850306653,32.1161557862048,33.2987963235688,34.3724877178296,35.3195999859772,36.1245815707531,36.77421469679,37.2578324061185,37.5674937093219,37.6981139763625,37.6475484260668,37.4166273433725,37.0091424460735,36.4317846249179,35.694034079367,34.8080046529826,33.7882449244504,32.6514993203201,31.4164331719844,30.1033262314538,28.733739678389,27.3301620861271,25.9156401599289,24.5134003107162,23.1464672780459,21.8372860645237,20.6073533894812,19.4768647134393,18.4643826292047,17.5865320646088,16.8577273016529,16.2899352943958,15.8924791718991,15.671885152706,15.6317753845131,15.7728084686051,16.0926686456403,16.5861038203549,17.2450118008217,18.058573336218,19.0134297686247,20.0939023818201,21.2822498453668,22.5589595267671,23.9030678883488,25.2925047079747,26.7044554714796,28.1157359863622,29.5031730655852,30.8439850306653]}},{"level":"8","data":{"x":[4.77642109899303,4.55411327919363,4.32269403326232,4.08596325881934,3.84780806863629,3.6121389643518,3.38282562614282,3.16363337268301,2.9581613347143,2.76978335741954,2.60159260197793,2.45635075594393,2.336442686414,2.24383728057478,2.18005511662993,2.14614349594807,2.14265924640327,2.16965957927673,2.22670114984911,2.31284733710864,2.42668362304213,2.56634081898175,2.72952575763119,2.91355894680932,3.11541856663771,3.33179008773948,3.55912069572007,3.79367762828131,4.03160946707524,4.26900937788683,4.50197926074383,4.72669375661054,4.93946305967739,5.13679350387034,5.31544492875125,5.47248388286265,5.60533179091961,5.71180729394462,5.79016206712167,5.83910952724143,5.85784595836197,5.84606370880228,5.8039562427744,5.73221496370637,5.6320178614171,5.50501016955609,5.35327735091236,5.17931085417317,4.98596720440543,4.77642109899302],"y":[17.7200610699705,18.4264671175949,19.0782526671135,19.6647154178228,20.1762256675699,20.6043844321953,20.9421613566209,21.1840101530861,21.3259596710392,21.3656791033198,21.3025162579479,21.1375082670983,20.8733645574189,20.5144223613199,20.0665754997379,19.5371776057586,18.9349213781651,18.2696958475642,17.5524239987773,16.7948834157314,16.0095128938568,15.2092081954099,14.4071103014136,13.6163896371121,12.8500298139526,12.1206144390442,11.4401204926772,10.8197216666376,10.269604892497,9.79880307247826,9.41504675944988,9.12463722146232,8.93234297510052,8.84132148657349,8.85306732620642,8.96738762763727,9.18240525467709,9.49458962383437,9.89881467639836,10.3884430481814,10.9554350548552,11.5904807033456,12.2831525616612,13.0220769770384,13.7951208310053,14.5895907648518,15.3924416042284,16.1904905605485,16.9706336920127,17.7200610699705]}}],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-CLKLOKYY","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Ellipses are computed by the <code>ellipse.default()</code> function of the <a href="https://cran.r-project.org/package=ellipse">ellipse package</a>. The confidence level can be changed with the <code>ellipse_level</code> argument (<code>0.95</code> by default).</p>
</div>
<div id="arrows-and-unit-circle" class="section level2">
<h2>Arrows and unit circle</h2>
<p>For more specific use cases, you can represent some points as an arrow starting from the origin instead of a dot by using the <code>type_var</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.9</span>, <span class="fl">0.7</span>, <span class="fl">0.2</span>, <span class="fl">-0.4</span>, <span class="fl">-0.5</span>),
                 <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.1</span>, <span class="fl">-0.5</span>, <span class="fl">0.5</span>, <span class="fl">-0.6</span>, <span class="fl">0.7</span>),
                 <span class="dt">type_var =</span> <span class="kw">c</span>(<span class="st">&quot;point&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;arrow&quot;</span>, <span class="dv">5</span>)),
                 <span class="dt">lab =</span> LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>])
<span class="kw">scatterD3</span>(<span class="dt">data =</span> df, <span class="dt">x =</span> x, <span class="dt">y =</span> y, 
          <span class="dt">type_var =</span> type_var, <span class="dt">lab =</span> lab,
          <span class="dt">fixed =</span> <span class="ot">TRUE</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>))</code></pre></div>
<div id="htmlwidget-34e6222637be567714b6" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-34e6222637be567714b6">{"x":{"data":{"x":[1,0.9,0.7,0.2,-0.4,-0.5],"y":[1,0.1,-0.5,0.5,-0.6,0.7],"lab":["A","B","C","D","E","F"],"type_var":["point","arrow","arrow","arrow","arrow","arrow"],"key_var":[1,2,3,4,5,6]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"x","ylab":"y","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":true,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XTIUGVBE","xlim":[-1.2,1.2],"ylim":[-1.2,1.2],"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Use <code>unit_circle = TRUE</code> to add a unit circle to your plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> df, <span class="dt">x =</span> x, <span class="dt">y =</span> y, 
          <span class="dt">type_var =</span> type_var,
          <span class="dt">unit_circle =</span> <span class="ot">TRUE</span>, <span class="dt">fixed =</span> <span class="ot">TRUE</span>, 
          <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>))</code></pre></div>
<div id="htmlwidget-c4f87f243acdf8e4f74f" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-c4f87f243acdf8e4f74f">{"x":{"data":{"x":[1,0.9,0.7,0.2,-0.4,-0.5],"y":[1,0.1,-0.5,0.5,-0.6,0.7],"type_var":["point","arrow","arrow","arrow","arrow","arrow"],"key_var":[1,2,3,4,5,6]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"x","ylab":"y","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":true,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":true,"legend_width":150,"left_margin":30,"html_id":"scatterD3-UGCGXWXU","xlim":[-1.2,1.2],"ylim":[-1.2,1.2],"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="legends" class="section level2">
<h2>Legends</h2>
<p>A legend is automatically added when a color, size or symbol mapping is used. Note that when hovering over a legend item with your mouse, the corresponding points are highlighted. Also note that the mapped variables values are automatically added to the default tooltips.</p>
<p><code>legend_width</code> allows to set the legend width. Use <code>legend_width = 0</code> to disable legends entirely.</p>
<p><code>col_lab</code>, <code>symbol_lab</code> and <code>size_lab</code> allow to specify legends titles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl, <span class="dt">symbol_var =</span> gear,
          <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Mpg&quot;</span>, <span class="dt">col_lab =</span> <span class="st">&quot;Cylinders&quot;</span>, <span class="dt">symbol_lab =</span> <span class="st">&quot;Gears&quot;</span>)</code></pre></div>
<div id="htmlwidget-d62166a2512007bd068d" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-d62166a2512007bd068d">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"symbol_var":["4","4","4","3","3","3","3","4","4","4","4","3","3","3","3","3","3","4","4","4","3","3","3","3","3","4","5","5","5","5","5","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"Weight","ylab":"Mpg","has_labels":false,"col_lab":"Cylinders","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"Gears","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":true,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-WEYENYEX","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can remove a color, symbol or size legend entirely by specifying <code>NA</code> as its corresponding <code>_lab</code> value :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl, <span class="dt">col_lab =</span> <span class="ot">NA</span>)</code></pre></div>
<div id="htmlwidget-fcd509b616fe907d7cfd" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-fcd509b616fe907d7cfd">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":null,"col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-PWBGCRAH","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can also change the font size of legend text with <code>legend_font_size</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl,
          <span class="dt">legend_font_size =</span> <span class="st">&quot;16px&quot;</span>)</code></pre></div>
<div id="htmlwidget-f8541c5b3f5f771219e3" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f8541c5b3f5f771219e3">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-GNVJWWQY","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"16px","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>You can provide any CSS compatible value, wether a fixed size such as <code>2em</code> or a relative one like <code>95%</code>.</p>
<p>If the left plot margin is not big enough and your y axis labels are truncated, you can adjust it with the <code>left_margin</code> argument :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl,
          <span class="dt">left_margin =</span> <span class="dv">80</span>)</code></pre></div>
<div id="htmlwidget-b9a9092fe5cc4ae0f1fb" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b9a9092fe5cc4ae0f1fb">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":80,"html_id":"scatterD3-UXSZDZJJ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="caption" class="section level2">
<h2>Caption</h2>
<p>You can add an optional caption which will be shown when clicking on a “info sign” icon in the top right of your plot.</p>
<p>To do so, use the <code>caption</code> argument with either a single character string :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl,
          <span class="dt">caption =</span> <span class="st">&quot;Lorem ipsum dolor sit amet, &lt;strong&gt;consectetur adipiscing elit&lt;/strong&gt;. Nullam aliquam egestas pretium. Donec auctor semper vestibulum. Phasellus in tempor lacus. Maecenas vehicula, ipsum id malesuada placerat, diam lorem aliquet lectus, non lacinia quam leo quis eros.&quot;</span>)</code></pre></div>
<div id="htmlwidget-96e14780e3f387b4b45f" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-96e14780e3f387b4b45f">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-PFMKARWB","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":{"text":"Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit<\/strong>. Nullam aliquam egestas pretium. Donec auctor semper vestibulum. Phasellus in tempor lacus. Maecenas vehicula, ipsum id malesuada placerat, diam lorem aliquet lectus, non lacinia quam leo quis eros."},"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Or a list with the <code>title</code>, <code>subtitle</code> and <code>text</code> elements :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">col_var =</span> cyl,
          <span class="dt">caption =</span> <span class="kw">list</span>(<span class="dt">title =</span> <span class="st">&quot;Caption title&quot;</span>,
                         <span class="dt">subtitle =</span> <span class="st">&quot;Caption subtitle&quot;</span>,
                         <span class="dt">text =</span> <span class="st">&quot;Lorem ipsum dolor sit amet, &lt;strong&gt;consectetur adipiscing elit&lt;/strong&gt;. Nullam aliquam egestas pretium. Donec auctor semper vestibulum. Phasellus in tempor lacus. Maecenas vehicula, ipsum id malesuada placerat, diam lorem aliquet lectus, non lacinia quam leo quis eros.&quot;</span>))</code></pre></div>
<div id="htmlwidget-de4baea7c2830c712647" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-de4baea7c2830c712647">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"col_var":["6","6","4","6","8","6","8","4","4","6","6","8","8","8","8","8","8","4","4","4","4","8","8","8","8","4","4","4","8","6","8","4"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"cyl","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":true,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":true,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-HADTHUUL","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":{"title":"Caption title","subtitle":"Caption subtitle","text":"Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit<\/strong>. Nullam aliquam egestas pretium. Donec auctor semper vestibulum. Phasellus in tempor lacus. Maecenas vehicula, ipsum id malesuada placerat, diam lorem aliquet lectus, non lacinia quam leo quis eros."},"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="callbacks" class="section level2">
<h2>Callbacks</h2>
<div id="open-urls-when-clicking-points" class="section level3">
<h3>Open URLs when clicking points</h3>
<p>Use <code>url_var</code> to specify a character vectors of URLs, associated to each point, and which will be opened when the point is clicked.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>urls &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://www.duckduckgo.com/?q=&quot;</span>, <span class="kw">rownames</span>(mtcars))
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names, <span class="dt">url_var =</span> urls)</code></pre></div>
<div id="htmlwidget-f4742a3dc933580188b9" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f4742a3dc933580188b9">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"url_var":["https://www.duckduckgo.com/?q=Mazda RX4","https://www.duckduckgo.com/?q=Mazda RX4 Wag","https://www.duckduckgo.com/?q=Datsun 710","https://www.duckduckgo.com/?q=Hornet 4 Drive","https://www.duckduckgo.com/?q=Hornet Sportabout","https://www.duckduckgo.com/?q=Valiant","https://www.duckduckgo.com/?q=Duster 360","https://www.duckduckgo.com/?q=Merc 240D","https://www.duckduckgo.com/?q=Merc 230","https://www.duckduckgo.com/?q=Merc 280","https://www.duckduckgo.com/?q=Merc 280C","https://www.duckduckgo.com/?q=Merc 450SE","https://www.duckduckgo.com/?q=Merc 450SL","https://www.duckduckgo.com/?q=Merc 450SLC","https://www.duckduckgo.com/?q=Cadillac Fleetwood","https://www.duckduckgo.com/?q=Lincoln Continental","https://www.duckduckgo.com/?q=Chrysler Imperial","https://www.duckduckgo.com/?q=Fiat 128","https://www.duckduckgo.com/?q=Honda Civic","https://www.duckduckgo.com/?q=Toyota Corolla","https://www.duckduckgo.com/?q=Toyota Corona","https://www.duckduckgo.com/?q=Dodge Challenger","https://www.duckduckgo.com/?q=AMC Javelin","https://www.duckduckgo.com/?q=Camaro Z28","https://www.duckduckgo.com/?q=Pontiac Firebird","https://www.duckduckgo.com/?q=Fiat X1-9","https://www.duckduckgo.com/?q=Porsche 914-2","https://www.duckduckgo.com/?q=Lotus Europa","https://www.duckduckgo.com/?q=Ford Pantera L","https://www.duckduckgo.com/?q=Ferrari Dino","https://www.duckduckgo.com/?q=Maserati Bora","https://www.duckduckgo.com/?q=Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":true,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-OHCDMRGH","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="javascript-callback-on-clicking-point" class="section level3">
<h3>JavaScript callback on clicking point</h3>
<p>The <code>click_callback</code> argument is a character string defining a JavaScript function to be called when a dot is clicked. It must accept two arguments : <code>html_id</code> (the unique <code>id</code> of the current scatterplot), and <code>i</code> (the index of the clicked point).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg,
   <span class="dt">click_callback =</span> <span class="st">&quot;function(id, index) {</span>
<span class="st">   alert('scatterplot ID: ' + id + ' - Point index: ' + index) </span>
<span class="st">   }&quot;</span>)</code></pre></div>
<div id="htmlwidget-a85074f268eb892f9905" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-a85074f268eb892f9905">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":"function(id, index) {\n   alert('scatterplot ID: ' + id + ' - Point index: ' + index) \n   }","init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-UUKJTYBI","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":["settings.click_callback"],"jsHooks":[]}</script>
<p>One usage can be to pass the index of the clicked point back to Shiny when <code>scatterD3</code> is run inside a Shiny app. The following implementation can do it by using <code>Shiny.onInputChange()</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg,
  <span class="dt">click_callback =</span> <span class="st">&quot;function(id, index) {</span>
<span class="st">  if(id &amp;&amp; typeof(Shiny) != 'undefined') {</span>
<span class="st">      Shiny.onInputChange('selected_point', index);</span>
<span class="st">  }</span>
<span class="st">}&quot;</span>)</code></pre></div>
<p>You could then add something like this in your Shiny app <code>ui</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">textOutput</span>(<span class="st">&quot;click_selected&quot;</span>)</code></pre></div>
<p>And this in <code>server</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">output<span class="op">$</span>click_selected &lt;-<span class="st"> </span><span class="kw">renderText</span>(<span class="kw">paste0</span>(<span class="st">&quot;Clicked point : &quot;</span>, input<span class="op">$</span>selected_point))</code></pre></div>
<p>Thanks to <a href="https://github.com/detule">detule</a> and <a href="https://github.com/harveyl888">harveyl888</a> for the code.</p>
<p>Note that <code>url_var</code> and <code>click_callback</code> cannot be used at the same time.</p>
</div>
<div id="javascript-zoom-callback" class="section level3">
<h3>JavaScript zoom callback</h3>
<p>The <code>zoom_callback</code> argument is a character string defining a JavaScript function to be called when a zoom event is triggered. It must accept two arguments <code>xmin</code>, <code>xmax</code>, <code>ymin</code> and <code>ymax</code> (in this order), which give the new <code>x</code> and <code>y</code> domains after zooming.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg,
   <span class="dt">zoom_callback =</span> <span class="st">&quot;function(xmin, xmax, ymin, ymax) {</span>
<span class="st">    var zoom = '&lt;strong&gt;Zoom&lt;/strong&gt;&lt;br /&gt;xmin = ' + xmin + '&lt;br /&gt;xmax = ' + xmax + '&lt;br /&gt;ymin = ' + ymin + '&lt;br /&gt;ymax = ' + ymax;</span>
<span class="st">    document.getElementById('zoomExample').innerHTML = zoom;</span>
<span class="st">   }&quot;</span>)</code></pre></div>
<div id="htmlwidget-043d67719acc7372ef1e" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-043d67719acc7372ef1e">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":"function(xmin, xmax, ymin, ymax) {\n    var zoom = '<strong>Zoom<\/strong><br />xmin = ' + xmin + '<br />xmax = ' + xmax + '<br />ymin = ' + ymin + '<br />ymax = ' + ymax;\n    document.getElementById('zoomExample').innerHTML = zoom;\n   }","zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-ZIQUSILJ","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":["settings.zoom_callback"],"jsHooks":[]}</script>
<div id="zoomExample" style="font-size: 80%; background-color: #F9F9F9; padding: 5px; margin-left: 5em; width: 15em;">
<strong>Zoom</strong><br /> None yet !
</div>
</div>
<div id="javascript-init-callback" class="section level3">
<h3>JavaScript init callback</h3>
<p>The <code>init_callback</code> argument allows to pass a JavaScript function that will be applied after the plot has been created or updated, with the JavaScript scatter object as <code>this</code>.</p>
<p>This is not documented yet, and you’ll have to dig into the JS package code to use it. Please note that to access <code>d3</code> functions you’ll have to use the <code>d3v5</code> prefix.</p>
<p>Here is a bad but potentially useful example that formats the <code>x</code> axis as percentages :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg,
  <span class="dt">init_callback =</span> <span class="st">&quot;function() {</span>
<span class="st">    var scales = this.scales();</span>
<span class="st">    var svg = this.svg();</span>
<span class="st">    new_x_axis = scales.xAxis.tickFormat(d3v5.format(',.0%'));</span>
<span class="st">    svg.select('.x.axis').call(new_x_axis);</span>
<span class="st">  }&quot;</span>
)</code></pre></div>
<div id="htmlwidget-9c360ca1ed17a204d528" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-9c360ca1ed17a204d528">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":"function() {\n    var scales = this.scales();\n    var svg = this.svg();\n    new_x_axis = scales.xAxis.tickFormat(d3v5.format(',.0%'));\n    svg.select('.x.axis').call(new_x_axis);\n  }","zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-PZFEHRMT","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":["settings.init_callback"],"jsHooks":[]}</script>
</div>
</div>
<div id="utilities" class="section level2">
<h2>Utilities</h2>
<div id="gear-menu" class="section level3">
<h3>Gear menu</h3>
<p>The “gear menu” is a small menu which can be displayed by clicking on the “gear” icon on the top-right corner of the plot. It allows to reset the zoom, export the current graph to SVG, and toggle lasso selection.</p>
<p>It is displayed by default, but you can hide it with the <code>menu = FALSE</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">menu =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="htmlwidget-1d7e96cd1fe3d98e13e5" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-1d7e96cd1fe3d98e13e5">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":false,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-SPWMBNXC","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":false,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="lasso-selection-tool" class="section level3">
<h3>Lasso selection tool</h3>
<p>Thanks to the <a href="https://github.com/skokenes/D3-Lasso-Plugin">d3-lasso-plugin</a> integration made by @<a href="https://github.com/timelyportfolio">timelyportfolio</a>, you can select and highlight points with a lasso selection tool. To activate it, just add a <code>lasso = TRUE</code> argument. The tool is used by shift-clicking and dragging on the plot area (if it doesn’t activate, click on the chart first to give it focus).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>names &lt;-<span class="st"> </span><span class="kw">rownames</span>(mtcars)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names, <span class="dt">lasso =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-0bcb2deaf3ad973e5b11" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-0bcb2deaf3ad973e5b11">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-EVIWNDZO","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":true,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>To undo the selection, just shift-click again.</p>
<p>You can specify a custom JavaScript callback function to be called by passing it to the <code>lasso_callback</code> argument as a character string. This function should accept a <code>sel</code> argument, which is a d3 selection of selected points.</p>
<p>Here is an example which shows an alert with selected point labels :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>names &lt;-<span class="st"> </span><span class="kw">rownames</span>(mtcars)
<span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars,
          <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">lab =</span> names, 
          <span class="dt">lasso =</span> <span class="ot">TRUE</span>,
          <span class="dt">lasso_callback =</span> <span class="st">&quot;function(sel) {alert(sel.data().map(function(d) {return d.lab}).join('</span><span class="ch">\\</span><span class="st">n'));}&quot;</span>)</code></pre></div>
<div id="htmlwidget-7ba8d8920b1302610004" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-7ba8d8920b1302610004">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":null,"zoom_on_level":null,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-TFLLNKTN","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":true,"lasso_callback":"function(sel) {alert(sel.data().map(function(d) {return d.lab}).join('\\n'));}","dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":["settings.lasso_callback"],"jsHooks":[]}</script>
</div>
<div id="disabling-mousewheel-zoom" class="section level3">
<h3>Disabling mousewheel zoom</h3>
<p>You can also disable mouse wheel zooming (for example when it is interfering with page scrolling) by using the <code>disable_wheel = TRUE</code> argument.</p>
</div>
</div>
<div id="shiny-integration" class="section level2">
<h2>Shiny integration</h2>
<div id="sample-app-and-source-code" class="section level3">
<h3>Sample app and source code</h3>
<p>The <a href="http://data.nozav.org/app/scatterD3/">sample scatterD3 shiny app</a> allows you to see the different features described here. You can <a href="https://github.com/juba/scatterD3_shiny_app">check its source code on GitHub</a> for a better understanding of the different arguments.</p>
</div>
<div id="transitions" class="section level3">
<h3>Transitions</h3>
<p>Like every R HTML widget, shiny integration is straightforward. But as a D3 widget, <code>scatterD3</code> is <em>updatable</em> : changes in settings or data can be displayed via smooth transitions instead of a complete chart redraw, which can provide interesting visual clues.</p>
<p>For a small demonstration of these transitions, you can take a look at the <a href="http://data.nozav.org/app/scatterD3/">sample scatterD3 shiny app</a>.</p>
<p>Enabling transitions in your shiny app is quite simple, you just have to add the <code>transitions = TRUE</code> argument to your <code>scatterD3</code> calls in your shiny server code. There’s only one warning : if your shiny application may filter on your dataset rows via a form control, then you must provide a <code>key_var</code> variable that uniquely and persistently identify your rows.</p>
</div>
<div id="programmatic-zooming" class="section level3">
<h3>Programmatic zooming</h3>
<p>By passing the <code>zoom_on</code> and <code>zoom_on_level</code> arguments to <code>scatterD3</code>, you can programmatically zoom on specific coordinates :</p>
<ul>
<li><code>zoom_on</code> takes a vector of <code>x,y</code> coordinates to zoom on</li>
<li><code>zoom_on_level</code> takes a number, the zoom scale value</li>
</ul>
<p>When used outside of a shiny app, they just center the viewport on the specified point :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterD3</span>(<span class="dt">data =</span> mtcars, <span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">zoom_on =</span> <span class="kw">c</span>(<span class="fl">1.615</span>, <span class="fl">30.4</span>), <span class="dt">zoom_on_level =</span> <span class="dv">6</span>, <span class="dt">lab =</span> names)</code></pre></div>
<div id="htmlwidget-f7bae6fcce35371bf6c6" style="width:480px;height:288px;" class="scatterD3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f7bae6fcce35371bf6c6">{"x":{"data":{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"lab":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"key_var":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]},"settings":{"x_log":false,"y_log":false,"labels_size":10,"labels_positions":null,"point_size":64,"point_opacity":1,"opacities":null,"hover_size":1,"hover_opacity":null,"xlab":"wt","ylab":"mpg","has_labels":true,"col_lab":"NULL","col_continuous":false,"col_levels":null,"colors":null,"ellipses":false,"ellipses_data":[],"symbol_lab":"NULL","symbol_levels":null,"symbols":null,"size_range":[10,300],"size_lab":"NULL","sizes":null,"opacity_lab":"NULL","opacities.1":null,"unit_circle":false,"has_color_var":false,"has_symbol_var":false,"has_size_var":false,"has_opacity_var":false,"has_url_var":false,"has_legend":false,"has_tooltips":true,"tooltip_text":null,"tooltip_position_x":"right","tooltip_position_y":"bottom","has_custom_tooltips":false,"click_callback":null,"init_callback":null,"zoom_callback":null,"zoom_on":[1.615,30.4],"zoom_on_level":6,"disable_wheel":false,"fixed":false,"legend_width":150,"left_margin":30,"html_id":"scatterD3-XRIYSLTC","xlim":null,"ylim":null,"x_categorical":false,"y_categorical":false,"menu":true,"lasso":false,"lasso_callback":null,"dom_id_reset_zoom":"scatterD3-reset-zoom","dom_id_svg_export":"scatterD3-svg-export","dom_id_lasso_toggle":"scatterD3-lasso-toggle","transitions":false,"axes_font_size":"100%","legend_font_size":"100%","caption":null,"lines":{"slope":[0,null],"intercept":[0,0],"stroke_dasharray":[5,5]},"hashes":[]}},"evals":[],"jsHooks":[]}</script>
<p>Inside a shiny app, these arguments allow to zoom on a specific point programmatically with transitions. See the <a href="http://data.nozav.org/app/scatterD3/">sample scatterD3 shiny app</a> for a demonstration.</p>
</div>
<div id="additional-controls-reset-zoom-svg-export-lasso-toggle" class="section level3">
<h3>Additional controls : Reset zoom, SVG export, lasso toggle</h3>
<p>Furthermore, <code>scatterD3</code> provides some additional handlers for three interactive features : SVG export, zoom resetting and lasso selection. Those are already accessible via the “gear menu”, but you may want to replace it with custom form controls.</p>
<p>By default, you just have to give the following <code>id</code> to the corresponding form controls :</p>
<ul>
<li><code>#scatterD3-reset-zoom</code> : reset zoom to default on click</li>
<li><code>#scatterD3-svg-export</code> : link to download the currently displayed figure as an SVG file</li>
<li><code>#scatterD3-lasso-toggle</code> : toggle lasso selection</li>
</ul>
<p>If you are not happy with these ids, you can specify their names yourself with the arguments <code>dom_id_svg_export</code>, <code>dom_id_reset_zoom</code> and <code>dom_id_toggle</code>.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
